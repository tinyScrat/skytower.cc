/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/echarts@5.5.1/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{__extends as e}from"/npm/tslib@2.3.0/+esm";import*as t from"/npm/zrender@5.6.0/lib/zrender.js/+esm";import{registerPainter as r}from"/npm/zrender@5.6.0/lib/zrender.js/+esm";export{t as zrender};import*as a from"/npm/zrender@5.6.0/lib/core/util.js/+esm";import{isObject as i,isArray as n,createHashMap as o,each as s,assert as l,isString as u,isNumber as c,isStringSafe as v,map as f,indexOf as h,extend as d,isArrayLike as p,keys as g,retrieve2 as y,isFunction as m,defaults as x,hasOwn as _,trim as b,merge as S,clone as w,mixin as M,isTypedArray as I,filter as D,setAsPrimitive as T,bind as C,reduce as A,noop as L,eqNaN as k,inherits as P,curry as N,retrieve3 as O,retrieve as R,normalizeCssArray as E,concatArray as z,mergeAll as V,isDom as B,isRegExp as G}from"/npm/zrender@5.6.0/lib/core/util.js/+esm";export{a as zrUtil};import F from"/npm/zrender@5.6.0/lib/core/env.js/+esm";export{default as env}from"/npm/zrender@5.6.0/lib/core/env.js/+esm";import H from"/npm/zrender@5.6.0/lib/core/timsort.js/+esm";import W from"/npm/zrender@5.6.0/lib/core/Eventful.js/+esm";import U from"/npm/zrender@5.6.0/lib/graphic/Text.js/+esm";import*as Y from"/npm/zrender@5.6.0/lib/tool/color.js/+esm";import{liftColor as X,lerp as Z,modifyHSL as j,modifyAlpha as q,lift as K,parse as J,stringify as $}from"/npm/zrender@5.6.0/lib/tool/color.js/+esm";export{Y as color};import Q from"/npm/zrender@5.6.0/lib/graphic/Path.js/+esm";import*as ee from"/npm/zrender@5.6.0/lib/tool/path.js/+esm";import{clonePath as te}from"/npm/zrender@5.6.0/lib/tool/path.js/+esm";import*as re from"/npm/zrender@5.6.0/lib/core/matrix.js/+esm";import{invert as ae}from"/npm/zrender@5.6.0/lib/core/matrix.js/+esm";export{re as matrix};import*as ie from"/npm/zrender@5.6.0/lib/core/vector.js/+esm";import{applyTransform as ne}from"/npm/zrender@5.6.0/lib/core/vector.js/+esm";export{ie as vector};import oe,{TRANSFORMABLE_PROPS as se}from"/npm/zrender@5.6.0/lib/core/Transformable.js/+esm";import le from"/npm/zrender@5.6.0/lib/graphic/Image.js/+esm";import ue from"/npm/zrender@5.6.0/lib/graphic/Group.js/+esm";import ce from"/npm/zrender@5.6.0/lib/graphic/shape/Circle.js/+esm";import ve from"/npm/zrender@5.6.0/lib/graphic/shape/Ellipse.js/+esm";import fe from"/npm/zrender@5.6.0/lib/graphic/shape/Sector.js/+esm";import he from"/npm/zrender@5.6.0/lib/graphic/shape/Ring.js/+esm";import de from"/npm/zrender@5.6.0/lib/graphic/shape/Polygon.js/+esm";import pe from"/npm/zrender@5.6.0/lib/graphic/shape/Polyline.js/+esm";import ge from"/npm/zrender@5.6.0/lib/graphic/shape/Rect.js/+esm";import ye from"/npm/zrender@5.6.0/lib/graphic/shape/Line.js/+esm";import me from"/npm/zrender@5.6.0/lib/graphic/shape/BezierCurve.js/+esm";import xe from"/npm/zrender@5.6.0/lib/graphic/shape/Arc.js/+esm";import _e from"/npm/zrender@5.6.0/lib/graphic/CompoundPath.js/+esm";import be from"/npm/zrender@5.6.0/lib/graphic/LinearGradient.js/+esm";import Se from"/npm/zrender@5.6.0/lib/graphic/RadialGradient.js/+esm";import we from"/npm/zrender@5.6.0/lib/core/BoundingRect.js/+esm";import Me from"/npm/zrender@5.6.0/lib/core/OrientedBoundingRect.js/+esm";import Ie from"/npm/zrender@5.6.0/lib/core/Point.js/+esm";import De from"/npm/zrender@5.6.0/lib/graphic/IncrementalDisplayable.js/+esm";import*as Te from"/npm/zrender@5.6.0/lib/graphic/helper/subPixelOptimize.js/+esm";import{encodeHTML as Ce,transformLocalCoord as Ae}from"/npm/zrender@5.6.0/lib/core/dom.js/+esm";import{truncateText as Le}from"/npm/zrender@5.6.0/lib/graphic/helper/parseText.js/+esm";import ke from"/npm/zrender@5.6.0/lib/core/WeakMap.js/+esm";import Pe from"/npm/zrender@5.6.0/lib/core/LRU.js/+esm";import*as Ne from"/npm/zrender@5.6.0/lib/contain/text.js/+esm";import{calculateTextPosition as Oe,parsePercent as Re}from"/npm/zrender@5.6.0/lib/contain/text.js/+esm";import{brushSingle as Ee}from"/npm/zrender@5.6.0/lib/canvas/graphic.js/+esm";export{brushSingle as innerDrawElementOnCanvas}from"/npm/zrender@5.6.0/lib/canvas/graphic.js/+esm";import{platformApi as ze,setPlatformAPI as Ve}from"/npm/zrender@5.6.0/lib/core/platform.js/+esm";export{setPlatformAPI}from"/npm/zrender@5.6.0/lib/core/platform.js/+esm";import*as Be from"/npm/zrender@5.6.0/lib/contain/polygon.js/+esm";import Ge,{normalizeArcAngles as Fe}from"/npm/zrender@5.6.0/lib/core/PathProxy.js/+esm";import{normalizeRadian as He}from"/npm/zrender@5.6.0/lib/contain/util.js/+esm";import*as We from"/npm/zrender@5.6.0/lib/core/curve.js/+esm";import{quadraticProjectPoint as Ue,cubicProjectPoint as Ye,cubicRootAt as Xe,cubicAt as Ze}from"/npm/zrender@5.6.0/lib/core/curve.js/+esm";import je from"/npm/zrender@5.6.0/lib/svg/Painter.js/+esm";import qe from"/npm/zrender@5.6.0/lib/canvas/Painter.js/+esm";import*as Ke from"/npm/zrender@5.6.0/lib/core/event.js/+esm";import{addEventListener as Je,normalizeEvent as $e}from"/npm/zrender@5.6.0/lib/core/event.js/+esm";import{parseSVG as Qe,makeViewBoxTransform as et}from"/npm/zrender@5.6.0/lib/tool/parseSVG.js/+esm";import{parseXML as tt}from"/npm/zrender@5.6.0/lib/tool/parseXML.js/+esm";import rt from"/npm/zrender@5.6.0/lib/graphic/Displayable.js/+esm";import*as at from"/npm/zrender@5.6.0/lib/core/bbox.js/+esm";import*as it from"/npm/zrender@5.6.0/lib/contain/line.js/+esm";import*as nt from"/npm/zrender@5.6.0/lib/contain/quadratic.js/+esm";import{cloneValue as ot}from"/npm/zrender@5.6.0/lib/animation/Animator.js/+esm";import{isCombineMorphing as st,morphPath as lt,combineMorph as ut,separateMorph as ct}from"/npm/zrender@5.6.0/lib/tool/morphPath.js/+esm";var vt=1e-4;var ft=20;function ht(e){return e.replace(/^\s+|\s+$/g,"")}function dt(e,t,r,a){var i=t[0];var n=t[1];var o=r[0];var s=r[1];var l=n-i;var u=s-o;if(l===0){return u===0?o:(o+s)/2}if(a){if(l>0){if(e<=i){return o}else if(e>=n){return s}}else{if(e>=i){return o}else if(e<=n){return s}}}else{if(e===i){return o}if(e===n){return s}}return(e-i)/l*u+o}function pt(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}if(a.isString(e)){if(ht(e).match(/%$/)){return parseFloat(e)/100*t}return parseFloat(e)}return e==null?NaN:+e}function gt(e,t,r){if(t==null){t=10}t=Math.min(Math.max(0,t),ft);e=(+e).toFixed(t);return r?e:+e}function yt(e){e.sort((function(e,t){return e-t}));return e}function mt(e){e=+e;if(isNaN(e)){return 0}if(e>1e-14){var t=1;for(var r=0;r<15;r++,t*=10){if(Math.round(e*t)/t===e){return r}}}return xt(e)}function xt(e){var t=e.toString().toLowerCase();var r=t.indexOf("e");var a=r>0?+t.slice(r+1):0;var i=r>0?r:t.length;var n=t.indexOf(".");var o=n<0?0:i-1-n;return Math.max(0,o-a)}function _t(e,t){var r=Math.log;var a=Math.LN10;var i=Math.floor(r(e[1]-e[0])/a);var n=Math.round(r(Math.abs(t[1]-t[0]))/a);var o=Math.min(Math.max(-i+n,0),20);return!isFinite(o)?20:o}function bt(e,t,r){if(!e[t]){return 0}var a=St(e,r);return a[t]||0}function St(e,t){var r=a.reduce(e,(function(e,t){return e+(isNaN(t)?0:t)}),0);if(r===0){return[]}var i=Math.pow(10,t);var n=a.map(e,(function(e){return(isNaN(e)?0:e)/r*i*100}));var o=i*100;var s=a.map(n,(function(e){return Math.floor(e)}));var l=a.reduce(s,(function(e,t){return e+t}),0);var u=a.map(n,(function(e,t){return e-s[t]}));while(l<o){var c=Number.NEGATIVE_INFINITY;var v=null;for(var f=0,h=u.length;f<h;++f){if(u[f]>c){c=u[f];v=f}}++s[v];u[v]=0;++l}return a.map(s,(function(e){return e/i}))}function wt(e,t){var r=Math.max(mt(e),mt(t));var a=e+t;return r>ft?a:gt(a,r)}var Mt=9007199254740991;function It(e){var t=Math.PI*2;return(e%t+t)%t}function Dt(e){return e>-vt&&e<vt}var Tt=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Ct(e){if(e instanceof Date){return e}else if(a.isString(e)){var t=Tt.exec(e);if(!t){return new Date(NaN)}if(!t[8]){return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else{var r=+t[4]||0;if(t[8].toUpperCase()!=="Z"){r-=+t[8].slice(0,3)}return new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,r,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}}else if(e==null){return new Date(NaN)}return new Date(Math.round(e))}function At(e){return Math.pow(10,Lt(e))}function Lt(e){if(e===0){return 0}var t=Math.floor(Math.log(e)/Math.LN10);if(e/Math.pow(10,t)>=10){t++}return t}function kt(e,t){var r=Lt(e);var a=Math.pow(10,r);var i=e/a;var n;if(t){if(i<1.5){n=1}else if(i<2.5){n=2}else if(i<4){n=3}else if(i<7){n=5}else{n=10}}else{if(i<1){n=1}else if(i<2){n=2}else if(i<3){n=3}else if(i<5){n=5}else{n=10}}e=n*a;return r>=-20?+e.toFixed(r<0?-r:0):e}function Pt(e,t){var r=(e.length-1)*t+1;var a=Math.floor(r);var i=+e[a-1];var n=r-a;return n?i+n*(e[a]-i):i}function Nt(e){e.sort((function(e,t){return s(e,t,0)?-1:1}));var t=-Infinity;var r=1;for(var a=0;a<e.length;){var i=e[a].interval;var n=e[a].close;for(var o=0;o<2;o++){if(i[o]<=t){i[o]=t;n[o]=!o?1-r:1}t=i[o];r=n[o]}if(i[0]===i[1]&&n[0]*n[1]!==1){e.splice(a,1)}else{a++}}return e;function s(e,t,r){return e.interval[r]<t.interval[r]||e.interval[r]===t.interval[r]&&(e.close[r]-t.close[r]===(!r?1:-1)||!r&&s(e,t,1))}}function Ot(e){var t=parseFloat(e);return t==e&&(t!==0||!a.isString(e)||e.indexOf("x")<=0)?t:NaN}function Rt(e){return!isNaN(Ot(e))}function Et(){return Math.round(Math.random()*9)}function zt(e,t){if(t===0){return e}return zt(t,e%t)}function Vt(e,t){if(e==null){return t}if(t==null){return e}return e*t/zt(e,t)}var Bt="[ECharts] ";var Gt={};var Ft=typeof console!=="undefined"&&console.warn&&console.log;function Ht(e,t,r){if(Ft){if(r){if(Gt[t]){return}Gt[t]=true}console[e](Bt+t)}}function Wt(e,t){Ht("warn",e,t)}function Ut(e){throw new Error(e)}function Yt(e,t,r){return(t-e)*r+e}var Xt="series\0";var Zt="\0_ec_\0";function jt(e){return e instanceof Array?e:e==null?[]:[e]}function qt(e,t,r){if(e){e[t]=e[t]||{};e.emphasis=e.emphasis||{};e.emphasis[t]=e.emphasis[t]||{};for(var a=0,i=r.length;a<i;a++){var n=r[a];if(!e.emphasis[t].hasOwnProperty(n)&&e[t].hasOwnProperty(n)){e.emphasis[t][n]=e[t][n]}}}}var Kt=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Jt(e){return i(e)&&!n(e)&&!(e instanceof Date)?e.value:e}function $t(e){return i(e)&&!(e instanceof Array)}function Qt(e,t,r){var a=r==="normalMerge";var n=r==="replaceMerge";var l=r==="replaceAll";e=e||[];t=(t||[]).slice();var u=o();s(t,(function(e,r){if(!i(e)){t[r]=null;return}}));var c=er(e,u,r);if(a||n){tr(c,e,u,t)}if(a){rr(c,t)}if(a||n){ar(c,t,n)}else if(l){ir(c,t)}nr(c);return c}function er(e,t,r){var a=[];if(r==="replaceAll"){return a}for(var i=0;i<e.length;i++){var n=e[i];if(n&&n.id!=null){t.set(n.id,i)}a.push({existing:r==="replaceMerge"||cr(n)?null:n,newOption:null,keyInfo:null,brandNew:null})}return a}function tr(e,t,r,a){s(a,(function(i,n){if(!i||i.id==null){return}var o=sr(i.id);var s=r.get(o);if(s!=null){var u=e[s];l(!u.newOption,'Duplicated option on id "'+o+'".');u.newOption=i;u.existing=t[s];a[n]=null}}))}function rr(e,t){s(t,(function(r,a){if(!r||r.name==null){return}for(var i=0;i<e.length;i++){var n=e[i].existing;if(!e[i].newOption&&n&&(n.id==null||r.id==null)&&!cr(r)&&!cr(n)&&or("name",n,r)){e[i].newOption=r;t[a]=null;return}}}))}function ar(e,t,r){s(t,(function(t){if(!t){return}var a;var i=0;while((a=e[i])&&(a.newOption||cr(a.existing)||a.existing&&t.id!=null&&!or("id",t,a.existing))){i++}if(a){a.newOption=t;a.brandNew=r}else{e.push({newOption:t,brandNew:r,existing:null,keyInfo:null})}i++}))}function ir(e,t){s(t,(function(t){e.push({newOption:t,brandNew:true,existing:null,keyInfo:null})}))}function nr(e){var t=o();s(e,(function(e){var r=e.existing;r&&t.set(r.id,e)}));s(e,(function(e){var r=e.newOption;l(!r||r.id==null||!t.get(r.id)||t.get(r.id)===e,"id duplicates: "+(r&&r.id));r&&r.id!=null&&t.set(r.id,e);!e.keyInfo&&(e.keyInfo={})}));s(e,(function(e,r){var a=e.existing;var n=e.newOption;var o=e.keyInfo;if(!i(n)){return}o.name=n.name!=null?sr(n.name):a?a.name:Xt+r;if(a){o.id=sr(a.id)}else if(n.id!=null){o.id=sr(n.id)}else{var s=0;do{o.id="\0"+o.name+"\0"+s++}while(t.get(o.id))}t.set(o.id,e)}))}function or(e,t,r){var a=lr(t[e],null);var i=lr(r[e],null);return a!=null&&i!=null&&a===i}function sr(e){return lr(e,"")}function lr(e,t){if(e==null){return t}return u(e)?e:c(e)||v(e)?e+"":t}function ur(e){var t=e.name;return!!(t&&t.indexOf(Xt))}function cr(e){return e&&e.id!=null&&sr(e.id).indexOf(Zt)===0}function vr(e){return Zt+e}function fr(e,t,r){s(e,(function(e){var a=e.newOption;if(i(a)){e.keyInfo.mainType=t;e.keyInfo.subType=hr(t,a,e.existing,r)}}))}function hr(e,t,r,a){var i=t.type?t.type:r?r.subType:a.determineSubType(e,t);return i}function dr(e,t){var r={};var a={};i(e||[],r);i(t||[],a,r);return[n(r),n(a)];function i(e,t,r){for(var a=0,i=e.length;a<i;a++){var n=lr(e[a].seriesId,null);if(n==null){return}var o=jt(e[a].dataIndex);var s=r&&r[n];for(var l=0,u=o.length;l<u;l++){var c=o[l];if(s&&s[c]){s[c]=null}else{(t[n]||(t[n]={}))[c]=1}}}}function n(e,t){var r=[];for(var a in e){if(e.hasOwnProperty(a)&&e[a]!=null){if(t){r.push(+a)}else{var i=n(e[a],true);i.length&&r.push({seriesId:a,dataIndex:i})}}}return r}}function pr(e,t){if(t.dataIndexInside!=null){return t.dataIndexInside}else if(t.dataIndex!=null){return n(t.dataIndex)?f(t.dataIndex,(function(t){return e.indexOfRawIndex(t)})):e.indexOfRawIndex(t.dataIndex)}else if(t.name!=null){return n(t.name)?f(t.name,(function(t){return e.indexOfName(t)})):e.indexOfName(t.name)}}function gr(){var e="__ec_inner_"+yr++;return function(t){return t[e]||(t[e]={})}}var yr=Et();function mr(e,t,r){var a=xr(t,r),i=a.mainTypeSpecified,n=a.queryOptionMap,o=a.others;var s=o;var l=r?r.defaultMainType:null;if(!i&&l){n.set(l,{})}n.each((function(t,a){var i=Sr(e,a,t,{useDefault:l===a,enableAll:r&&r.enableAll!=null?r.enableAll:true,enableNone:r&&r.enableNone!=null?r.enableNone:true});s[a+"Models"]=i.models;s[a+"Model"]=i.models[0]}));return s}function xr(e,t){var r;if(u(e)){var a={};a[e+"Index"]=0;r=a}else{r=e}var i=o();var n={};var l=false;s(r,(function(e,r){if(r==="dataIndex"||r==="dataIndexInside"){n[r]=e;return}var a=r.match(/^(\w+)(Index|Id|Name)$/)||[];var o=a[1];var s=(a[2]||"").toLowerCase();if(!o||!s||t&&t.includeMainTypes&&h(t.includeMainTypes,o)<0){return}l=l||!!o;var u=i.get(o)||i.set(o,{});u[s]=e}));return{mainTypeSpecified:l,queryOptionMap:i,others:n}}var _r={useDefault:true,enableAll:false,enableNone:false};var br={useDefault:false,enableAll:true,enableNone:true};function Sr(e,t,r,a){a=a||_r;var i=r.index;var n=r.id;var o=r.name;var s={models:null,specified:i!=null||n!=null||o!=null};if(!s.specified){var u=void 0;s.models=a.useDefault&&(u=e.getComponent(t))?[u]:[];return s}if(i==="none"||i===false){l(a.enableNone,'`"none"` or `false` is not a valid value on index option.');s.models=[];return s}if(i==="all"){l(a.enableAll,'`"all"` is not a valid value on index option.');i=n=o=null}s.models=e.queryComponents({mainType:t,index:i,id:n,name:o});return s}function wr(e,t,r){e.setAttribute?e.setAttribute(t,r):e[t]=r}function Mr(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function Ir(e){if(e==="auto"){return F.domSupported?"html":"richText"}else{return e||"html"}}function Dr(e,t){var r=o();var a=[];s(e,(function(e){var i=t(e);(r.get(i)||(a.push(i),r.set(i,[]))).push(e)}));return{keys:a,buckets:r}}function Tr(e,t,r,a,i){var n=t==null||t==="auto";if(a==null){return a}if(c(a)){var o=Yt(r||0,a,i);return gt(o,n?Math.max(mt(r||0),mt(a)):t)}else if(u(a)){return i<1?r:a}else{var s=[];var l=r;var v=a;var f=Math.max(l?l.length:0,v.length);for(var h=0;h<f;++h){var d=e.getDimensionInfo(h);if(d&&d.type==="ordinal"){s[h]=(i<1&&l?l:v)[h]}else{var p=l&&l[h]?l[h]:0;var g=v[h];var o=Yt(p,g,i);s[h]=gt(o,n?Math.max(mt(p),mt(g)):t)}}return s}}var Cr=".";var Ar="___EC__COMPONENT__CONTAINER___";var Lr="___EC__EXTENDED_CLASS___";function kr(e){var t={main:"",sub:""};if(e){var r=e.split(Cr);t.main=r[0]||"";t.sub=r[1]||""}return t}function Pr(e){a.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function Nr(e){return!!(e&&e[Lr])}function Or(t,r){t.$constructor=t;t.extend=function(t){var r=this;var i;if(Rr(r)){i=function(t){e(r,t);function r(){return t.apply(this,arguments)||this}return r}(r)}else{i=function(){(t.$constructor||r).apply(this,arguments)};a.inherits(i,this)}a.extend(i.prototype,t);i[Lr]=true;i.extend=this.extend;i.superCall=Br;i.superApply=Gr;i.superClass=r;return i}}function Rr(e){return a.isFunction(e)&&/^class\s/.test(Function.prototype.toString.call(e))}function Er(e,t){e.extend=t.extend}var zr=Math.round(Math.random()*10);function Vr(e){var t=["__\0is_clz",zr++].join("_");e.prototype[t]=true;e.isInstance=function(e){return!!(e&&e[t])}}function Br(e,t){var r=[];for(var a=2;a<arguments.length;a++){r[a-2]=arguments[a]}return this.superClass.prototype[t].apply(e,r)}function Gr(e,t,r){return this.superClass.prototype[t].apply(e,r)}function Fr(e){var t={};e.registerClass=function(e){var a=e.type||e.prototype.type;if(a){Pr(a);e.prototype.type=a;var i=kr(a);if(!i.sub){t[i.main]=e}else if(i.sub!==Ar){var n=r(i);n[i.sub]=e}}return e};e.getClass=function(e,r,a){var i=t[e];if(i&&i[Ar]){i=r?i[r]:null}if(a&&!i){throw new Error(!r?e+"."+"type should be specified.":"Component "+e+"."+(r||"")+" is used but not imported.")}return i};e.getClassesByMainType=function(e){var r=kr(e);var i=[];var n=t[r.main];if(n&&n[Ar]){a.each(n,(function(e,t){t!==Ar&&i.push(e)}))}else{i.push(n)}return i};e.hasClass=function(e){var r=kr(e);return!!t[r.main]};e.getAllClassMainTypes=function(){var e=[];a.each(t,(function(t,r){e.push(r)}));return e};e.hasSubTypes=function(e){var r=kr(e);var a=t[r.main];return a&&a[Ar]};function r(e){var r=t[e.main];if(!r||!r[Ar]){r=t[e.main]={};r[Ar]=true}return r}}function Hr(e,t){for(var r=0;r<e.length;r++){if(!e[r][1]){e[r][1]=e[r][0]}}t=t||false;return function(r,i,n){var o={};for(var s=0;s<e.length;s++){var l=e[s][1];if(i&&a.indexOf(i,l)>=0||n&&a.indexOf(n,l)<0){continue}var u=r.getShallow(l,t);if(u!=null){o[e[s][0]]=u}}return o}}var Wr=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]];var Ur=Hr(Wr);var Yr=function(){function e(){}e.prototype.getAreaStyle=function(e,t){return Ur(this,e,t)};return e}();var Xr=gr();var Zr=function(e,t,r,a){if(a){var i=Xr(a);i.dataIndex=r;i.dataType=t;i.seriesIndex=e;i.ssrType="chart";if(a.type==="group"){a.traverse((function(a){var i=Xr(a);i.seriesIndex=e;i.dataIndex=r;i.dataType=t;i.ssrType="chart"}))}}};var jr=1;var qr={};var Kr=gr();var Jr=gr();var $r=0;var Qr=1;var ea=2;var ta=["emphasis","blur","select"];var ra=["normal","emphasis","blur","select"];var aa=10;var ia=9;var na="highlight";var oa="downplay";var sa="select";var la="unselect";var ua="toggleSelect";function ca(e){return e!=null&&e!=="none"}function va(e,t,r){if(e.onHoverStateChange&&(e.hoverState||0)!==r){e.onHoverStateChange(t)}e.hoverState=r}function fa(e){va(e,"emphasis",ea)}function ha(e){if(e.hoverState===ea){va(e,"normal",$r)}}function da(e){va(e,"blur",Qr)}function pa(e){if(e.hoverState===Qr){va(e,"normal",$r)}}function ga(e){e.selected=true}function ya(e){e.selected=false}function ma(e,t,r){t(e,r)}function xa(e,t,r){ma(e,t,r);e.isGroup&&e.traverse((function(e){ma(e,t,r)}))}function _a(e,t){switch(t){case"emphasis":e.hoverState=ea;break;case"normal":e.hoverState=$r;break;case"blur":e.hoverState=Qr;break;case"select":e.selected=true}}function ba(e,t,r,a){var i=e.style;var n={};for(var o=0;o<t.length;o++){var s=t[o];var l=i[s];n[s]=l==null?a&&a[s]:l}for(var o=0;o<e.animators.length;o++){var u=e.animators[o];if(u.__fromStateTransition&&u.__fromStateTransition.indexOf(r)<0&&u.targetName==="style"){u.saveTo(n,t)}}return n}function Sa(e,t,r,a){var i=r&&h(r,"select")>=0;var n=false;if(e instanceof Q){var o=Kr(e);var s=i?o.selectFill||o.normalFill:o.normalFill;var l=i?o.selectStroke||o.normalStroke:o.normalStroke;if(ca(s)||ca(l)){a=a||{};var u=a.style||{};if(u.fill==="inherit"){n=true;a=d({},a);u=d({},u);u.fill=s}else if(!ca(u.fill)&&ca(s)){n=true;a=d({},a);u=d({},u);u.fill=X(s)}else if(!ca(u.stroke)&&ca(l)){if(!n){a=d({},a);u=d({},u)}u.stroke=X(l)}a.style=u}}if(a){if(a.z2==null){if(!n){a=d({},a)}var c=e.z2EmphasisLift;a.z2=e.z2+(c!=null?c:aa)}}return a}function wa(e,t,r){if(r){if(r.z2==null){r=d({},r);var a=e.z2SelectLift;r.z2=e.z2+(a!=null?a:ia)}}return r}function Ma(e,t,r){var a=h(e.currentStates,t)>=0;var i=e.style.opacity;var n=!a?ba(e,["opacity"],t,{opacity:1}):null;r=r||{};var o=r.style||{};if(o.opacity==null){r=d({},r);o=d({opacity:a?i:n.opacity*.1},o);r.style=o}return r}function Ia(e,t){var r=this.states[e];if(this.style){if(e==="emphasis"){return Sa(this,e,t,r)}else if(e==="blur"){return Ma(this,e,r)}else if(e==="select"){return wa(this,e,r)}}return r}function Da(e){e.stateProxy=Ia;var t=e.getTextContent();var r=e.getTextGuideLine();if(t){t.stateProxy=Ia}if(r){r.stateProxy=Ia}}function Ta(e,t){!Ra(e,t)&&!e.__highByOuter&&xa(e,fa)}function Ca(e,t){!Ra(e,t)&&!e.__highByOuter&&xa(e,ha)}function Aa(e,t){e.__highByOuter|=1<<(t||0);xa(e,fa)}function La(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&xa(e,ha)}function ka(e){xa(e,da)}function Pa(e){xa(e,pa)}function Na(e){xa(e,ga)}function Oa(e){xa(e,ya)}function Ra(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function Ea(e){var t=e.getModel();var r=[];var a=[];t.eachComponent((function(t,i){var n=Jr(i);var o=t==="series";var s=o?e.getViewOfSeriesModel(i):e.getViewOfComponentModel(i);!o&&a.push(s);if(n.isBlured){s.group.traverse((function(e){pa(e)}));o&&r.push(i)}n.isBlured=false}));s(a,(function(e){if(e&&e.toggleBlurSeries){e.toggleBlurSeries(r,false,t)}}))}function za(e,t,r,a){var n=a.getModel();r=r||"coordinateSystem";function o(e,t){for(var r=0;r<t.length;r++){var a=e.getItemGraphicEl(t[r]);a&&Pa(a)}}if(e==null){return}if(!t||t==="none"){return}var s=n.getSeriesByIndex(e);var l=s.coordinateSystem;if(l&&l.master){l=l.master}var u=[];n.eachSeries((function(e){var n=s===e;var c=e.coordinateSystem;if(c&&c.master){c=c.master}var v=c&&l?c===l:n;if(!(r==="series"&&!n||r==="coordinateSystem"&&!v||t==="series"&&n)){var f=a.getViewOfSeriesModel(e);f.group.traverse((function(e){if(e.__highByOuter&&n&&t==="self"){return}da(e)}));if(p(t)){o(e.getData(),t)}else if(i(t)){var h=g(t);for(var d=0;d<h.length;d++){o(e.getData(h[d]),t[h[d]])}}u.push(e);Jr(e).isBlured=true}}));n.eachComponent((function(e,t){if(e==="series"){return}var r=a.getViewOfComponentModel(t);if(r&&r.toggleBlurSeries){r.toggleBlurSeries(u,true,n)}}))}function Va(e,t,r){if(e==null||t==null){return}var a=r.getModel().getComponent(e,t);if(!a){return}Jr(a).isBlured=true;var i=r.getViewOfComponentModel(a);if(!i||!i.focusBlurEnabled){return}i.group.traverse((function(e){da(e)}))}function Ba(e,t,r){var a=e.seriesIndex;var i=e.getData(t.dataType);if(!i){return}var o=pr(i,t);o=(n(o)?o[0]:o)||0;var s=i.getItemGraphicEl(o);if(!s){var l=i.count();var u=0;while(!s&&u<l){s=i.getItemGraphicEl(u++)}}if(s){var c=Xr(s);za(a,c.focus,c.blurScope,r)}else{var v=e.get(["emphasis","focus"]);var f=e.get(["emphasis","blurScope"]);if(v!=null){za(a,v,f,r)}}}function Ga(e,t,r,a){var i={focusSelf:false,dispatchers:null};if(e==null||e==="series"||t==null||r==null){return i}var n=a.getModel().getComponent(e,t);if(!n){return i}var o=a.getViewOfComponentModel(n);if(!o||!o.findHighDownDispatchers){return i}var s=o.findHighDownDispatchers(r);var l;for(var u=0;u<s.length;u++){if(Xr(s[u]).focus==="self"){l=true;break}}return{focusSelf:l,dispatchers:s}}function Fa(e,t,r){var a=Xr(e);var i=Ga(a.componentMainType,a.componentIndex,a.componentHighDownName,r),n=i.dispatchers,o=i.focusSelf;if(n){if(o){Va(a.componentMainType,a.componentIndex,r)}s(n,(function(e){return Ta(e,t)}))}else{za(a.seriesIndex,a.focus,a.blurScope,r);if(a.focus==="self"){Va(a.componentMainType,a.componentIndex,r)}Ta(e,t)}}function Ha(e,t,r){Ea(r);var a=Xr(e);var i=Ga(a.componentMainType,a.componentIndex,a.componentHighDownName,r).dispatchers;if(i){s(i,(function(e){return Ca(e,t)}))}else{Ca(e,t)}}function Wa(e,t,r){if(!ai(t)){return}var a=t.dataType;var i=e.getData(a);var o=pr(i,t);if(!n(o)){o=[o]}e[t.type===ua?"toggleSelect":t.type===sa?"select":"unselect"](o,a)}function Ua(e){var t=e.getAllData();s(t,(function(t){var r=t.data,a=t.type;r.eachItemGraphicEl((function(t,r){e.isSelected(r,a)?Na(t):Oa(t)}))}))}function Ya(e){var t=[];e.eachSeries((function(e){var r=e.getAllData();s(r,(function(r){r.data;var a=r.type;var i=e.getSelectedDataIndices();if(i.length>0){var n={dataIndex:i,seriesIndex:e.seriesIndex};if(a!=null){n.dataType=a}t.push(n)}}))}));return t}function Xa(e,t,r){Qa(e,true);xa(e,Da);qa(e,t,r)}function Za(e){Qa(e,false)}function ja(e,t,r,a){a?Za(e):Xa(e,t,r)}function qa(e,t,r){var a=Xr(e);if(t!=null){a.focus=t;a.blurScope=r}else if(a.focus){a.focus=null}}var Ka=["emphasis","blur","select"];var Ja={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function $a(e,t,r,a){r=r||"itemStyle";for(var i=0;i<Ka.length;i++){var n=Ka[i];var o=t.getModel([n,r]);var s=e.ensureState(n);s.style=a?a(o):o[Ja[r]]()}}function Qa(e,t){var r=t===false;var a=e;if(e.highDownSilentOnTouch){a.__highDownSilentOnTouch=e.highDownSilentOnTouch}if(!r||a.__highDownDispatcher){a.__highByOuter=a.__highByOuter||0;a.__highDownDispatcher=!r}}function ei(e){return!!(e&&e.__highDownDispatcher)}function ti(e,t,r){var a=Xr(e);a.componentMainType=t.mainType;a.componentIndex=t.componentIndex;a.componentHighDownName=r}function ri(e){var t=qr[e];if(t==null&&jr<=32){t=qr[e]=jr++}return t}function ai(e){var t=e.type;return t===sa||t===la||t===ua}function ii(e){var t=e.type;return t===na||t===oa}function ni(e){var t=Kr(e);t.normalFill=e.style.fill;t.normalStroke=e.style.stroke;var r=e.states.select||{};t.selectFill=r.style&&r.style.fill||null;t.selectStroke=r.style&&r.style.stroke||null}var oi=gr();function si(e,t,r,a,i){var n;if(t&&t.ecModel){var o=t.ecModel.getUpdatePayload();n=o&&o.animation}var s=t&&t.isAnimationEnabled();var l=e==="update";if(s){var u=void 0;var c=void 0;var v=void 0;if(a){u=y(a.duration,200);c=y(a.easing,"cubicOut");v=0}else{u=t.getShallow(l?"animationDurationUpdate":"animationDuration");c=t.getShallow(l?"animationEasingUpdate":"animationEasing");v=t.getShallow(l?"animationDelayUpdate":"animationDelay")}if(n){n.duration!=null&&(u=n.duration);n.easing!=null&&(c=n.easing);n.delay!=null&&(v=n.delay)}if(m(v)){v=v(r,i)}if(m(u)){u=u(r)}var f={duration:u||0,delay:v,easing:c};return f}else{return null}}function li(e,t,r,a,n,o,s){var l=false;var u;if(m(n)){s=o;o=n;n=null}else if(i(n)){o=n.cb;s=n.during;l=n.isFrom;u=n.removeOpt;n=n.dataIndex}var c=e==="leave";if(!c){t.stopAnimation("leave")}var v=si(e,a,n,c?u||{}:null,a&&a.getAnimationDelayParams?a.getAnimationDelayParams(t,n):null);if(v&&v.duration>0){var f=v.duration;var h=v.delay;var d=v.easing;var p={duration:f,delay:h||0,easing:d,done:o,force:!!o||!!s,setToFinal:!c,scope:e,during:s};l?t.animateFrom(r,p):t.animateTo(r,p)}else{t.stopAnimation();!l&&t.attr(r);s&&s(1);o&&o()}}function ui(e,t,r,a,i,n){li("update",e,t,r,a,i,n)}function ci(e,t,r,a,i,n){li("enter",e,t,r,a,i,n)}function vi(e){if(!e.__zr){return true}for(var t=0;t<e.animators.length;t++){var r=e.animators[t];if(r.scope==="leave"){return true}}return false}function fi(e,t,r,a,i,n){if(vi(e)){return}li("leave",e,t,r,a,i,n)}function hi(e,t,r,a){e.removeTextContent();e.removeTextGuideLine();fi(e,{style:{opacity:0}},t,r,a)}function di(e,t,r){function a(){e.parent&&e.parent.remove(e)}if(!e.isGroup){hi(e,t,r,a)}else{e.traverse((function(e){if(!e.isGroup){hi(e,t,r,a)}}))}}function pi(e){oi(e).oldStyle=e.style}function gi(e){return oi(e).oldStyle}var yi=Math.max;var mi=Math.min;var xi={};function _i(e){return Q.extend(e)}var bi=ee.extendFromString;function Si(e,t){return bi(e,t)}function wi(e,t){xi[e]=t}function Mi(e){if(xi.hasOwnProperty(e)){return xi[e]}}function Ii(e,t,r,a){var i=ee.createFromString(e,t);if(r){if(a==="center"){r=Ti(r,i.getBoundingRect())}Ai(i,r)}return i}function Di(e,t,r){var a=new le({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(e){if(r==="center"){var i={width:e.width,height:e.height};a.setStyle(Ti(t,i))}}});return a}function Ti(e,t){var r=t.width/t.height;var a=e.height*r;var i;if(a<=e.width){i=e.height}else{a=e.width;i=a/r}var n=e.x+e.width/2;var o=e.y+e.height/2;return{x:n-a/2,y:o-i/2,width:a,height:i}}var Ci=ee.mergePath;function Ai(e,t){if(!e.applyTransform){return}var r=e.getBoundingRect();var a=r.calculateTransform(t);e.applyTransform(a)}function Li(e,t){Te.subPixelOptimizeLine(e,e,{lineWidth:t});return e}function ki(e){Te.subPixelOptimizeRect(e.shape,e.shape,e.style);return e}var Pi=Te.subPixelOptimize;function Ni(e,t){var r=re.identity([]);while(e&&e!==t){re.mul(r,e.getLocalTransform(),r);e=e.parent}return r}function Oi(e,t,r){if(t&&!p(t)){t=oe.getLocalTransform(t)}if(r){t=re.invert([],t)}return ie.applyTransform([],e,t)}function Ri(e,t,r){var a=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]);var i=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]);var n=[e==="left"?-a:e==="right"?a:0,e==="top"?-i:e==="bottom"?i:0];n=Oi(n,t,r);return Math.abs(n[0])>Math.abs(n[1])?n[0]>0?"right":"left":n[1]>0?"bottom":"top"}function Ei(e){return!e.isGroup}function zi(e){return e.shape!=null}function Vi(e,t,r){if(!e||!t){return}function a(e){var t={};e.traverse((function(e){if(Ei(e)&&e.anid){t[e.anid]=e}}));return t}function i(e){var t={x:e.x,y:e.y,rotation:e.rotation};if(zi(e)){t.shape=d({},e.shape)}return t}var n=a(e);t.traverse((function(e){if(Ei(e)&&e.anid){var t=n[e.anid];if(t){var a=i(e);e.attr(i(t));ui(e,a,r,Xr(e).dataIndex)}}}))}function Bi(e,t){return f(e,(function(e){var r=e[0];r=yi(r,t.x);r=mi(r,t.x+t.width);var a=e[1];a=yi(a,t.y);a=mi(a,t.y+t.height);return[r,a]}))}function Gi(e,t){var r=yi(e.x,t.x);var a=mi(e.x+e.width,t.x+t.width);var i=yi(e.y,t.y);var n=mi(e.y+e.height,t.y+t.height);if(a>=r&&n>=i){return{x:r,y:i,width:a-r,height:n-i}}}function Fi(e,t,r){var a=d({rectHover:true},t);var i=a.style={strokeNoScale:true};r=r||{x:-1,y:-1,width:2,height:2};if(e){return e.indexOf("image://")===0?(i.image=e.slice(8),x(i,r),new le(a)):Ii(e.replace("path://",""),a,r,"center")}}function Hi(e,t,r,a,i){for(var n=0,o=i[i.length-1];n<i.length;n++){var s=i[n];if(Wi(e,t,r,a,s[0],s[1],o[0],o[1])){return true}o=s}}function Wi(e,t,r,a,i,n,o,s){var l=r-e;var u=a-t;var c=o-i;var v=s-n;var f=Ui(c,v,l,u);if(Yi(f)){return false}var h=e-i;var d=t-n;var p=Ui(h,d,l,u)/f;if(p<0||p>1){return false}var g=Ui(h,d,c,v)/f;if(g<0||g>1){return false}return true}function Ui(e,t,r,a){return e*a-r*t}function Yi(e){return e<=1e-6&&e>=-1e-6}function Xi(e){var t=e.itemTooltipOption;var r=e.componentModel;var a=e.itemName;var i=u(t)?{formatter:t}:t;var n=r.mainType;var o=r.componentIndex;var l={componentType:n,name:a,$vars:["name"]};l[n+"Index"]=o;var c=e.formatterParamsExtra;if(c){s(g(c),(function(e){if(!_(l,e)){l[e]=c[e];l.$vars.push(e)}}))}var v=Xr(e.el);v.componentMainType=n;v.componentIndex=o;v.tooltipConfig={name:a,option:x({content:a,encodeHTMLContent:true,formatterParams:l},i)}}function Zi(e,t){var r;if(e.isGroup){r=t(e)}if(!r){e.traverse(t)}}function ji(e,t){if(e){if(n(e)){for(var r=0;r<e.length;r++){Zi(e[r],t)}}else{Zi(e,t)}}}wi("circle",ce);wi("ellipse",ve);wi("sector",fe);wi("ring",he);wi("polygon",de);wi("polyline",pe);wi("rect",ge);wi("line",ye);wi("bezierCurve",me);wi("arc",xe);var qi=Object.freeze({__proto__:null,updateProps:ui,initProps:ci,removeElement:fi,removeElementWithFadeOut:di,isElementRemoved:vi,extendShape:_i,extendPath:Si,registerShape:wi,getShapeClass:Mi,makePath:Ii,makeImage:Di,mergePath:Ci,resizePath:Ai,subPixelOptimizeLine:Li,subPixelOptimizeRect:ki,subPixelOptimize:Pi,getTransform:Ni,applyTransform:Oi,transformDirection:Ri,groupTransition:Vi,clipPointsByRect:Bi,clipRectByRect:Gi,createIcon:Fi,linePolygonIntersect:Hi,lineLineIntersect:Wi,setTooltipConfig:Xi,traverseElements:ji,Group:ue,Image:le,Text:U,Circle:ce,Ellipse:ve,Sector:fe,Ring:he,Polygon:de,Polyline:pe,Rect:ge,Line:ye,BezierCurve:me,Arc:xe,IncrementalDisplayable:De,CompoundPath:_e,LinearGradient:be,RadialGradient:Se,BoundingRect:we,OrientedBoundingRect:Me,Point:Ie,Path:Q});var Ki={};function Ji(e,t){for(var r=0;r<ta.length;r++){var a=ta[r];var i=t[a];var n=e.ensureState(a);n.style=n.style||{};n.style.text=i}var o=e.currentStates.slice();e.clearStates(true);e.setStyle({text:t.normal});e.useStates(o,true)}function $i(e,t,r){var a=e.labelFetcher;var i=e.labelDataIndex;var n=e.labelDimIndex;var o=t.normal;var s;if(a){s=a.getFormattedLabel(i,"normal",null,n,o&&o.get("formatter"),r!=null?{interpolatedValue:r}:null)}if(s==null){s=m(e.defaultText)?e.defaultText(i,e,r):e.defaultText}var l={normal:s};for(var u=0;u<ta.length;u++){var c=ta[u];var v=t[c];l[c]=y(a?a.getFormattedLabel(i,c,null,n,v&&v.get("formatter")):null,s)}return l}function Qi(e,t,r,a){r=r||Ki;var i=e instanceof U;var n=false;for(var o=0;o<ra.length;o++){var s=t[ra[o]];if(s&&s.getShallow("show")){n=true;break}}var l=i?e:e.getTextContent();if(n){if(!i){if(!l){l=new U;e.setTextContent(l)}if(e.stateProxy){l.stateProxy=e.stateProxy}}var u=$i(r,t);var c=t.normal;var v=!!c.getShallow("show");var f=tn(c,a&&a.normal,r,false,!i);f.text=u.normal;if(!i){e.setTextConfig(rn(c,r,false))}for(var o=0;o<ta.length;o++){var h=ta[o];var s=t[h];if(s){var d=l.ensureState(h);var p=!!y(s.getShallow("show"),v);if(p!==v){d.ignore=!p}d.style=tn(s,a&&a[h],r,true,!i);d.style.text=u[h];if(!i){var g=e.ensureState(h);g.textConfig=rn(s,r,true)}}}l.silent=!!c.getShallow("silent");if(l.style.x!=null){f.x=l.style.x}if(l.style.y!=null){f.y=l.style.y}l.ignore=!v;l.useStyle(f);l.dirty();if(r.enableTextSetter){vn(l).setLabelText=function(e){var a=$i(r,t,e);Ji(l,a)}}}else if(l){l.ignore=true}e.dirty()}function en(e,t){t=t||"label";var r={normal:e.getModel(t)};for(var a=0;a<ta.length;a++){var i=ta[a];r[i]=e.getModel([i,t])}return r}function tn(e,t,r,a,i){var n={};an(n,e,r,a,i);t&&d(n,t);return n}function rn(e,t,r){t=t||{};var a={};var i;var n=e.getShallow("rotate");var o=y(e.getShallow("distance"),r?null:5);var s=e.getShallow("offset");i=e.getShallow("position")||(r?null:"inside");i==="outside"&&(i=t.defaultOutsidePosition||"top");if(i!=null){a.position=i}if(s!=null){a.offset=s}if(n!=null){n*=Math.PI/180;a.rotation=n}if(o!=null){a.distance=o}a.outsideFill=e.get("color")==="inherit"?t.inheritColor||null:"auto";return a}function an(e,t,r,a,i){r=r||Ki;var n=t.ecModel;var o=n&&n.option.textStyle;var s=nn(t);var l;if(s){l={};for(var u in s){if(s.hasOwnProperty(u)){var c=t.getModel(["rich",u]);un(l[u]={},c,o,r,a,i,false,true)}}}if(l){e.rich=l}var v=t.get("overflow");if(v){e.overflow=v}var f=t.get("minMargin");if(f!=null){e.margin=f}un(e,t,o,r,a,i,true,false)}function nn(e){var t;while(e&&e!==e.ecModel){var r=(e.option||Ki).rich;if(r){t=t||{};var a=g(r);for(var i=0;i<a.length;i++){var n=a[i];t[n]=1}}e=e.parentModel}return t}var on=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"];var sn=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"];var ln=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function un(e,t,r,a,i,n,o,s){r=!i&&r||Ki;var l=a&&a.inheritColor;var u=t.getShallow("color");var c=t.getShallow("textBorderColor");var v=y(t.getShallow("opacity"),r.opacity);if(u==="inherit"||u==="auto"){if(l){u=l}else{u=null}}if(c==="inherit"||c==="auto"){if(l){c=l}else{c=null}}if(!n){u=u||r.color;c=c||r.textBorderColor}if(u!=null){e.fill=u}if(c!=null){e.stroke=c}var f=y(t.getShallow("textBorderWidth"),r.textBorderWidth);if(f!=null){e.lineWidth=f}var h=y(t.getShallow("textBorderType"),r.textBorderType);if(h!=null){e.lineDash=h}var d=y(t.getShallow("textBorderDashOffset"),r.textBorderDashOffset);if(d!=null){e.lineDashOffset=d}if(!i&&v==null&&!s){v=a&&a.defaultOpacity}if(v!=null){e.opacity=v}if(!i&&!n){if(e.fill==null&&a.inheritColor){e.fill=a.inheritColor}}for(var p=0;p<on.length;p++){var g=on[p];var m=y(t.getShallow(g),r[g]);if(m!=null){e[g]=m}}for(var p=0;p<sn.length;p++){var g=sn[p];var m=t.getShallow(g);if(m!=null){e[g]=m}}if(e.verticalAlign==null){var x=t.getShallow("baseline");if(x!=null){e.verticalAlign=x}}if(!o||!a.disableBox){for(var p=0;p<ln.length;p++){var g=ln[p];var m=t.getShallow(g);if(m!=null){e[g]=m}}var _=t.getShallow("borderType");if(_!=null){e.borderDash=_}if((e.backgroundColor==="auto"||e.backgroundColor==="inherit")&&l){e.backgroundColor=l}if((e.borderColor==="auto"||e.borderColor==="inherit")&&l){e.borderColor=l}}}function cn(e,t){var r=t&&t.getModel("textStyle");return b([e.fontStyle||r&&r.getShallow("fontStyle")||"",e.fontWeight||r&&r.getShallow("fontWeight")||"",(e.fontSize||r&&r.getShallow("fontSize")||12)+"px",e.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var vn=gr();function fn(e,t,r,a){if(!e){return}var i=vn(e);i.prevValue=i.value;i.value=r;var n=t.normal;i.valueAnimation=n.get("valueAnimation");if(i.valueAnimation){i.precision=n.get("precision");i.defaultInterpolatedText=a;i.statesModels=t}}function hn(e,t,r,a,i){var n=vn(e);if(!n.valueAnimation||n.prevValue===n.value){return}var o=n.defaultInterpolatedText;var s=y(n.interpolatedValue,n.prevValue);var l=n.value;function u(a){var u=Tr(r,n.precision,s,l,a);n.interpolatedValue=a===1?null:u;var c=$i({labelDataIndex:t,labelFetcher:i,defaultText:o?o(u):u+""},n.statesModels,u);Ji(e,c)}e.percent=0;(n.prevValue==null?ci:ui)(e,{percent:1},a,t,null,u)}var dn=["textStyle","color"];var pn=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"];var gn=new U;var yn=function(){function e(){}e.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(dn):null)};e.prototype.getFont=function(){return cn({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)};e.prototype.getTextRect=function(e){var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")};for(var r=0;r<pn.length;r++){t[pn[r]]=this.getShallow(pn[r])}gn.useStyle(t);gn.update();return gn.getBoundingRect()};return e}();var mn=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]];var xn=Hr(mn);var _n=function(){function e(){}e.prototype.getLineStyle=function(e){return xn(this,e)};return e}();var bn=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]];var Sn=Hr(bn);var wn=function(){function e(){}e.prototype.getItemStyle=function(e,t){return Sn(this,e,t)};return e}();var Mn=function(){function e(e,t,r){this.parentModel=t;this.ecModel=r;this.option=e}e.prototype.init=function(e,t,r){};e.prototype.mergeOption=function(e,t){S(this.option,e,true)};e.prototype.get=function(e,t){if(e==null){return this.option}return this._doGet(this.parsePath(e),!t&&this.parentModel)};e.prototype.getShallow=function(e,t){var r=this.option;var a=r==null?r:r[e];if(a==null&&!t){var i=this.parentModel;if(i){a=i.getShallow(e)}}return a};e.prototype.getModel=function(t,r){var a=t!=null;var i=a?this.parsePath(t):null;var n=a?this._doGet(i):this.option;r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i));return new e(n,r,this.ecModel)};e.prototype.isEmpty=function(){return this.option==null};e.prototype.restoreData=function(){};e.prototype.clone=function(){var e=this.constructor;return new e(w(this.option))};e.prototype.parsePath=function(e){if(typeof e==="string"){return e.split(".")}return e};e.prototype.resolveParentPath=function(e){return e};e.prototype.isAnimationEnabled=function(){if(!F.node&&this.option){if(this.option.animation!=null){return!!this.option.animation}else if(this.parentModel){return this.parentModel.isAnimationEnabled()}}};e.prototype._doGet=function(e,t){var r=this.option;if(!e){return r}for(var a=0;a<e.length;a++){if(!e[a]){continue}r=r&&typeof r==="object"?r[e[a]]:null;if(r==null){break}}if(r==null&&t){r=t._doGet(this.resolveParentPath(e),t.parentModel)}return r};return e}();Or(Mn);Vr(Mn);M(Mn,_n);M(Mn,wn);M(Mn,Yr);M(Mn,yn);var In=Math.round(Math.random()*10);function Dn(e){return[e||"",In++].join("_")}function Tn(e){var t={};e.registerSubTypeDefaulter=function(e,r){var a=kr(e);t[a.main]=r};e.determineSubType=function(r,a){var i=a.type;if(!i){var n=kr(r).main;if(e.hasSubTypes(r)&&t[n]){i=t[n](a)}}return i}}function Cn(e,t){e.topologicalTravel=function(e,t,i,n){if(!e.length){return}var o=r(t);var s=o.graph;var l=o.noEntryList;var u={};a.each(e,(function(e){u[e]=true}));while(l.length){var c=l.pop();var v=s[c];var f=!!u[c];if(f){i.call(n,c,v.originalDeps.slice());delete u[c]}a.each(v.successor,f?d:h)}a.each(u,(function(){var e="";throw new Error(e)}));function h(e){s[e].entryCount--;if(s[e].entryCount===0){l.push(e)}}function d(e){u[e]=true;h(e)}};function r(e){var r={};var o=[];a.each(e,(function(s){var l=i(r,s);var u=l.originalDeps=t(s);var c=n(u,e);l.entryCount=c.length;if(l.entryCount===0){o.push(s)}a.each(c,(function(e){if(a.indexOf(l.predecessor,e)<0){l.predecessor.push(e)}var t=i(r,e);if(a.indexOf(t.successor,e)<0){t.successor.push(s)}}))}));return{graph:r,noEntryList:o}}function i(e,t){if(!e[t]){e[t]={predecessor:[],successor:[]}}return e[t]}function n(e,t){var r=[];a.each(e,(function(e){a.indexOf(t,e)>=0&&r.push(e)}));return r}}function An(e,t){return a.merge(a.merge({},e,true),t,true)}var Ln={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}};var kn={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图",custom:"自定义图表",chart:"图表"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var Pn="ZH";var Nn="EN";var On=Nn;var Rn={};var En={};var zn=!F.domSupported?On:function(){var e=(document.documentElement.lang||navigator.language||navigator.browserLanguage||On).toUpperCase();return e.indexOf(Pn)>-1?Pn:On}();function Vn(e,t){e=e.toUpperCase();En[e]=new Mn(t);Rn[e]=t}function Bn(e){if(u(e)){var t=Rn[e.toUpperCase()]||{};if(e===Pn||e===Nn){return w(t)}else{return S(w(t),w(Rn[On]),false)}}else{return S(w(e),w(Rn[On]),false)}}function Gn(e){return En[e]}function Fn(){return En[On]}Vn(Nn,Ln);Vn(Pn,kn);var Hn=1e3;var Wn=Hn*60;var Un=Wn*60;var Yn=Un*24;var Xn=Yn*365;var Zn={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"};var jn="{yyyy}-{MM}-{dd}";var qn={year:"{yyyy}",month:"{yyyy}-{MM}",day:jn,hour:jn+" "+Zn.hour,minute:jn+" "+Zn.minute,second:jn+" "+Zn.second,millisecond:Zn.none};var Kn=["year","month","day","hour","minute","second","millisecond"];var Jn=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function $n(e,t){e+="";return"0000".substr(0,t-e.length)+e}function Qn(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function eo(e){return e===Qn(e)}function to(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function ro(e,t,r,a){var i=Ct(e);var n=i[oo(r)]();var o=i[so(r)]()+1;var s=Math.floor((o-1)/3)+1;var l=i[lo(r)]();var u=i["get"+(r?"UTC":"")+"Day"]();var c=i[uo(r)]();var v=(c-1)%12+1;var f=i[co(r)]();var h=i[vo(r)]();var d=i[fo(r)]();var p=c>=12?"pm":"am";var g=p.toUpperCase();var y=a instanceof Mn?a:Gn(a||zn)||Fn();var m=y.getModel("time");var x=m.get("month");var _=m.get("monthAbbr");var b=m.get("dayOfWeek");var S=m.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,p+"").replace(/{A}/g,g+"").replace(/{yyyy}/g,n+"").replace(/{yy}/g,$n(n%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,x[o-1]).replace(/{MMM}/g,_[o-1]).replace(/{MM}/g,$n(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,$n(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,b[u]).replace(/{ee}/g,S[u]).replace(/{e}/g,u+"").replace(/{HH}/g,$n(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,$n(v+"",2)).replace(/{h}/g,v+"").replace(/{mm}/g,$n(f,2)).replace(/{m}/g,f+"").replace(/{ss}/g,$n(h,2)).replace(/{s}/g,h+"").replace(/{SSS}/g,$n(d,3)).replace(/{S}/g,d+"")}function ao(e,t,r,i,n){var o=null;if(a.isString(r)){o=r}else if(a.isFunction(r)){o=r(e.value,t,{level:e.level})}else{var s=a.extend({},Zn);if(e.level>0){for(var l=0;l<Kn.length;++l){s[Kn[l]]="{primary|"+s[Kn[l]]+"}"}}var u=r?r.inherit===false?r:a.defaults(r,s):s;var c=io(e.value,n);if(u[c]){o=u[c]}else if(u.inherit){var v=Jn.indexOf(c);for(var l=v-1;l>=0;--l){if(u[c]){o=u[c];break}}o=o||s.none}if(a.isArray(o)){var f=e.level==null?0:e.level>=0?e.level:o.length+e.level;f=Math.min(f,o.length-1);o=o[f]}}return ro(new Date(e.value),o,n,i)}function io(e,t){var r=Ct(e);var a=r[so(t)]()+1;var i=r[lo(t)]();var n=r[uo(t)]();var o=r[co(t)]();var s=r[vo(t)]();var l=r[fo(t)]();var u=l===0;var c=u&&s===0;var v=c&&o===0;var f=v&&n===0;var h=f&&i===1;var d=h&&a===1;if(d){return"year"}else if(h){return"month"}else if(f){return"day"}else if(v){return"hour"}else if(c){return"minute"}else if(u){return"second"}else{return"millisecond"}}function no(e,t,r){var i=a.isNumber(e)?Ct(e):e;t=t||io(e,r);switch(t){case"year":return i[oo(r)]();case"half-year":return i[so(r)]()>=6?1:0;case"quarter":return Math.floor((i[so(r)]()+1)/4);case"month":return i[so(r)]();case"day":return i[lo(r)]();case"half-day":return i[uo(r)]()/24;case"hour":return i[uo(r)]();case"minute":return i[co(r)]();case"second":return i[vo(r)]();case"millisecond":return i[fo(r)]()}}function oo(e){return e?"getUTCFullYear":"getFullYear"}function so(e){return e?"getUTCMonth":"getMonth"}function lo(e){return e?"getUTCDate":"getDate"}function uo(e){return e?"getUTCHours":"getHours"}function co(e){return e?"getUTCMinutes":"getMinutes"}function vo(e){return e?"getUTCSeconds":"getSeconds"}function fo(e){return e?"getUTCMilliseconds":"getMilliseconds"}function ho(e){return e?"setUTCFullYear":"setFullYear"}function po(e){return e?"setUTCMonth":"setMonth"}function go(e){return e?"setUTCDate":"setDate"}function yo(e){return e?"setUTCHours":"setHours"}function mo(e){return e?"setUTCMinutes":"setMinutes"}function xo(e){return e?"setUTCSeconds":"setSeconds"}function _o(e){return e?"setUTCMilliseconds":"setMilliseconds"}function bo(e,t,r,a,i,n,o,s){var l=new U({style:{text:e,font:t,align:r,verticalAlign:a,padding:i,rich:n,overflow:o?"truncate":null,lineHeight:s}});return l.getBoundingRect()}function So(e){if(!Rt(e)){return a.isString(e)?e:"-"}var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function wo(e,t){e=(e||"").toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()}));if(t&&e){e=e.charAt(0).toUpperCase()+e.slice(1)}return e}var Mo=a.normalizeCssArray;function Io(e,t,r){var i="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function n(e){return e&&a.trim(e)?e:"-"}function o(e){return!!(e!=null&&!isNaN(e)&&isFinite(e))}var s=t==="time";var l=e instanceof Date;if(s||l){var u=s?Ct(e):e;if(!isNaN(+u)){return ro(u,i,r)}else if(l){return"-"}}if(t==="ordinal"){return a.isStringSafe(e)?n(e):a.isNumber(e)?o(e)?e+"":"-":"-"}var c=Ot(e);return o(c)?So(c):a.isStringSafe(e)?n(e):typeof e==="boolean"?e+"":"-"}var Do=["a","b","c","d","e","f","g"];var To=function(e,t){return"{"+e+(t==null?"":t)+"}"};function Co(e,t,r){if(!a.isArray(t)){t=[t]}var i=t.length;if(!i){return""}var n=t[0].$vars||[];for(var o=0;o<n.length;o++){var s=Do[o];e=e.replace(To(s),To(s,0))}for(var l=0;l<i;l++){for(var u=0;u<n.length;u++){var c=t[l][n[u]];e=e.replace(To(Do[u],l),r?Ce(c):c)}}return e}function Ao(e,t,r){a.each(t,(function(t,a){e=e.replace("{"+a+"}",r?Ce(t):t)}));return e}function Lo(e,t){var r=a.isString(e)?{color:e,extraCssText:t}:e||{};var i=r.color;var n=r.type;t=r.extraCssText;var o=r.renderMode||"html";if(!i){return""}if(o==="html"){return n==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;'+"border-radius:4px;width:4px;height:4px;background-color:"+Ce(i)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;'+"border-radius:10px;width:10px;height:10px;background-color:"+Ce(i)+";"+(t||"")+'"></span>'}else{var s=r.markerId||"markerX";return{renderMode:o,content:"{"+s+"|}  ",style:n==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}}}function ko(e,t,r){if(e==="week"||e==="month"||e==="quarter"||e==="half-year"||e==="year"){e="MM-dd\nyyyy"}var a=Ct(t);var i=r?"getUTC":"get";var n=a[i+"FullYear"]();var o=a[i+"Month"]()+1;var s=a[i+"Date"]();var l=a[i+"Hours"]();var u=a[i+"Minutes"]();var c=a[i+"Seconds"]();var v=a[i+"Milliseconds"]();e=e.replace("MM",$n(o,2)).replace("M",o).replace("yyyy",n).replace("yy",$n(n%100+"",2)).replace("dd",$n(s,2)).replace("d",s).replace("hh",$n(l,2)).replace("h",l).replace("mm",$n(u,2)).replace("m",u).replace("ss",$n(c,2)).replace("s",c).replace("SSS",$n(v,3));return e}function Po(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e}function No(e,t){t=t||"transparent";return a.isString(e)?e:a.isObject(e)?e.colorStops&&(e.colorStops[0]||{}).color||t:t}function Oo(e,t){if(t==="_blank"||t==="blank"){var r=window.open();r.opener=null;r.location.href=e}else{window.open(e,t)}}var Ro=a.each;var Eo=["left","right","top","bottom","width","height"];var zo=[["width","left","right"],["height","top","bottom"]];function Vo(e,t,r,a,i){var n=0;var o=0;if(a==null){a=Infinity}if(i==null){i=Infinity}var s=0;t.eachChild((function(l,u){var c=l.getBoundingRect();var v=t.childAt(u+1);var f=v&&v.getBoundingRect();var h;var d;if(e==="horizontal"){var p=c.width+(f?-f.x+c.x:0);h=n+p;if(h>a||l.newline){n=0;h=p;o+=s+r;s=c.height}else{s=Math.max(s,c.height)}}else{var g=c.height+(f?-f.y+c.y:0);d=o+g;if(d>i||l.newline){n+=s+r;o=0;d=g;s=c.width}else{s=Math.max(s,c.width)}}if(l.newline){return}l.x=n;l.y=o;l.markRedraw();e==="horizontal"?n=h+r:o=d+r}))}var Bo=Vo;a.curry(Vo,"vertical");a.curry(Vo,"horizontal");function Go(e,t,r){var a=t.width;var i=t.height;var n=pt(e.left,a);var o=pt(e.top,i);var s=pt(e.right,a);var l=pt(e.bottom,i);(isNaN(n)||isNaN(parseFloat(e.left)))&&(n=0);(isNaN(s)||isNaN(parseFloat(e.right)))&&(s=a);(isNaN(o)||isNaN(parseFloat(e.top)))&&(o=0);(isNaN(l)||isNaN(parseFloat(e.bottom)))&&(l=i);r=Mo(r||0);return{width:Math.max(s-n-r[1]-r[3],0),height:Math.max(l-o-r[0]-r[2],0)}}function Fo(e,t,r){r=Mo(r||0);var a=t.width;var i=t.height;var n=pt(e.left,a);var o=pt(e.top,i);var s=pt(e.right,a);var l=pt(e.bottom,i);var u=pt(e.width,a);var c=pt(e.height,i);var v=r[2]+r[0];var f=r[1]+r[3];var h=e.aspect;if(isNaN(u)){u=a-s-f-n}if(isNaN(c)){c=i-l-v-o}if(h!=null){if(isNaN(u)&&isNaN(c)){if(h>a/i){u=a*.8}else{c=i*.8}}if(isNaN(u)){u=h*c}if(isNaN(c)){c=u/h}}if(isNaN(n)){n=a-s-u-f}if(isNaN(o)){o=i-l-c-v}switch(e.left||e.right){case"center":n=a/2-u/2-r[3];break;case"right":n=a-u-f;break}switch(e.top||e.bottom){case"middle":case"center":o=i/2-c/2-r[0];break;case"bottom":o=i-c-v;break}n=n||0;o=o||0;if(isNaN(u)){u=a-f-n-(s||0)}if(isNaN(c)){c=i-v-o-(l||0)}var d=new we(n+r[3],o+r[0],u,c);d.margin=r;return d}function Ho(e,t,r,i,n,o){var s=!n||!n.hv||n.hv[0];var l=!n||!n.hv||n.hv[1];var u=n&&n.boundingMode||"all";o=o||e;o.x=e.x;o.y=e.y;if(!s&&!l){return false}var c;if(u==="raw"){c=e.type==="group"?new we(0,0,+t.width||0,+t.height||0):e.getBoundingRect()}else{c=e.getBoundingRect();if(e.needLocalTransform()){var v=e.getLocalTransform();c=c.clone();c.applyTransform(v)}}var f=Fo(a.defaults({width:c.width,height:c.height},t),r,i);var h=s?f.x-c.x:0;var d=l?f.y-c.y:0;if(u==="raw"){o.x=h;o.y=d}else{o.x+=h;o.y+=d}if(o===e){e.markRedraw()}return true}function Wo(e,t){return e[zo[t][0]]!=null||e[zo[t][1]]!=null&&e[zo[t][2]]!=null}function Uo(e){var t=e.layoutMode||e.constructor.layoutMode;return a.isObject(t)?t:t?{type:t}:null}function Yo(e,t,r){var i=r&&r.ignoreSize;!a.isArray(i)&&(i=[i,i]);var n=s(zo[0],0);var o=s(zo[1],1);c(zo[0],e,n);c(zo[1],e,o);function s(r,a){var n={};var o=0;var s={};var c=0;var v=2;Ro(r,(function(t){s[t]=e[t]}));Ro(r,(function(e){l(t,e)&&(n[e]=s[e]=t[e]);u(n,e)&&o++;u(s,e)&&c++}));if(i[a]){if(u(t,r[1])){s[r[2]]=null}else if(u(t,r[2])){s[r[1]]=null}return s}if(c===v||!o){return s}else if(o>=v){return n}else{for(var f=0;f<r.length;f++){var h=r[f];if(!l(n,h)&&l(e,h)){n[h]=e[h];break}}return n}}function l(e,t){return e.hasOwnProperty(t)}function u(e,t){return e[t]!=null&&e[t]!=="auto"}function c(e,t,r){Ro(e,(function(e){t[e]=r[e]}))}}function Xo(e){return Zo({},e)}function Zo(e,t){t&&e&&Ro(Eo,(function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}));return e}var jo=gr();var qo=function(t){e(r,t);function r(e,r,a){var i=t.call(this,e,r,a)||this;i.uid=Dn("ec_cpt_model");return i}r.prototype.init=function(e,t,r){this.mergeDefaultAndTheme(e,r)};r.prototype.mergeDefaultAndTheme=function(e,t){var r=Uo(this);var i=r?Xo(e):{};var n=t.getTheme();a.merge(e,n.get(this.mainType));a.merge(e,this.getDefaultOption());if(r){Yo(e,i,r)}};r.prototype.mergeOption=function(e,t){a.merge(this.option,e,true);var r=Uo(this);if(r){Yo(this.option,e,r)}};r.prototype.optionUpdated=function(e,t){};r.prototype.getDefaultOption=function(){var e=this.constructor;if(!Nr(e)){return e.defaultOption}var t=jo(this);if(!t.defaultOption){var r=[];var i=e;while(i){var n=i.prototype.defaultOption;n&&r.push(n);i=i.superClass}var o={};for(var s=r.length-1;s>=0;s--){o=a.merge(o,r[s],true)}t.defaultOption=o}return t.defaultOption};r.prototype.getReferringComponents=function(e,t){var r=e+"Index";var a=e+"Id";return Sr(this.ecModel,e,{index:this.get(r,true),id:this.get(a,true)},t)};r.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}};r.prototype.getZLevelKey=function(){return""};r.prototype.setZLevel=function(e){this.option.zlevel=e};r.protoInitialize=function(){var e=r.prototype;e.type="component";e.id="";e.name="";e.mainType="";e.subType="";e.componentIndex=0}();return r}(Mn);Er(qo,Mn);Fr(qo);Tn(qo);Cn(qo,Ko);function Ko(e){var t=[];a.each(qo.getClassesByMainType(e),(function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}));t=a.map(t,(function(e){return kr(e).main}));if(e!=="dataset"&&a.indexOf(t,"dataset")<=0){t.unshift("dataset")}return t}var Jo="";if(typeof navigator!=="undefined"){Jo=navigator.platform||""}var $o="rgba(0, 0, 0, 0.2)";var Qo={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:$o,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:$o,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:$o,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:$o,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:$o,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:$o,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Jo.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:false};var es=o(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]);var ts="original";var rs="arrayRows";var as="objectRows";var is="keyedColumns";var ns="typedArray";var os="unknown";var ss="column";var ls="row";var us={Must:1,Might:2,Not:3};var cs=gr();function vs(e){cs(e).datasetMap=o()}function fs(e,t,r){var a={};var n=ds(t);if(!n||!e){return a}var o=[];var l=[];var u=t.ecModel;var c=cs(u).datasetMap;var v=n.uid+"_"+r.seriesLayoutBy;var f;var h;e=e.slice();s(e,(function(t,r){var n=i(t)?t:e[r]={name:t};if(n.type==="ordinal"&&f==null){f=r;h=g(n)}a[n.name]=[]}));var d=c.get(v)||c.set(v,{categoryWayDim:h,valueWayDim:0});s(e,(function(e,t){var r=e.name;var i=g(e);if(f==null){var n=d.valueWayDim;p(a[r],n,i);p(l,n,i);d.valueWayDim+=i}else if(f===t){p(a[r],0,i);p(o,0,i)}else{var n=d.categoryWayDim;p(a[r],n,i);p(l,n,i);d.categoryWayDim+=i}}));function p(e,t,r){for(var a=0;a<r;a++){e.push(t+a)}}function g(e){var t=e.dimsDef;return t?t.length:1}o.length&&(a.itemName=o);l.length&&(a.seriesName=l);return a}function hs(e,t,r){var a={};var n=ds(e);if(!n){return a}var o=t.sourceFormat;var l=t.dimensionsDefine;var u;if(o===as||o===is){s(l,(function(e,t){if((i(e)?e.name:e)==="name"){u=t}}))}var c=function(){var e={};var a={};var i=[];for(var n=0,s=Math.min(5,r);n<s;n++){var c=ys(t.data,o,t.seriesLayoutBy,l,t.startIndex,n);i.push(c);var v=c===us.Not;if(v&&e.v==null&&n!==u){e.v=n}if(e.n==null||e.n===e.v||!v&&i[e.n]===us.Not){e.n=n}if(f(e)&&i[e.n]!==us.Not){return e}if(!v){if(c===us.Might&&a.v==null&&n!==u){a.v=n}if(a.n==null||a.n===a.v){a.n=n}}}function f(e){return e.v!=null&&e.n!=null}return f(e)?e:f(a)?a:null}();if(c){a.value=[c.v];var v=u!=null?u:c.n;a.itemName=[v];a.seriesName=[v]}return a}function ds(e){var t=e.get("data",true);if(!t){return Sr(e.ecModel,"dataset",{index:e.get("datasetIndex",true),id:e.get("datasetId",true)},_r).models[0]}}function ps(e){if(!e.get("transform",true)&&!e.get("fromTransformResult",true)){return[]}return Sr(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",true),id:e.get("fromDatasetId",true)},_r).models}function gs(e,t){return ys(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function ys(e,t,r,a,o,s){var l;var c=5;if(I(e)){return us.Not}var v;var f;if(a){var h=a[s];if(i(h)){v=h.name;f=h.type}else if(u(h)){v=h}}if(f!=null){return f==="ordinal"?us.Must:us.Not}if(t===rs){var d=e;if(r===ls){var p=d[s];for(var g=0;g<(p||[]).length&&g<c;g++){if((l=w(p[o+g]))!=null){return l}}}else{for(var g=0;g<d.length&&g<c;g++){var y=d[o+g];if(y&&(l=w(y[s]))!=null){return l}}}}else if(t===as){var m=e;if(!v){return us.Not}for(var g=0;g<m.length&&g<c;g++){var x=m[g];if(x&&(l=w(x[v]))!=null){return l}}}else if(t===is){var _=e;if(!v){return us.Not}var p=_[v];if(!p||I(p)){return us.Not}for(var g=0;g<p.length&&g<c;g++){if((l=w(p[g]))!=null){return l}}}else if(t===ts){var b=e;for(var g=0;g<b.length&&g<c;g++){var x=b[g];var S=Jt(x);if(!n(S)){return us.Not}if((l=w(S[s]))!=null){return l}}}function w(e){var t=u(e);if(e!=null&&Number.isFinite(Number(e))&&e!==""){return t?us.Might:us.Not}else if(t&&e!=="-"){return us.Must}}return us.Not}var ms=o();function xs(e,t){l(ms.get(e)==null&&t);ms.set(e,t)}function _s(e,t,r){var a=ms.get(t);if(!a){return r}var i=a(e);if(!i){return r}return r.concat(i)}var bs=gr();var Ss=gr();var ws=function(){function e(){}e.prototype.getColorFromPalette=function(e,t,r){var a=jt(this.get("color",true));var i=this.get("colorLayer",true);return Ds(this,bs,a,i,e,t,r)};e.prototype.clearColorPalette=function(){Ts(this,bs)};return e}();function Ms(e,t,r,a){var i=jt(e.get(["aria","decal","decals"]));return Ds(e,Ss,i,null,t,r,a)}function Is(e,t){var r=e.length;for(var a=0;a<r;a++){if(e[a].length>t){return e[a]}}return e[r-1]}function Ds(e,t,r,a,i,n,o){n=n||e;var s=t(n);var l=s.paletteIdx||0;var u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(i)){return u[i]}var c=o==null||!a?r:Is(a,o);c=c||r;if(!c||!c.length){return}var v=c[l];if(i){u[i]=v}s.paletteIdx=(l+1)%c.length;return v}function Ts(e,t){t(e).paletteIdx=0;t(e).paletteNameMap={}}var Cs;var As;var Ls;var ks="\0_ec_inner";var Ps=1;var Ns=function(t){e(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}r.prototype.init=function(e,t,r,a,i,n){a=a||{};this.option=null;this._theme=new Mn(a);this._locale=new Mn(i);this._optionManager=n};r.prototype.setOption=function(e,t,r){var a=Vs(t);this._optionManager.setOption(e,r,a);this._resetOption(null,a)};r.prototype.resetOption=function(e,t){return this._resetOption(e,Vs(t))};r.prototype._resetOption=function(e,t){var r=false;var a=this._optionManager;if(!e||e==="recreate"){var i=a.mountOption(e==="recreate");if(!this.option||e==="recreate"){Ls(this,i)}else{this.restoreData();this._mergeOption(i,t)}r=true}if(e==="timeline"||e==="media"){this.restoreData()}if(!e||e==="recreate"||e==="timeline"){var n=a.getTimelineOption(this);if(n){r=true;this._mergeOption(n,t)}}if(!e||e==="recreate"||e==="media"){var o=a.getMediaOption(this);if(o.length){s(o,(function(e){r=true;this._mergeOption(e,t)}),this)}}return r};r.prototype.mergeOption=function(e){this._mergeOption(e,null)};r.prototype._mergeOption=function(e,t){var r=this.option;var a=this._componentsMap;var i=this._componentsCount;var n=[];var l=o();var u=t&&t.replaceMergeMainTypeMap;vs(this);s(e,(function(e,t){if(e==null){return}if(!qo.hasClass(t)){r[t]=r[t]==null?w(e):S(r[t],e,true)}else if(t){n.push(t);l.set(t,true)}}));if(u){u.each((function(e,t){if(qo.hasClass(t)&&!l.get(t)){n.push(t);l.set(t,true)}}))}qo.topologicalTravel(n,qo.getAllClassMainTypes(),c,this);function c(t){var n=_s(this,t,jt(e[t]));var o=a.get(t);var l=!o?"replaceAll":u&&u.get(t)?"replaceMerge":"normalMerge";var c=Qt(o,n,l);fr(c,t,qo);r[t]=null;a.set(t,null);i.set(t,0);var v=[];var f=[];var h=0;var p;s(c,(function(e,r){var a=e.existing;var i=e.newOption;if(!i){if(a){a.mergeOption({},this);a.optionUpdated({},false)}}else{var n=t==="series";var o=qo.getClass(t,e.keyInfo.subType,!n);if(!o){return}if(t==="tooltip"){if(p){return}p=true}if(a&&a.constructor===o){a.name=e.keyInfo.name;a.mergeOption(i,this);a.optionUpdated(i,false)}else{var s=d({componentIndex:r},e.keyInfo);a=new o(i,this,this,s);d(a,s);if(e.brandNew){a.__requireNewView=true}a.init(i,this,this);a.optionUpdated(null,true)}}if(a){v.push(a.option);f.push(a);h++}else{v.push(void 0);f.push(void 0)}}),this);r[t]=v;a.set(t,f);i.set(t,h);if(t==="series"){Cs(this)}}if(!this._seriesIndices){Cs(this)}};r.prototype.getOption=function(){var e=w(this.option);s(e,(function(t,r){if(qo.hasClass(r)){var a=jt(t);var i=a.length;var n=false;for(var o=i-1;o>=0;o--){if(a[o]&&!cr(a[o])){n=true}else{a[o]=null;!n&&i--}}a.length=i;e[r]=a}}));delete e[ks];return e};r.prototype.getTheme=function(){return this._theme};r.prototype.getLocaleModel=function(){return this._locale};r.prototype.setUpdatePayload=function(e){this._payload=e};r.prototype.getUpdatePayload=function(){return this._payload};r.prototype.getComponent=function(e,t){var r=this._componentsMap.get(e);if(r){var a=r[t||0];if(a){return a}else if(t==null){for(var i=0;i<r.length;i++){if(r[i]){return r[i]}}}}};r.prototype.queryComponents=function(e){var t=e.mainType;if(!t){return[]}var r=e.index;var a=e.id;var i=e.name;var n=this._componentsMap.get(t);if(!n||!n.length){return[]}var o;if(r!=null){o=[];s(jt(r),(function(e){n[e]&&o.push(n[e])}))}else if(a!=null){o=Es("id",a,n)}else if(i!=null){o=Es("name",i,n)}else{o=D(n,(function(e){return!!e}))}return zs(o,e)};r.prototype.findComponents=function(e){var t=e.query;var r=e.mainType;var a=n(t);var i=a?this.queryComponents(a):D(this._componentsMap.get(r),(function(e){return!!e}));return o(zs(i,e));function n(e){var t=r+"Index";var a=r+"Id";var i=r+"Name";return e&&(e[t]!=null||e[a]!=null||e[i]!=null)?{mainType:r,index:e[t],id:e[a],name:e[i]}:null}function o(t){return e.filter?D(t,e.filter):t}};r.prototype.eachComponent=function(e,t,r){var a=this._componentsMap;if(m(e)){var n=t;var o=e;a.each((function(e,t){for(var r=0;e&&r<e.length;r++){var a=e[r];a&&o.call(n,t,a,a.componentIndex)}}))}else{var s=u(e)?a.get(e):i(e)?this.findComponents(e):null;for(var l=0;s&&l<s.length;l++){var c=s[l];c&&t.call(r,c,c.componentIndex)}}};r.prototype.getSeriesByName=function(e){var t=lr(e,null);return D(this._componentsMap.get("series"),(function(e){return!!e&&t!=null&&e.name===t}))};r.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]};r.prototype.getSeriesByType=function(e){return D(this._componentsMap.get("series"),(function(t){return!!t&&t.subType===e}))};r.prototype.getSeries=function(){return D(this._componentsMap.get("series"),(function(e){return!!e}))};r.prototype.getSeriesCount=function(){return this._componentsCount.get("series")};r.prototype.eachSeries=function(e,t){As(this);s(this._seriesIndices,(function(r){var a=this._componentsMap.get("series")[r];e.call(t,a,r)}),this)};r.prototype.eachRawSeries=function(e,t){s(this._componentsMap.get("series"),(function(r){r&&e.call(t,r,r.componentIndex)}))};r.prototype.eachSeriesByType=function(e,t,r){As(this);s(this._seriesIndices,(function(a){var i=this._componentsMap.get("series")[a];if(i.subType===e){t.call(r,i,a)}}),this)};r.prototype.eachRawSeriesByType=function(e,t,r){return s(this.getSeriesByType(e),t,r)};r.prototype.isSeriesFiltered=function(e){As(this);return this._seriesIndicesMap.get(e.componentIndex)==null};r.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()};r.prototype.filterSeries=function(e,t){As(this);var r=[];s(this._seriesIndices,(function(a){var i=this._componentsMap.get("series")[a];e.call(t,i,a)&&r.push(a)}),this);this._seriesIndices=r;this._seriesIndicesMap=o(r)};r.prototype.restoreData=function(e){Cs(this);var t=this._componentsMap;var r=[];t.each((function(e,t){if(qo.hasClass(t)){r.push(t)}}));qo.topologicalTravel(r,qo.getAllClassMainTypes(),(function(r){s(t.get(r),(function(t){if(t&&(r!=="series"||!Os(t,e))){t.restoreData()}}))}))};r.internalField=function(){Cs=function(e){var t=e._seriesIndices=[];s(e._componentsMap.get("series"),(function(e){e&&t.push(e.componentIndex)}));e._seriesIndicesMap=o(t)};As=function(e){};Ls=function(e,t){e.option={};e.option[ks]=Ps;e._componentsMap=o({series:[]});e._componentsCount=o();var r=t.aria;if(i(r)&&r.enabled==null){r.enabled=true}Rs(t,e._theme.option);S(t,Qo,false);e._mergeOption(t,null)}}();return r}(Mn);function Os(e,t){if(t){var r=t.seriesIndex;var a=t.seriesId;var i=t.seriesName;return r!=null&&e.componentIndex!==r||a!=null&&e.id!==a||i!=null&&e.name!==i}}function Rs(e,t){var r=e.color&&!e.colorLayer;s(t,(function(t,a){if(a==="colorLayer"&&r){return}if(!qo.hasClass(a)){if(typeof t==="object"){e[a]=!e[a]?w(t):S(e[a],t,false)}else{if(e[a]==null){e[a]=t}}}}))}function Es(e,t,r){if(n(t)){var a=o();s(t,(function(e){if(e!=null){var t=lr(e,null);t!=null&&a.set(e,true)}}));return D(r,(function(t){return t&&a.get(t[e])}))}else{var i=lr(t,null);return D(r,(function(t){return t&&i!=null&&t[e]===i}))}}function zs(e,t){return t.hasOwnProperty("subType")?D(e,(function(e){return e&&e.subType===t.subType})):e}function Vs(e){var t=o();e&&s(jt(e.replaceMerge),(function(e){t.set(e,true)}));return{replaceMergeMainTypeMap:t}}M(Ns,ws);var Bs=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];var Gs=function(){function e(e){a.each(Bs,(function(t){this[t]=a.bind(e[t],e)}),this)}return e}();var Fs={};var Hs=function(){function e(){this._coordinateSystems=[]}e.prototype.create=function(e,t){var r=[];a.each(Fs,(function(a,i){var n=a.create(e,t);r=r.concat(n||[])}));this._coordinateSystems=r};e.prototype.update=function(e,t){a.each(this._coordinateSystems,(function(r){r.update&&r.update(e,t)}))};e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()};e.register=function(e,t){Fs[e]=t};e.get=function(e){return Fs[e]};return e}();var Ws=/^(min|max)?(.+)$/;var Us=function(){function e(e){this._timelineOptions=[];this._mediaList=[];this._currentMediaIndices=[];this._api=e}e.prototype.setOption=function(e,t,r){if(e){s(jt(e.series),(function(e){e&&e.data&&I(e.data)&&T(e.data)}));s(jt(e.dataset),(function(e){e&&e.source&&I(e.source)&&T(e.source)}))}e=w(e);var a=this._optionBackup;var i=Ys(e,t,!a);this._newBaseOption=i.baseOption;if(a){if(i.timelineOptions.length){a.timelineOptions=i.timelineOptions}if(i.mediaList.length){a.mediaList=i.mediaList}if(i.mediaDefault){a.mediaDefault=i.mediaDefault}}else{this._optionBackup=i}};e.prototype.mountOption=function(e){var t=this._optionBackup;this._timelineOptions=t.timelineOptions;this._mediaList=t.mediaList;this._mediaDefault=t.mediaDefault;this._currentMediaIndices=[];return w(e?t.baseOption:this._newBaseOption)};e.prototype.getTimelineOption=function(e){var t;var r=this._timelineOptions;if(r.length){var a=e.getComponent("timeline");if(a){t=w(r[a.getCurrentIndex()])}}return t};e.prototype.getMediaOption=function(e){var t=this._api.getWidth();var r=this._api.getHeight();var a=this._mediaList;var i=this._mediaDefault;var n=[];var o=[];if(!a.length&&!i){return o}for(var s=0,l=a.length;s<l;s++){if(Xs(a[s].query,t,r)){n.push(s)}}if(!n.length&&i){n=[-1]}if(n.length&&!js(n,this._currentMediaIndices)){o=f(n,(function(e){return w(e===-1?i.option:a[e].option)}))}this._currentMediaIndices=n;return o};return e}();function Ys(e,t,r){var a=[];var i;var o;var l=e.baseOption;var u=e.timeline;var c=e.options;var v=e.media;var f=!!e.media;var h=!!(c||u||l&&l.timeline);if(l){o=l;if(!o.timeline){o.timeline=u}}else{if(h||f){e.options=e.media=null}o=e}if(f){if(n(v)){s(v,(function(e){if(e&&e.option){if(e.query){a.push(e)}else if(!i){i=e}}}))}}d(o);s(c,(function(e){return d(e)}));s(a,(function(e){return d(e.option)}));function d(e){s(t,(function(t){t(e,r)}))}return{baseOption:o,timelineOptions:c||[],mediaDefault:i,mediaList:a}}function Xs(e,t,r){var a={width:t,height:r,aspectratio:t/r};var i=true;s(e,(function(e,t){var r=t.match(Ws);if(!r||!r[1]||!r[2]){return}var n=r[1];var o=r[2].toLowerCase();if(!Zs(a[o],e,n)){i=false}}));return i}function Zs(e,t,r){if(r==="min"){return e>=t}else if(r==="max"){return e<=t}else{return e===t}}function js(e,t){return e.join(",")===t.join(",")}var qs=a.each;var Ks=a.isObject;var Js=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function $s(e){var t=e&&e.itemStyle;if(!t){return}for(var r=0,i=Js.length;r<i;r++){var n=Js[r];var o=t.normal;var s=t.emphasis;if(o&&o[n]){e[n]=e[n]||{};if(!e[n].normal){e[n].normal=o[n]}else{a.merge(e[n].normal,o[n])}o[n]=null}if(s&&s[n]){e[n]=e[n]||{};if(!e[n].emphasis){e[n].emphasis=s[n]}else{a.merge(e[n].emphasis,s[n])}s[n]=null}}}function Qs(e,t,r){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var i=e[t].normal;var n=e[t].emphasis;if(i){if(r){e[t].normal=e[t].emphasis=null;a.defaults(e[t],i)}else{e[t]=i}}if(n){e.emphasis=e.emphasis||{};e.emphasis[t]=n;if(n.focus){e.emphasis.focus=n.focus}if(n.blurScope){e.emphasis.blurScope=n.blurScope}}}}function el(e){Qs(e,"itemStyle");Qs(e,"lineStyle");Qs(e,"areaStyle");Qs(e,"label");Qs(e,"labelLine");Qs(e,"upperLabel");Qs(e,"edgeLabel")}function tl(e,t){var r=Ks(e)&&e[t];var a=Ks(r)&&r.textStyle;if(a){for(var i=0,n=Kt.length;i<n;i++){var o=Kt[i];if(a.hasOwnProperty(o)){r[o]=a[o]}}}}function rl(e){if(e){el(e);tl(e,"label");e.emphasis&&tl(e.emphasis,"label")}}function al(e){if(!Ks(e)){return}$s(e);el(e);tl(e,"label");tl(e,"upperLabel");tl(e,"edgeLabel");if(e.emphasis){tl(e.emphasis,"label");tl(e.emphasis,"upperLabel");tl(e.emphasis,"edgeLabel")}var t=e.markPoint;if(t){$s(t);rl(t)}var r=e.markLine;if(r){$s(r);rl(r)}var i=e.markArea;if(i){rl(i)}var n=e.data;if(e.type==="graph"){n=n||e.nodes;var o=e.links||e.edges;if(o&&!a.isTypedArray(o)){for(var s=0;s<o.length;s++){rl(o[s])}}a.each(e.categories,(function(e){el(e)}))}if(n&&!a.isTypedArray(n)){for(var s=0;s<n.length;s++){rl(n[s])}}t=e.markPoint;if(t&&t.data){var l=t.data;for(var s=0;s<l.length;s++){rl(l[s])}}r=e.markLine;if(r&&r.data){var u=r.data;for(var s=0;s<u.length;s++){if(a.isArray(u[s])){rl(u[s][0]);rl(u[s][1])}else{rl(u[s])}}}if(e.type==="gauge"){tl(e,"axisLabel");tl(e,"title");tl(e,"detail")}else if(e.type==="treemap"){Qs(e.breadcrumb,"itemStyle");a.each(e.levels,(function(e){el(e)}))}else if(e.type==="tree"){el(e.leaves)}}function il(e){return a.isArray(e)?e:e?[e]:[]}function nl(e){return(a.isArray(e)?e[0]:e)||{}}function ol(e,t){qs(il(e.series),(function(e){Ks(e)&&al(e)}));var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&r.push("valueAxis","categoryAxis","logAxis","timeAxis");qs(r,(function(t){qs(il(e[t]),(function(e){if(e){tl(e,"axisLabel");tl(e.axisPointer,"label")}}))}));qs(il(e.parallel),(function(e){var t=e&&e.parallelAxisDefault;tl(t,"axisLabel");tl(t&&t.axisPointer,"label")}));qs(il(e.calendar),(function(e){Qs(e,"itemStyle");tl(e,"dayLabel");tl(e,"monthLabel");tl(e,"yearLabel")}));qs(il(e.radar),(function(e){tl(e,"name");if(e.name&&e.axisName==null){e.axisName=e.name;delete e.name}if(e.nameGap!=null&&e.axisNameGap==null){e.axisNameGap=e.nameGap;delete e.nameGap}}));qs(il(e.geo),(function(e){if(Ks(e)){rl(e);qs(il(e.regions),(function(e){rl(e)}))}}));qs(il(e.timeline),(function(e){rl(e);Qs(e,"label");Qs(e,"itemStyle");Qs(e,"controlStyle",true);var t=e.data;a.isArray(t)&&a.each(t,(function(e){if(a.isObject(e)){Qs(e,"label");Qs(e,"itemStyle")}}))}));qs(il(e.toolbox),(function(e){Qs(e,"iconStyle");qs(e.feature,(function(e){Qs(e,"iconStyle")}))}));tl(nl(e.axisPointer),"label");tl(nl(e.tooltip).axisPointer,"label")}function sl(e,t){var r=t.split(",");var a=e;for(var i=0;i<r.length;i++){a=a&&a[r[i]];if(a==null){break}}return a}function ll(e,t,r,a){var i=t.split(",");var n=e;var o;var s=0;for(;s<i.length-1;s++){o=i[s];if(n[o]==null){n[o]={}}n=n[o]}if(a||n[i[s]]==null){n[i[s]]=r}}function ul(e){e&&s(cl,(function(t){if(t[0]in e&&!(t[1]in e)){e[t[1]]=e[t[0]]}}))}var cl=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]];var vl=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];var fl=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function hl(e){var t=e&&e.itemStyle;if(t){for(var r=0;r<fl.length;r++){var a=fl[r][1];var i=fl[r][0];if(t[a]!=null){t[i]=t[a]}}}}function dl(e){if(!e){return}if(e.alignTo==="edge"&&e.margin!=null&&e.edgeDistance==null){e.edgeDistance=e.margin}}function pl(e){if(!e){return}if(e.downplay&&!e.blur){e.blur=e.downplay}}function gl(e){if(!e){return}if(e.focusNodeAdjacency!=null){e.emphasis=e.emphasis||{};if(e.emphasis.focus==null){e.emphasis.focus="adjacency"}}}function yl(e,t){if(e){for(var r=0;r<e.length;r++){t(e[r]);e[r]&&yl(e[r].children,t)}}}function ml(e,t){ol(e,t);e.series=jt(e.series);s(e.series,(function(e){if(!i(e)){return}var t=e.type;if(t==="line"){if(e.clipOverflow!=null){e.clip=e.clipOverflow}}else if(t==="pie"||t==="gauge"){if(e.clockWise!=null){e.clockwise=e.clockWise}dl(e.label);var r=e.data;if(r&&!I(r)){for(var a=0;a<r.length;a++){dl(r[a])}}if(e.hoverOffset!=null){e.emphasis=e.emphasis||{};if(e.emphasis.scaleSize=null){e.emphasis.scaleSize=e.hoverOffset}}}else if(t==="gauge"){var n=sl(e,"pointer.color");n!=null&&ll(e,"itemStyle.color",n)}else if(t==="bar"){hl(e);hl(e.backgroundStyle);hl(e.emphasis);var r=e.data;if(r&&!I(r)){for(var a=0;a<r.length;a++){if(typeof r[a]==="object"){hl(r[a]);hl(r[a]&&r[a].emphasis)}}}}else if(t==="sunburst"){var o=e.highlightPolicy;if(o){e.emphasis=e.emphasis||{};if(!e.emphasis.focus){e.emphasis.focus=o}}pl(e);yl(e.data,pl)}else if(t==="graph"||t==="sankey"){gl(e)}else if(t==="map"){if(e.mapType&&!e.map){e.map=e.mapType}if(e.mapLocation){x(e,e.mapLocation)}}if(e.hoverAnimation!=null){e.emphasis=e.emphasis||{};if(e.emphasis&&e.emphasis.scale==null){e.emphasis.scale=e.hoverAnimation}}ul(e)}));if(e.dataRange){e.visualMap=e.dataRange}s(vl,(function(t){var r=e[t];if(r){if(!n(r)){r=[r]}s(r,(function(e){ul(e)}))}}))}function xl(e){var t=o();e.eachSeries((function(e){var r=e.get("stack");if(r){var a=t.get(r)||t.set(r,[]);var i=e.getData();var n={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:e};if(!n.stackedDimension||!(n.isStackedByIndex||n.stackedByDimension)){return}a.length&&i.setCalculationInfo("stackedOnSeries",a[a.length-1].seriesModel);a.push(n)}}));t.each(_l)}function _l(e){s(e,(function(t,r){var a=[];var i=[NaN,NaN];var n=[t.stackResultDimension,t.stackedOverDimension];var o=t.data;var s=t.isStackedByIndex;var l=t.seriesModel.get("stackStrategy")||"samesign";o.modify(n,(function(n,u,c){var v=o.get(t.stackedDimension,c);if(isNaN(v)){return i}var f;var h;if(s){h=o.getRawIndex(c)}else{f=o.get(t.stackedByDimension,c)}var d=NaN;for(var p=r-1;p>=0;p--){var g=e[p];if(!s){h=g.data.rawIndexOf(g.stackedByDimension,f)}if(h>=0){var y=g.data.getByRawIndex(g.stackResultDimension,h);if(l==="all"||l==="positive"&&y>0||l==="negative"&&y<0||l==="samesign"&&v>=0&&y>0||l==="samesign"&&v<=0&&y<0){v=wt(v,y);d=y;break}}}a[0]=v;a[1]=d;return a}))}))}var bl=function(){function e(e){this.data=e.data||(e.sourceFormat===is?{}:[]);this.sourceFormat=e.sourceFormat||os;this.seriesLayoutBy=e.seriesLayoutBy||ss;this.startIndex=e.startIndex||0;this.dimensionsDetectedCount=e.dimensionsDetectedCount;this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t){for(var r=0;r<t.length;r++){var a=t[r];if(a.type==null){if(gs(this,r)===us.Must){a.type="ordinal"}}}}}return e}();function Sl(e){return e instanceof bl}function wl(e,t,r){r=r||Dl(e);var a=t.seriesLayoutBy;var i=Tl(e,r,a,t.sourceHeader,t.dimensions);var n=new bl({data:e,sourceFormat:r,seriesLayoutBy:a,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:w(t)});return n}function Ml(e){return new bl({data:e,sourceFormat:I(e)?ns:ts})}function Il(e){return new bl({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:w(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount})}function Dl(e){var t=os;if(I(e)){t=ns}else if(n(e)){if(e.length===0){t=rs}for(var r=0,a=e.length;r<a;r++){var o=e[r];if(o==null){continue}else if(n(o)||I(o)){t=rs;break}else if(i(o)){t=as;break}}}else if(i(e)){for(var s in e){if(_(e,s)&&p(e[s])){t=is;break}}}return t}function Tl(e,t,r,a,i){var o;var l;if(!e){return{dimensionsDefine:Al(i),startIndex:l,dimensionsDetectedCount:o}}if(t===rs){var v=e;if(a==="auto"||a==null){Ll((function(e){if(e!=null&&e!=="-"){if(u(e)){l==null&&(l=1)}else{l=0}}}),r,v,10)}else{l=c(a)?a:a?1:0}if(!i&&l===1){i=[];Ll((function(e,t){i[t]=e!=null?e+"":""}),r,v,Infinity)}o=i?i.length:r===ls?v.length:v[0]?v[0].length:null}else if(t===as){if(!i){i=Cl(e)}}else if(t===is){if(!i){i=[];s(e,(function(e,t){i.push(t)}))}}else if(t===ts){var f=Jt(e[0]);o=n(f)&&f.length||1}else;return{startIndex:l,dimensionsDefine:Al(i),dimensionsDetectedCount:o}}function Cl(e){var t=0;var r;while(t<e.length&&!(r=e[t++])){}if(r){return g(r)}}function Al(e){if(!e){return}var t=o();return f(e,(function(e,r){e=i(e)?e:{name:e};var a={name:e.name,displayName:e.displayName,type:e.type};if(a.name==null){return a}a.name+="";if(a.displayName==null){a.displayName=a.name}var n=t.get(a.name);if(!n){t.set(a.name,{count:1})}else{a.name+="-"+n.count++}return a}))}function Ll(e,t,r,a){if(t===ls){for(var i=0;i<r.length&&i<a;i++){e(r[i]?r[i][0]:null,i)}}else{var n=r[0]||[];for(var i=0;i<n.length&&i<a;i++){e(n[i],i)}}}function kl(e){var t=e.sourceFormat;return t===as||t===is}var Pl,Nl,Ol;var Rl;var El;var zl=function(){function e(e,t){var r=!Sl(e)?Ml(e):e;this._source=r;var a=this._data=r.data;if(r.sourceFormat===ns){this._offset=0;this._dimSize=t;this._data=a}El(this,a,r)}e.prototype.getSource=function(){return this._source};e.prototype.count=function(){return 0};e.prototype.getItem=function(e,t){return};e.prototype.appendData=function(e){};e.prototype.clean=function(){};e.protoInitialize=function(){var t=e.prototype;t.pure=false;t.persistent=true}();e.internalField=function(){var e;El=function(e,i,n){var o=n.sourceFormat;var s=n.seriesLayoutBy;var l=n.startIndex;var u=n.dimensionsDefine;var c=Rl[Zl(o,s)];d(e,c);if(o===ns){e.getItem=t;e.count=a;e.fillStorage=r}else{var v=Gl(o,s);e.getItem=C(v,null,i,l,u);var f=Wl(o,s);e.count=C(f,null,i,l,u)}};var t=function(e,t){e=e-this._offset;t=t||[];var r=this._data;var a=this._dimSize;var i=a*e;for(var n=0;n<a;n++){t[n]=r[i+n]}return t};var r=function(e,t,r,a){var i=this._data;var n=this._dimSize;for(var o=0;o<n;o++){var s=a[o];var l=s[0]==null?Infinity:s[0];var u=s[1]==null?-Infinity:s[1];var c=t-e;var v=r[o];for(var f=0;f<c;f++){var h=i[f*n+o];v[e+f]=h;h<l&&(l=h);h>u&&(u=h)}s[0]=l;s[1]=u}};var a=function(){return this._data?this._data.length/this._dimSize:0};Rl=(e={},e[rs+"_"+ss]={pure:true,appendData:i},e[rs+"_"+ls]={pure:true,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[as]={pure:true,appendData:i},e[is]={pure:true,appendData:function(e){var t=this._data;s(e,(function(e,r){var a=t[r]||(t[r]=[]);for(var i=0;i<(e||[]).length;i++){a.push(e[i])}}))}},e[ts]={appendData:i},e[ns]={persistent:false,pure:true,appendData:function(e){this._data=e},clean:function(){this._offset+=this.count();this._data=null}},e);function i(e){for(var t=0;t<e.length;t++){this._data.push(e[t])}}}();return e}();var Vl=function(e,t,r,a){return e[a]};var Bl=(Pl={},Pl[rs+"_"+ss]=function(e,t,r,a){return e[a+t]},Pl[rs+"_"+ls]=function(e,t,r,a,i){a+=t;var n=i||[];var o=e;for(var s=0;s<o.length;s++){var l=o[s];n[s]=l?l[a]:null}return n},Pl[as]=Vl,Pl[is]=function(e,t,r,a,i){var n=i||[];for(var o=0;o<r.length;o++){var s=r[o].name;var l=e[s];n[o]=l?l[a]:null}return n},Pl[ts]=Vl,Pl);function Gl(e,t){var r=Bl[Zl(e,t)];return r}var Fl=function(e,t,r){return e.length};var Hl=(Nl={},Nl[rs+"_"+ss]=function(e,t,r){return Math.max(0,e.length-t)},Nl[rs+"_"+ls]=function(e,t,r){var a=e[0];return a?Math.max(0,a.length-t):0},Nl[as]=Fl,Nl[is]=function(e,t,r){var a=r[0].name;var i=e[a];return i?i.length:0},Nl[ts]=Fl,Nl);function Wl(e,t){var r=Hl[Zl(e,t)];return r}var Ul=function(e,t,r){return e[t]};var Yl=(Ol={},Ol[rs]=Ul,Ol[as]=function(e,t,r){return e[r]},Ol[is]=Ul,Ol[ts]=function(e,t,r){var a=Jt(e);return!(a instanceof Array)?a:a[t]},Ol[ns]=Ul,Ol);function Xl(e){var t=Yl[e];return t}function Zl(e,t){return e===rs?e+"_"+t:e}function jl(e,t,r){if(!e){return}var a=e.getRawDataItem(t);if(a==null){return}var i=e.getStore();var n=i.getSource().sourceFormat;if(r!=null){var o=e.getDimensionIndex(r);var s=i.getDimensionProperty(o);return Xl(n)(a,o,s)}else{var l=a;if(n===ts){l=Jt(a)}return l}}var ql=/\{@(.+?)\}/g;var Kl=function(){function e(){}e.prototype.getDataParams=function(e,t){var r=this.getData(t);var a=this.getRawValue(e,t);var i=r.getRawIndex(e);var n=r.getName(e);var o=r.getRawDataItem(e);var s=r.getItemVisual(e,"style");var l=s&&s[r.getItemVisual(e,"drawType")||"fill"];var u=s&&s.stroke;var c=this.mainType;var v=c==="series";var f=r.userOutput&&r.userOutput.get();return{componentType:c,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:v?this.subType:null,seriesIndex:this.seriesIndex,seriesId:v?this.id:null,seriesName:v?this.name:null,name:n,dataIndex:i,data:o,dataType:t,value:a,color:l,borderColor:u,dimensionNames:f?f.fullDimensions:null,encode:f?f.encode:null,$vars:["seriesName","name","value"]}};e.prototype.getFormattedLabel=function(e,t,r,i,n,o){t=t||"normal";var s=this.getData(r);var l=this.getDataParams(e,r);if(o){l.value=o.interpolatedValue}if(i!=null&&a.isArray(l.value)){l.value=l.value[i]}if(!n){var u=s.getItemModel(e);n=u.get(t==="normal"?["label","formatter"]:[t,"label","formatter"])}if(a.isFunction(n)){l.status=t;l.dimensionIndex=i;return n(l)}else if(a.isString(n)){var c=Co(n,l);return c.replace(ql,(function(t,r){var i=r.length;var n=r;if(n.charAt(0)==="["&&n.charAt(i-1)==="]"){n=+n.slice(1,i-1)}var l=jl(s,e,n);if(o&&a.isArray(o.interpolatedValue)){var u=s.getDimensionIndex(n);if(u>=0){l=o.interpolatedValue[u]}}return l!=null?l+"":""}))}};e.prototype.getRawValue=function(e,t){return jl(this.getData(t),e)};e.prototype.formatTooltip=function(e,t,r){return};return e}();function Jl(e){var t;var r;if(a.isObject(e)){if(e.type){r=e}}else{t=e}return{text:t,frag:r}}function $l(e){return new Ql(e)}var Ql=function(){function e(e){e=e||{};this._reset=e.reset;this._plan=e.plan;this._count=e.count;this._onDirty=e.onDirty;this._dirty=true}e.prototype.perform=function(e){var t=this._upstream;var r=e&&e.skip;if(this._dirty&&t){var a=this.context;a.data=a.outputData=t.context.outputData}if(this.__pipeline){this.__pipeline.currentTask=this}var i;if(this._plan&&!r){i=this._plan(this.context)}var o=c(this._modBy);var s=this._modDataCount||0;var l=c(e&&e.modBy);var u=e&&e.modDataCount||0;if(o!==l||s!==u){i="reset"}function c(e){!(e>=1)&&(e=1);return e}var v;if(this._dirty||i==="reset"){this._dirty=false;v=this._doReset(r)}this._modBy=l;this._modDataCount=u;var f=e&&e.step;if(t){this._dueEnd=t._outputDueEnd}else{this._dueEnd=this._count?this._count(this.context):Infinity}if(this._progress){var h=this._dueIndex;var d=Math.min(f!=null?this._dueIndex+f:Infinity,this._dueEnd);if(!r&&(v||h<d)){var p=this._progress;if(n(p)){for(var g=0;g<p.length;g++){this._doProgress(p[g],h,d,l,u)}}else{this._doProgress(p,h,d,l,u)}}this._dueIndex=d;var y=this._settedOutputEnd!=null?this._settedOutputEnd:d;this._outputDueEnd=y}else{this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd}return this.unfinished()};e.prototype.dirty=function(){this._dirty=true;this._onDirty&&this._onDirty(this.context)};e.prototype._doProgress=function(e,t,r,a,i){eu.reset(t,r,a,i);this._callingProgress=e;this._callingProgress({start:t,end:r,count:r-t,next:eu.next},this.context)};e.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0;this._settedOutputEnd=null;var t;var r;if(!e&&this._reset){t=this._reset(this.context);if(t&&t.progress){r=t.forceFirstProgress;t=t.progress}if(n(t)&&!t.length){t=null}}this._progress=t;this._modBy=this._modDataCount=null;var a=this._downstream;a&&a.dirty();return r};e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd};e.prototype.pipe=function(e){if(this._downstream!==e||this._dirty){this._downstream=e;e._upstream=this;e.dirty()}};e.prototype.dispose=function(){if(this._disposed){return}this._upstream&&(this._upstream._downstream=null);this._downstream&&(this._downstream._upstream=null);this._dirty=false;this._disposed=true};e.prototype.getUpstream=function(){return this._upstream};e.prototype.getDownstream=function(){return this._downstream};e.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e};return e}();var eu=function(){var e;var t;var r;var a;var i;var n={reset:function(l,u,c,v){t=l;e=u;r=c;a=v;i=Math.ceil(a/r);n.next=r>1&&a>0?s:o}};return n;function o(){return t<e?t++:null}function s(){var n=t%i*r+Math.ceil(t/i);var o=t>=e?null:n<a?n:t;t++;return o}}();function tu(e,t){var r=t&&t.type;if(r==="ordinal"){return e}if(r==="time"&&!c(e)&&e!=null&&e!=="-"){e=+Ct(e)}return e==null||e===""?NaN:Number(e)}var ru=o({number:function(e){return parseFloat(e)},time:function(e){return+Ct(e)},trim:function(e){return u(e)?b(e):e}});function au(e){return ru.get(e)}var iu={lt:function(e,t){return e<t},lte:function(e,t){return e<=t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t}};var nu=function(){function e(e,t){if(!c(t)){var r="";Ut(r)}this._opFn=iu[e];this._rvalFloat=Ot(t)}e.prototype.evaluate=function(e){return c(e)?this._opFn(e,this._rvalFloat):this._opFn(Ot(e),this._rvalFloat)};return e}();var ou=function(){function e(e,t){var r=e==="desc";this._resultLT=r?1:-1;if(t==null){t=r?"min":"max"}this._incomparable=t==="min"?-Infinity:Infinity}e.prototype.evaluate=function(e,t){var r=c(e)?e:Ot(e);var a=c(t)?t:Ot(t);var i=isNaN(r);var n=isNaN(a);if(i){r=this._incomparable}if(n){a=this._incomparable}if(i&&n){var o=u(e);var s=u(t);if(o){r=s?e:0}if(s){a=o?t:0}}return r<a?this._resultLT:r>a?-this._resultLT:0};return e}();var su=function(){function e(e,t){this._rval=t;this._isEQ=e;this._rvalTypeof=typeof t;this._rvalFloat=Ot(t)}e.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var r=typeof e;if(r!==this._rvalTypeof&&(r==="number"||this._rvalTypeof==="number")){t=Ot(e)===this._rvalFloat}}return this._isEQ?t:!t};return e}();function lu(e,t){return e==="eq"||e==="ne"?new su(e==="eq",t):_(iu,e)?new nu(e,t):null}var uu=function(){function e(){}e.prototype.getRawData=function(){throw new Error("not supported")};e.prototype.getRawDataItem=function(e){throw new Error("not supported")};e.prototype.cloneRawData=function(){return};e.prototype.getDimensionInfo=function(e){return};e.prototype.cloneAllDimensionInfo=function(){return};e.prototype.count=function(){return};e.prototype.retrieveValue=function(e,t){return};e.prototype.retrieveValueFromItem=function(e,t){return};e.prototype.convertValue=function(e,t){return tu(e,t)};return e}();function cu(e,t){var r=new uu;var a=e.data;var i=r.sourceFormat=e.sourceFormat;var n=e.startIndex;var o="";if(e.seriesLayoutBy!==ss){Ut(o)}var l=[];var u={};var c=e.dimensionsDefine;if(c){s(c,(function(e,t){var r=e.name;var a={index:t,name:r,displayName:e.displayName};l.push(a);if(r!=null){var i="";if(_(u,r)){Ut(i)}u[r]=a}}))}else{for(var v=0;v<e.dimensionsDetectedCount||0;v++){l.push({index:v})}}var f=Gl(i,ss);if(t.__isBuiltIn){r.getRawDataItem=function(e){return f(a,n,l,e)};r.getRawData=C(vu,null,e)}r.cloneRawData=C(fu,null,e);var h=Wl(i,ss);r.count=C(h,null,a,n,l);var d=Xl(i);r.retrieveValue=function(e,t){var r=f(a,n,l,e);return p(r,t)};var p=r.retrieveValueFromItem=function(e,t){if(e==null){return}var r=l[t];if(r){return d(e,t,r.name)}};r.getDimensionInfo=C(hu,null,l,u);r.cloneAllDimensionInfo=C(du,null,l);return r}function vu(e){var t=e.sourceFormat;if(!xu(t)){var r="";Ut(r)}return e.data}function fu(e){var t=e.sourceFormat;var r=e.data;if(!xu(t)){var a="";Ut(a)}if(t===rs){var i=[];for(var n=0,o=r.length;n<o;n++){i.push(r[n].slice())}return i}else if(t===as){var i=[];for(var n=0,o=r.length;n<o;n++){i.push(d({},r[n]))}return i}}function hu(e,t,r){if(r==null){return}if(c(r)||!isNaN(r)&&!_(t,r)){return e[r]}else if(_(t,r)){return t[r]}}function du(e){return w(e)}var pu=o();function gu(e){e=w(e);var t=e.type;var r="";if(!t){Ut(r)}var a=t.split(":");if(a.length!==2){Ut(r)}var i=false;if(a[0]==="echarts"){t=a[1];i=true}e.__isBuiltIn=i;pu.set(t,e)}function yu(e,t,r){var a=jt(e);var i=a.length;var n="";if(!i){Ut(n)}for(var o=0,s=i;o<s;o++){var l=a[o];t=mu(l,t);if(o!==s-1){t.length=Math.max(t.length,1)}}return t}function mu(e,t,r,a){var n="";if(!t.length){Ut(n)}if(!i(e)){Ut(n)}var o=e.type;var s=pu.get(o);if(!s){Ut(n)}var l=f(t,(function(e){return cu(e,s)}));var u=jt(s.transform({upstream:l[0],upstreamList:l,config:w(e.config)}));return f(u,(function(e,r){var a="";if(!i(e)){Ut(a)}if(!e.data){Ut(a)}var n=Dl(e.data);if(!xu(n)){Ut(a)}var o;var s=t[0];if(s&&r===0&&!e.dimensions){var l=s.startIndex;if(l){e.data=s.data.slice(0,l).concat(e.data)}o={seriesLayoutBy:ss,sourceHeader:l,dimensions:s.metaRawOption.dimensions}}else{o={seriesLayoutBy:ss,sourceHeader:0,dimensions:e.dimensions}}return wl(e.data,o,null)}))}function xu(e){return e===rs||e===as}var _u="undefined";var bu=typeof Uint32Array===_u?Array:Uint32Array;var Su=typeof Uint16Array===_u?Array:Uint16Array;var wu=typeof Int32Array===_u?Array:Int32Array;var Mu=typeof Float64Array===_u?Array:Float64Array;var Iu={float:Mu,int:wu,ordinal:Array,number:Array,time:Mu};var Du;function Tu(e){return e>65535?bu:Su}function Cu(){return[Infinity,-Infinity]}function Au(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function Lu(e,t,r,a,i){var n=Iu[r||"float"];if(i){var o=e[t];var s=o&&o.length;if(!(s===a)){var l=new n(a);for(var u=0;u<s;u++){l[u]=o[u]}e[t]=l}}else{e[t]=new n(a)}}var ku=function(){function e(){this._chunks=[];this._rawExtent=[];this._extent=[];this._count=0;this._rawCount=0;this._calcDimNameToIdx=o()}e.prototype.initData=function(e,t,r){this._provider=e;this._chunks=[];this._indices=null;this.getRawIndex=this._getRawIdxIdentity;var a=e.getSource();var i=this.defaultDimValueGetter=Du[a.sourceFormat];this._dimValueGetter=r||i;this._rawExtent=[];kl(a);this._dimensions=f(t,(function(e){return{type:e.type,property:e.property}}));this._initDataFromProvider(0,e.count())};e.prototype.getProvider=function(){return this._provider};e.prototype.getSource=function(){return this._provider.getSource()};e.prototype.ensureCalculationDimension=function(e,t){var r=this._calcDimNameToIdx;var a=this._dimensions;var i=r.get(e);if(i!=null){if(a[i].type===t){return i}}else{i=a.length}a[i]={type:t};r.set(e,i);this._chunks[i]=new Iu[t||"float"](this._rawCount);this._rawExtent[i]=Cu();return i};e.prototype.collectOrdinalMeta=function(e,t){var r=this._chunks[e];var a=this._dimensions[e];var i=this._rawExtent;var n=a.ordinalOffset||0;var o=r.length;if(n===0){i[e]=Cu()}var s=i[e];for(var l=n;l<o;l++){var u=r[l]=t.parseAndCollect(r[l]);if(!isNaN(u)){s[0]=Math.min(u,s[0]);s[1]=Math.max(u,s[1])}}a.ordinalMeta=t;a.ordinalOffset=o;a.type="ordinal"};e.prototype.getOrdinalMeta=function(e){var t=this._dimensions[e];var r=t.ordinalMeta;return r};e.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property};e.prototype.appendData=function(e){var t=this._provider;var r=this.count();t.appendData(e);var a=t.count();if(!t.persistent){a+=r}if(r<a){this._initDataFromProvider(r,a,true)}return[r,a]};e.prototype.appendValues=function(e,t){var r=this._chunks;var a=this._dimensions;var i=a.length;var n=this._rawExtent;var o=this.count();var s=o+Math.max(e.length,t||0);for(var l=0;l<i;l++){var u=a[l];Lu(r,l,u.type,s,true)}var c=[];for(var v=o;v<s;v++){var f=v-o;for(var h=0;h<i;h++){var u=a[h];var d=Du.arrayRows.call(this,e[f]||c,u.property,f,h);r[h][v]=d;var p=n[h];d<p[0]&&(p[0]=d);d>p[1]&&(p[1]=d)}}this._rawCount=this._count=s;return{start:o,end:s}};e.prototype._initDataFromProvider=function(e,t,r){var a=this._provider;var i=this._chunks;var n=this._dimensions;var o=n.length;var s=this._rawExtent;var l=f(n,(function(e){return e.property}));for(var u=0;u<o;u++){var c=n[u];if(!s[u]){s[u]=Cu()}Lu(i,u,c.type,t,r)}if(a.fillStorage){a.fillStorage(e,t,i,s)}else{var v=[];for(var h=e;h<t;h++){v=a.getItem(h,v);for(var d=0;d<o;d++){var p=i[d];var g=this._dimValueGetter(v,l[d],h,d);p[h]=g;var y=s[d];g<y[0]&&(y[0]=g);g>y[1]&&(y[1]=g)}}}if(!a.persistent&&a.clean){a.clean()}this._rawCount=this._count=t;this._extent=[]};e.prototype.count=function(){return this._count};e.prototype.get=function(e,t){if(!(t>=0&&t<this._count)){return NaN}var r=this._chunks[e];return r?r[this.getRawIndex(t)]:NaN};e.prototype.getValues=function(e,t){var r=[];var a=[];if(t==null){t=e;e=[];for(var i=0;i<this._dimensions.length;i++){a.push(i)}}else{a=e}for(var i=0,n=a.length;i<n;i++){r.push(this.get(a[i],t))}return r};e.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount)){return NaN}var r=this._chunks[e];return r?r[t]:NaN};e.prototype.getSum=function(e){var t=this._chunks[e];var r=0;if(t){for(var a=0,i=this.count();a<i;a++){var n=this.get(e,a);if(!isNaN(n)){r+=n}}}return r};e.prototype.getMedian=function(e){var t=[];this.each([e],(function(e){if(!isNaN(e)){t.push(e)}}));var r=t.sort((function(e,t){return e-t}));var a=this.count();return a===0?0:a%2===1?r[(a-1)/2]:(r[a/2]+r[a/2-1])/2};e.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0){return-1}if(!this._indices){return e}var t=this._indices;var r=t[e];if(r!=null&&r<this._count&&r===e){return e}var a=0;var i=this._count-1;while(a<=i){var n=(a+i)/2|0;if(t[n]<e){a=n+1}else if(t[n]>e){i=n-1}else{return n}}return-1};e.prototype.indicesOfNearest=function(e,t,r){var a=this._chunks;var i=a[e];var n=[];if(!i){return n}if(r==null){r=Infinity}var o=Infinity;var s=-1;var l=0;for(var u=0,c=this.count();u<c;u++){var v=this.getRawIndex(u);var f=t-i[v];var h=Math.abs(f);if(h<=r){if(h<o||h===o&&f>=0&&s<0){o=h;s=f;l=0}if(f===s){n[l++]=u}}}n.length=l;return n};e.prototype.getIndices=function(){var e;var t=this._indices;if(t){var r=t.constructor;var a=this._count;if(r===Array){e=new r(a);for(var i=0;i<a;i++){e[i]=t[i]}}else{e=new r(t.buffer,0,a)}}else{var r=Tu(this._rawCount);e=new r(this.count());for(var i=0;i<e.length;i++){e[i]=i}}return e};e.prototype.filter=function(e,t){if(!this._count){return this}var r=this.clone();var a=r.count();var i=Tu(r._rawCount);var n=new i(a);var o=[];var s=e.length;var l=0;var u=e[0];var c=r._chunks;for(var v=0;v<a;v++){var f=void 0;var h=r.getRawIndex(v);if(s===0){f=t(v)}else if(s===1){var d=c[u][h];f=t(d,v)}else{var p=0;for(;p<s;p++){o[p]=c[e[p]][h]}o[p]=v;f=t.apply(null,o)}if(f){n[l++]=h}}if(l<a){r._indices=n}r._count=l;r._extent=[];r._updateGetRawIdx();return r};e.prototype.selectRange=function(e){var t=this.clone();var r=t._count;if(!r){return this}var a=g(e);var i=a.length;if(!i){return this}var n=t.count();var o=Tu(t._rawCount);var s=new o(n);var l=0;var u=a[0];var c=e[u][0];var v=e[u][1];var f=t._chunks;var h=false;if(!t._indices){var d=0;if(i===1){var p=f[a[0]];for(var y=0;y<r;y++){var m=p[y];if(m>=c&&m<=v||isNaN(m)){s[l++]=d}d++}h=true}else if(i===2){var p=f[a[0]];var x=f[a[1]];var _=e[a[1]][0];var b=e[a[1]][1];for(var y=0;y<r;y++){var m=p[y];var S=x[y];if((m>=c&&m<=v||isNaN(m))&&(S>=_&&S<=b||isNaN(S))){s[l++]=d}d++}h=true}}if(!h){if(i===1){for(var y=0;y<n;y++){var w=t.getRawIndex(y);var m=f[a[0]][w];if(m>=c&&m<=v||isNaN(m)){s[l++]=w}}}else{for(var y=0;y<n;y++){var M=true;var w=t.getRawIndex(y);for(var I=0;I<i;I++){var D=a[I];var m=f[D][w];if(m<e[D][0]||m>e[D][1]){M=false}}if(M){s[l++]=t.getRawIndex(y)}}}}if(l<n){t._indices=s}t._count=l;t._extent=[];t._updateGetRawIdx();return t};e.prototype.map=function(e,t){var r=this.clone(e);this._updateDims(r,e,t);return r};e.prototype.modify=function(e,t){this._updateDims(this,e,t)};e.prototype._updateDims=function(e,t,r){var a=e._chunks;var i=[];var n=t.length;var o=e.count();var s=[];var l=e._rawExtent;for(var u=0;u<t.length;u++){l[t[u]]=Cu()}for(var c=0;c<o;c++){var v=e.getRawIndex(c);for(var f=0;f<n;f++){s[f]=a[t[f]][v]}s[n]=c;var h=r&&r.apply(null,s);if(h!=null){if(typeof h!=="object"){i[0]=h;h=i}for(var u=0;u<h.length;u++){var d=t[u];var p=h[u];var g=l[d];var y=a[d];if(y){y[v]=p}if(p<g[0]){g[0]=p}if(p>g[1]){g[1]=p}}}}};e.prototype.lttbDownSample=function(e,t){var r=this.clone([e],true);var a=r._chunks;var i=a[e];var n=this.count();var o=0;var s=Math.floor(1/t);var l=this.getRawIndex(0);var u;var c;var v;var f=new(Tu(this._rawCount))(Math.min((Math.ceil(n/s)+2)*2,n));f[o++]=l;for(var h=1;h<n-1;h+=s){var d=Math.min(h+s,n-1);var p=Math.min(h+s*2,n);var g=(p+d)/2;var y=0;for(var m=d;m<p;m++){var x=this.getRawIndex(m);var _=i[x];if(isNaN(_)){continue}y+=_}y/=p-d;var b=h;var S=Math.min(h+s,n);var w=h-1;var M=i[l];u=-1;v=b;var I=-1;var D=0;for(var m=b;m<S;m++){var x=this.getRawIndex(m);var _=i[x];if(isNaN(_)){D++;if(I<0){I=x}continue}c=Math.abs((w-g)*(_-M)-(w-m)*(y-M));if(c>u){u=c;v=x}}if(D>0&&D<S-b){f[o++]=Math.min(I,v);v=Math.max(I,v)}f[o++]=v;l=v}f[o++]=this.getRawIndex(n-1);r._count=o;r._indices=f;r.getRawIndex=this._getRawIdx;return r};e.prototype.downSample=function(e,t,r,a){var i=this.clone([e],true);var n=i._chunks;var o=[];var s=Math.floor(1/t);var l=n[e];var u=this.count();var c=i._rawExtent[e]=Cu();var v=new(Tu(this._rawCount))(Math.ceil(u/s));var f=0;for(var h=0;h<u;h+=s){if(s>u-h){s=u-h;o.length=s}for(var d=0;d<s;d++){var p=this.getRawIndex(h+d);o[d]=l[p]}var g=r(o);var y=this.getRawIndex(Math.min(h+a(o,g)||0,u-1));l[y]=g;if(g<c[0]){c[0]=g}if(g>c[1]){c[1]=g}v[f++]=y}i._count=f;i._indices=v;i._updateGetRawIdx();return i};e.prototype.each=function(e,t){if(!this._count){return}var r=e.length;var a=this._chunks;for(var i=0,n=this.count();i<n;i++){var o=this.getRawIndex(i);switch(r){case 0:t(i);break;case 1:t(a[e[0]][o],i);break;case 2:t(a[e[0]][o],a[e[1]][o],i);break;default:var s=0;var l=[];for(;s<r;s++){l[s]=a[e[s]][o]}l[s]=i;t.apply(null,l)}}};e.prototype.getDataExtent=function(e){var t=this._chunks[e];var r=Cu();if(!t){return r}var a=this.count();var i=!this._indices;var n;if(i){return this._rawExtent[e].slice()}n=this._extent[e];if(n){return n.slice()}n=r;var o=n[0];var s=n[1];for(var l=0;l<a;l++){var u=this.getRawIndex(l);var c=t[u];c<o&&(o=c);c>s&&(s=c)}n=[o,s];this._extent[e]=n;return n};e.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(!this._provider.persistent){var r=[];var a=this._chunks;for(var i=0;i<a.length;i++){r.push(a[i][t])}return r}else{return this._provider.getItem(t)}};e.prototype.clone=function(t,r){var a=new e;var i=this._chunks;var n=t&&A(t,(function(e,t){e[t]=true;return e}),{});if(n){for(var o=0;o<i.length;o++){a._chunks[o]=!n[o]?i[o]:Au(i[o])}}else{a._chunks=i}this._copyCommonProps(a);if(!r){a._indices=this._cloneIndices()}a._updateGetRawIdx();return a};e.prototype._copyCommonProps=function(e){e._count=this._count;e._rawCount=this._rawCount;e._provider=this._provider;e._dimensions=this._dimensions;e._extent=w(this._extent);e._rawExtent=w(this._rawExtent)};e.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor;var t=void 0;if(e===Array){var r=this._indices.length;t=new e(r);for(var a=0;a<r;a++){t[a]=this._indices[a]}}else{t=new e(this._indices)}return t}return null};e.prototype._getRawIdxIdentity=function(e){return e};e.prototype._getRawIdx=function(e){if(e<this._count&&e>=0){return this._indices[e]}return-1};e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity};e.internalField=function(){function e(e,t,r,a){return tu(e[a],this._dimensions[a])}Du={arrayRows:e,objectRows:function(e,t,r,a){return tu(e[t],this._dimensions[a])},keyedColumns:e,original:function(e,t,r,a){var i=e&&(e.value==null?e:e.value);return tu(i instanceof Array?i[a]:i,this._dimensions[a])},typedArray:function(e,t,r,a){return e[a]}}}();return e}();var Pu=function(){function e(e){this._sourceList=[];this._storeList=[];this._upstreamSignList=[];this._versionSignBase=0;this._dirty=true;this._sourceHost=e}e.prototype.dirty=function(){this._setLocalSource([],[]);this._storeList=[];this._dirty=true};e.prototype._setLocalSource=function(e,t){this._sourceList=e;this._upstreamSignList=t;this._versionSignBase++;if(this._versionSignBase>9e10){this._versionSignBase=0}};e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase};e.prototype.prepareSource=function(){if(this._isDirty()){this._createSource();this._dirty=false}};e.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost;var t=this._getUpstreamSourceManagers();var r=!!t.length;var a;var i;if(Ou(e)){var n=e;var o=void 0;var s=void 0;var l=void 0;if(r){var u=t[0];u.prepareSource();l=u.getSource();o=l.data;s=l.sourceFormat;i=[u._getVersionSign()]}else{o=n.get("data",true);s=I(o)?ns:ts;i=[]}var c=this._getSourceMetaRawOption()||{};var v=l&&l.metaRawOption||{};var f=y(c.seriesLayoutBy,v.seriesLayoutBy)||null;var h=y(c.sourceHeader,v.sourceHeader);var d=y(c.dimensions,v.dimensions);var p=f!==v.seriesLayoutBy||!!h!==!!v.sourceHeader||d;a=p?[wl(o,{seriesLayoutBy:f,sourceHeader:h,dimensions:d},s)]:[]}else{var g=e;if(r){var m=this._applyTransform(t);a=m.sourceList;i=m.upstreamSignList}else{var x=g.get("source",true);a=[wl(x,this._getSourceMetaRawOption(),null)];i=[]}}this._setLocalSource(a,i)};e.prototype._applyTransform=function(e){var t=this._sourceHost;var r=t.get("transform",true);var a=t.get("fromTransformResult",true);if(a!=null){var i="";if(e.length!==1){Ru(i)}}var n;var o=[];var l=[];s(e,(function(e){e.prepareSource();var t=e.getSource(a||0);var r="";if(a!=null&&!t){Ru(r)}o.push(t);l.push(e._getVersionSign())}));if(r){n=yu(r,o,{datasetIndex:t.componentIndex})}else if(a!=null){n=[Il(o[0])]}return{sourceList:n,upstreamSignList:l}};e.prototype._isDirty=function(){if(this._dirty){return true}var e=this._getUpstreamSourceManagers();for(var t=0;t<e.length;t++){var r=e[t];if(r._isDirty()||this._upstreamSignList[t]!==r._getVersionSign()){return true}}};e.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(e)}return t};e.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)};e.prototype._innerGetDataStore=function(e,t,r){var a=0;var i=this._storeList;var n=i[a];if(!n){n=i[a]={}}var o=n[r];if(!o){var s=this._getUpstreamSourceManagers()[0];if(Ou(this._sourceHost)&&s){o=s._innerGetDataStore(e,t,r)}else{o=new ku;o.initData(new zl(t,e.length),e)}n[r]=o}return o};e.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(Ou(e)){var t=ds(e);return!t?[]:[t.getSourceManager()]}else{return f(ps(e),(function(e){return e.getSourceManager()}))}};e.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost;var t;var r;var a;if(Ou(e)){t=e.get("seriesLayoutBy",true);r=e.get("sourceHeader",true);a=e.get("dimensions",true)}else if(!this._getUpstreamSourceManagers().length){var i=e;t=i.get("seriesLayoutBy",true);r=i.get("sourceHeader",true);a=i.get("dimensions",true)}return{seriesLayoutBy:t,sourceHeader:r,dimensions:a}};return e}();function Nu(e){var t=e.option.transform;t&&T(e.option.transform)}function Ou(e){return e.mainType==="series"}function Ru(e){throw new Error(e)}var Eu="line-height:1";function zu(e,t){var r=e.color||"#6e7079";var a=e.fontSize||12;var i=e.fontWeight||"400";var n=e.color||"#464646";var o=e.fontSize||14;var s=e.fontWeight||"900";if(t==="html"){return{nameStyle:"font-size:"+Ce(a+"")+"px;color:"+Ce(r)+";font-weight:"+Ce(i+""),valueStyle:"font-size:"+Ce(o+"")+"px;color:"+Ce(n)+";font-weight:"+Ce(s+"")}}else{return{nameStyle:{fontSize:a,fill:r,fontWeight:i},valueStyle:{fontSize:o,fill:n,fontWeight:s}}}}var Vu=[0,10,20,30];var Bu=["","\n","\n\n","\n\n\n"];function Gu(e,t){t.type=e;return t}function Fu(e){return e.type==="section"}function Hu(e){return Fu(e)?Uu:Yu}function Wu(e){if(Fu(e)){var t=0;var r=e.blocks.length;var a=r>1||r>0&&!e.noHeader;s(e.blocks,(function(e){var r=Wu(e);if(r>=t){t=r+ +(a&&(!r||Fu(e)&&!e.noHeader))}}));return t}return 0}function Uu(e,t,r,a){var i=t.noHeader;var o=Zu(Wu(t));var u=[];var c=t.blocks||[];l(!c||n(c));c=c||[];var v=e.orderMode;if(t.sortBlocks&&v){c=c.slice();var f={valueAsc:"asc",valueDesc:"desc"};if(_(f,v)){var h=new ou(f[v],null);c.sort((function(e,t){return h.evaluate(e.sortParam,t.sortParam)}))}else if(v==="seriesDesc"){c.reverse()}}s(c,(function(r,i){var n=t.valueFormatter;var s=Hu(r)(n?d(d({},e),{valueFormatter:n}):e,r,i>0?o.html:0,a);s!=null&&u.push(s)}));var p=e.renderMode==="richText"?u.join(o.richText):ju(u.join(""),i?r:o.html);if(i){return p}var g=Io(t.header,"ordinal",e.useUTC);var y=zu(a,e.renderMode).nameStyle;if(e.renderMode==="richText"){return Ju(e,g,y)+o.richText+p}else{return ju('<div style="'+y+";"+Eu+';">'+Ce(g)+"</div>"+p,r)}}function Yu(e,t,r,a){var i=e.renderMode;var o=t.noName;var s=t.noValue;var l=!t.markerType;var u=t.name;var c=e.useUTC;var v=t.valueFormatter||e.valueFormatter||function(e){e=n(e)?e:[e];return f(e,(function(e,t){return Io(e,n(p)?p[t]:p,c)}))};if(o&&s){return}var h=l?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",i);var d=o?"":Io(u,"ordinal",c);var p=t.valueType;var g=s?[]:v(t.value,t.dataIndex);var y=!l||!o;var m=!l&&o;var x=zu(a,i),_=x.nameStyle,b=x.valueStyle;return i==="richText"?(l?"":h)+(o?"":Ju(e,d,_))+(s?"":$u(e,g,y,m,b)):ju((l?"":h)+(o?"":qu(d,!l,_))+(s?"":Ku(g,y,m,b)),r)}function Xu(e,t,r,a,i,n){if(!e){return}var o=Hu(e);var s={useUTC:i,renderMode:r,orderMode:a,markupStyleCreator:t,valueFormatter:e.valueFormatter};return o(s,e,0,n)}function Zu(e){return{html:Vu[e],richText:Bu[e]}}function ju(e,t){var r='<div style="clear:both"></div>';var a="margin: "+t+"px 0 0";return'<div style="'+a+";"+Eu+';">'+e+r+"</div>"}function qu(e,t,r){var a=t?"margin-left:2px":"";return'<span style="'+r+";"+a+'">'+Ce(e)+"</span>"}function Ku(e,t,r,a){var i=r?"10px":"20px";var o=t?"float:right;margin-left:"+i:"";e=n(e)?e:[e];return'<span style="'+o+";"+a+'">'+f(e,(function(e){return Ce(e)})).join("&nbsp;&nbsp;")+"</span>"}function Ju(e,t,r){return e.markupStyleCreator.wrapRichTextStyle(t,r)}function $u(e,t,r,a,i){var o=[i];var s=a?10:20;r&&o.push({padding:[0,0,0,s],align:"right"});return e.markupStyleCreator.wrapRichTextStyle(n(t)?t.join("  "):t,o)}function Qu(e,t){var r=e.getData().getItemVisual(t,"style");var a=r[e.visualDrawType];return No(a)}function ec(e,t){var r=e.get("padding");return r!=null?r:t==="richText"?[8,10]:10}var tc=function(){function e(){this.richTextStyles={};this._nextStyleNameId=Et()}e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++};e.prototype.makeTooltipMarker=function(e,t,r){var a=r==="richText"?this._generateStyleName():null;var i=Lo({color:t,type:e,renderMode:r,markerId:a});if(u(i)){return i}else{this.richTextStyles[a]=i.style;return i.content}};e.prototype.wrapRichTextStyle=function(e,t){var r={};if(n(t)){s(t,(function(e){return d(r,e)}))}else{d(r,t)}var a=this._generateStyleName();this.richTextStyles[a]=r;return"{"+a+"|"+e+"}"};return e}();function rc(e){var t=e.series;var r=e.dataIndex;var a=e.multipleSeries;var i=t.getData();var o=i.mapDimensionsAll("defaultedTooltip");var s=o.length;var l=t.getRawValue(r);var u=n(l);var c=Qu(t,r);var v;var f;var h;var d;if(s>1||u&&!s){var p=ac(l,t,r,o,c);v=p.inlineValues;f=p.inlineValueTypes;h=p.blocks;d=p.inlineValues[0]}else if(s){var g=i.getDimensionInfo(o[0]);d=v=jl(i,r,o[0]);f=g.type}else{d=v=u?l[0]:l}var y=ur(t);var m=y&&t.name||"";var x=i.getName(r);var _=a?m:x;return Gu("section",{header:m,noHeader:a||!y,sortParam:d,blocks:[Gu("nameValue",{markerType:"item",markerColor:c,name:_,noName:!b(_),value:v,valueType:f,dataIndex:r})].concat(h||[])})}function ac(e,t,r,a,i){var n=t.getData();var o=A(e,(function(e,t,r){var a=n.getDimensionInfo(r);return e=e||a&&a.tooltip!==false&&a.displayName!=null}),false);var l=[];var u=[];var c=[];a.length?s(a,(function(e){v(jl(n,r,e),e)})):s(e,v);function v(e,t){var r=n.getDimensionInfo(t);if(!r||r.otherDims.tooltip===false){return}if(o){c.push(Gu("nameValue",{markerType:"subItem",markerColor:i,name:r.displayName,value:e,valueType:r.type}))}else{l.push(e);u.push(r.type)}}return{inlineValues:l,inlineValueTypes:u,blocks:c}}var ic=gr();function nc(e,t){return e.getName(t)||e.getId(t)}var oc="__universalTransitionEnabled";var sc=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e._selectedDataIndicesMap={};return e}r.prototype.init=function(e,t,r){this.seriesIndex=this.componentIndex;this.dataTask=$l({count:cc,reset:vc});this.dataTask.context={model:this};this.mergeDefaultAndTheme(e,r);var a=ic(this).sourceManager=new Pu(this);a.prepareSource();var i=this.getInitialData(e,r);hc(i,this);this.dataTask.context.data=i;ic(this).dataBeforeProcessed=i;lc(this);this._initSelectedMapFromData(i)};r.prototype.mergeDefaultAndTheme=function(e,t){var r=Uo(this);var i=r?Xo(e):{};var n=this.subType;if(qo.hasClass(n)){n+="Series"}a.merge(e,t.getTheme().get(this.subType));a.merge(e,this.getDefaultOption());qt(e,"label",["show"]);this.fillDataTextStyle(e.data);if(r){Yo(e,i,r)}};r.prototype.mergeOption=function(e,t){e=a.merge(this.option,e,true);this.fillDataTextStyle(e.data);var r=Uo(this);if(r){Yo(this.option,e,r)}var i=ic(this).sourceManager;i.dirty();i.prepareSource();var n=this.getInitialData(e,t);hc(n,this);this.dataTask.dirty();this.dataTask.context.data=n;ic(this).dataBeforeProcessed=n;lc(this);this._initSelectedMapFromData(n)};r.prototype.fillDataTextStyle=function(e){if(e&&!a.isTypedArray(e)){var t=["show"];for(var r=0;r<e.length;r++){if(e[r]&&e[r].label){qt(e[r],"label",t)}}}};r.prototype.getInitialData=function(e,t){return};r.prototype.appendData=function(e){var t=this.getRawData();t.appendData(e.data)};r.prototype.getData=function(e){var t=pc(this);if(t){var r=t.context.data;return e==null||!r.getLinkedData?r:r.getLinkedData(e)}else{return ic(this).data}};r.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]};r.prototype.setData=function(e){var t=pc(this);if(t){var r=t.context;r.outputData=e;if(t!==this.dataTask){r.data=e}}ic(this).data=e};r.prototype.getEncode=function(){var e=this.get("encode",true);if(e){return a.createHashMap(e)}};r.prototype.getSourceManager=function(){return ic(this).sourceManager};r.prototype.getSource=function(){return this.getSourceManager().getSource()};r.prototype.getRawData=function(){return ic(this).dataBeforeProcessed};r.prototype.getColorBy=function(){var e=this.get("colorBy");return e||"series"};r.prototype.isColorBySeries=function(){return this.getColorBy()==="series"};r.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()};r.prototype.formatTooltip=function(e,t,r){return rc({series:this,dataIndex:e,multipleSeries:t})};r.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(F.node&&!(e&&e.ssr)){return false}var t=this.getShallow("animation");if(t){if(this.getData().count()>this.getShallow("animationThreshold")){t=false}}return!!t};r.prototype.restoreData=function(){this.dataTask.dirty()};r.prototype.getColorFromPalette=function(e,t,r){var a=this.ecModel;var i=ws.prototype.getColorFromPalette.call(this,e,t,r);if(!i){i=a.getColorFromPalette(e,t,r)}return i};r.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)};r.prototype.getProgressive=function(){return this.get("progressive")};r.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")};r.prototype.select=function(e,t){this._innerSelect(this.getData(t),e)};r.prototype.unselect=function(e,t){var r=this.option.selectedMap;if(!r){return}var a=this.option.selectedMode;var i=this.getData(t);if(a==="series"||r==="all"){this.option.selectedMap={};this._selectedDataIndicesMap={};return}for(var n=0;n<e.length;n++){var o=e[n];var s=nc(i,o);r[s]=false;this._selectedDataIndicesMap[s]=-1}};r.prototype.toggleSelect=function(e,t){var r=[];for(var a=0;a<e.length;a++){r[0]=e[a];this.isSelected(e[a],t)?this.unselect(r,t):this.select(r,t)}};r.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all"){return[].slice.call(this.getData().getIndices())}var e=this._selectedDataIndicesMap;var t=a.keys(e);var r=[];for(var i=0;i<t.length;i++){var n=e[t[i]];if(n>=0){r.push(n)}}return r};r.prototype.isSelected=function(e,t){var r=this.option.selectedMap;if(!r){return false}var a=this.getData(t);return(r==="all"||r[nc(a,e)])&&!a.getItemModel(e).get(["select","disabled"])};r.prototype.isUniversalTransitionEnabled=function(){if(this[oc]){return true}var e=this.option.universalTransition;if(!e){return false}if(e===true){return true}return e&&e.enabled};r.prototype._innerSelect=function(e,t){var r,i;var n=this.option;var o=n.selectedMode;var s=t.length;if(!o||!s){return}if(o==="series"){n.selectedMap="all"}else if(o==="multiple"){if(!a.isObject(n.selectedMap)){n.selectedMap={}}var l=n.selectedMap;for(var u=0;u<s;u++){var c=t[u];var v=nc(e,c);l[v]=true;this._selectedDataIndicesMap[v]=e.getRawIndex(c)}}else if(o==="single"||o===true){var f=t[s-1];var v=nc(e,f);n.selectedMap=(r={},r[v]=true,r);this._selectedDataIndicesMap=(i={},i[v]=e.getRawIndex(f),i)}};r.prototype._initSelectedMapFromData=function(e){if(this.option.selectedMap){return}var t=[];if(e.hasItemOption){e.each((function(r){var a=e.getRawDataItem(r);if(a&&a.selected){t.push(r)}}))}if(t.length>0){this._innerSelect(e,t)}};r.registerClass=function(e){return qo.registerClass(e)};r.protoInitialize=function(){var e=r.prototype;e.type="series.__base__";e.seriesIndex=0;e.ignoreStyleOnData=false;e.hasSymbolVisual=false;e.defaultSymbol="circle";e.visualStyleAccessPath="itemStyle";e.visualDrawType="fill"}();return r}(qo);a.mixin(sc,Kl);a.mixin(sc,ws);Er(sc,qo);function lc(e){var t=e.name;if(!ur(e)){e.name=uc(e)||t}}function uc(e){var t=e.getRawData();var r=t.mapDimensionsAll("seriesName");var i=[];a.each(r,(function(e){var r=t.getDimensionInfo(e);r.displayName&&i.push(r.displayName)}));return i.join(" ")}function cc(e){return e.model.getRawData().count()}function vc(e){var t=e.model;t.setData(t.getRawData().cloneShallow());return fc}function fc(e,t){if(t.outputData&&e.end>t.outputData.count()){t.model.getRawData().cloneShallow(t.outputData)}}function hc(e,t){a.each(a.concatArray(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),(function(r){e.wrapMethod(r,a.curry(dc,t))}))}function dc(e,t){var r=pc(e);if(r){r.setOutputEnd((t||this).count())}return t}function pc(e){var t=(e.ecModel||{}).scheduler;var r=t&&t.getPipeline(e.uid);if(r){var a=r.currentTask;if(a){var i=a.agentStubMap;if(i){a=i.get(e.uid)}}return a}}var gc=function(){function e(){this.group=new ue;this.uid=Dn("viewComponent")}e.prototype.init=function(e,t){};e.prototype.render=function(e,t,r,a){};e.prototype.dispose=function(e,t){};e.prototype.updateView=function(e,t,r,a){};e.prototype.updateLayout=function(e,t,r,a){};e.prototype.updateVisual=function(e,t,r,a){};e.prototype.toggleBlurSeries=function(e,t,r){};e.prototype.eachRendered=function(e){var t=this.group;if(t){t.traverse(e)}};return e}();Or(gc);Fr(gc);function yc(){var e=gr();return function(t){var r=e(t);var a=t.pipelineContext;var i=!!r.large;var n=!!r.progressiveRender;var o=r.large=!!(a&&a.large);var s=r.progressiveRender=!!(a&&a.progressiveRender);return!!(i!==o||n!==s)&&"reset"}}var mc=gr();var xc=yc();var _c=function(){function e(){this.group=new ue;this.uid=Dn("viewChart");this.renderTask=$l({plan:wc,reset:Mc});this.renderTask.context={view:this}}e.prototype.init=function(e,t){};e.prototype.render=function(e,t,r,a){};e.prototype.highlight=function(e,t,r,a){var i=e.getData(a&&a.dataType);if(!i){return}Sc(i,a,"emphasis")};e.prototype.downplay=function(e,t,r,a){var i=e.getData(a&&a.dataType);if(!i){return}Sc(i,a,"normal")};e.prototype.remove=function(e,t){this.group.removeAll()};e.prototype.dispose=function(e,t){};e.prototype.updateView=function(e,t,r,a){this.render(e,t,r,a)};e.prototype.updateLayout=function(e,t,r,a){this.render(e,t,r,a)};e.prototype.updateVisual=function(e,t,r,a){this.render(e,t,r,a)};e.prototype.eachRendered=function(e){ji(this.group,e)};e.markUpdateMethod=function(e,t){mc(e).updateMethod=t};e.protoInitialize=function(){var t=e.prototype;t.type="chart"}();return e}();function bc(e,t,r){if(e&&ei(e)){(t==="emphasis"?Aa:La)(e,r)}}function Sc(e,t,r){var a=pr(e,t);var i=t&&t.highlightKey!=null?ri(t.highlightKey):null;if(a!=null){s(jt(a),(function(t){bc(e.getItemGraphicEl(t),r,i)}))}else{e.eachItemGraphicEl((function(e){bc(e,r,i)}))}}Or(_c);Fr(_c);function wc(e){return xc(e.model)}function Mc(e){var t=e.model;var r=e.ecModel;var a=e.api;var i=e.payload;var n=t.pipelineContext.progressiveRender;var o=e.view;var s=i&&mc(i).updateMethod;var l=n?"incrementalPrepareRender":s&&o[s]?s:"render";if(l!=="render"){o[l](t,r,a,i)}return Ic[l]}var Ic={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:true,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}};var Dc="\0__throttleOriginMethod";var Tc="\0__throttleRate";var Cc="\0__throttleType";function Ac(e,t,r){var a;var i=0;var n=0;var o=null;var s;var l;var u;var c;t=t||0;function v(){n=(new Date).getTime();o=null;e.apply(l,u||[])}var f=function(){var e=[];for(var f=0;f<arguments.length;f++){e[f]=arguments[f]}a=(new Date).getTime();l=this;u=e;var h=c||t;var d=c||r;c=null;s=a-(d?i:n)-h;clearTimeout(o);if(d){o=setTimeout(v,h)}else{if(s>=0){v()}else{o=setTimeout(v,-s)}}i=a};f.clear=function(){if(o){clearTimeout(o);o=null}};f.debounceNextCall=function(e){c=e};return f}function Lc(e,t,r,a){var i=e[t];if(!i){return}var n=i[Dc]||i;var o=i[Cc];var s=i[Tc];if(s!==r||o!==a){if(r==null||!a){return e[t]=n}i=e[t]=Ac(n,r,a==="debounce");i[Dc]=n;i[Cc]=a;i[Tc]=r}return i}function kc(e,t){var r=e[t];if(r&&r[Dc]){r.clear&&r.clear();e[t]=r[Dc]}}var Pc=gr();var Nc={itemStyle:Hr(bn,true),lineStyle:Hr(mn,true)};var Oc={lineStyle:"stroke",itemStyle:"fill"};function Rc(e,t){var r=e.visualStyleMapper||Nc[t];if(!r){console.warn("Unknown style type '"+t+"'.");return Nc.itemStyle}return r}function Ec(e,t){var r=e.visualDrawType||Oc[t];if(!r){console.warn("Unknown style type '"+t+"'.");return"fill"}return r}var zc={createOnAllSeries:true,performRawSeries:true,reset:function(e,t){var r=e.getData();var a=e.visualStyleAccessPath||"itemStyle";var i=e.getModel(a);var n=Rc(e,a);var o=n(i);var s=i.getShallow("decal");if(s){r.setVisual("decal",s);s.dirty=true}var l=Ec(e,a);var u=o[l];var c=m(u)?u:null;var v=o.fill==="auto"||o.stroke==="auto";if(!o[l]||c||v){var f=e.getColorFromPalette(e.name,null,t.getSeriesCount());if(!o[l]){o[l]=f;r.setVisual("colorFromPalette",true)}o.fill=o.fill==="auto"||m(o.fill)?f:o.fill;o.stroke=o.stroke==="auto"||m(o.stroke)?f:o.stroke}r.setVisual("style",o);r.setVisual("drawType",l);if(!t.isSeriesFiltered(e)&&c){r.setVisual("colorFromPalette",false);return{dataEach:function(t,r){var a=e.getDataParams(r);var i=d({},o);i[l]=c(a);t.setItemVisual(r,"style",i)}}}}};var Vc=new Mn;var Bc={createOnAllSeries:true,performRawSeries:true,reset:function(e,t){if(e.ignoreStyleOnData||t.isSeriesFiltered(e)){return}var r=e.getData();var a=e.visualStyleAccessPath||"itemStyle";var i=Rc(e,a);var n=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(e,t){var r=e.getRawDataItem(t);if(r&&r[a]){Vc.option=r[a];var o=i(Vc);var s=e.ensureUniqueItemVisual(t,"style");d(s,o);if(Vc.option.decal){e.setItemVisual(t,"decal",Vc.option.decal);Vc.option.decal.dirty=true}if(n in o){e.setItemVisual(t,"colorFromPalette",false)}}}:null}}};var Gc={performRawSeries:true,overallReset:function(e){var t=o();e.eachSeries((function(e){var r=e.getColorBy();if(e.isColorBySeries()){return}var a=e.type+"-"+r;var i=t.get(a);if(!i){i={};t.set(a,i)}Pc(e).scope=i}));e.eachSeries((function(t){if(t.isColorBySeries()||e.isSeriesFiltered(t)){return}var r=t.getRawData();var a={};var i=t.getData();var n=Pc(t).scope;var o=t.visualStyleAccessPath||"itemStyle";var s=Ec(t,o);i.each((function(e){var t=i.getRawIndex(e);a[t]=e}));r.each((function(e){var o=a[e];var l=i.getItemVisual(o,"colorFromPalette");if(l){var u=i.ensureUniqueItemVisual(o,"style");var c=r.getName(e)||e+"";var v=r.count();u[s]=t.getColorFromPalette(c,n,v)}}))}))}};var Fc=Math.PI;function Hc(e,t){t=t||{};a.defaults(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:true,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new ue;var i=new ge({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});r.add(i);var n=new U({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001});var o=new ge({style:{fill:"none"},textContent:n,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});r.add(o);var s;if(t.showSpinner){s=new xe({shape:{startAngle:-Fc/2,endAngle:-Fc/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001});s.animateShape(true).when(1e3,{endAngle:Fc*3/2}).start("circularInOut");s.animateShape(true).when(1e3,{startAngle:Fc*3/2}).delay(300).start("circularInOut");r.add(s)}r.resize=function(){var r=n.getBoundingRect().width;var a=t.showSpinner?t.spinnerRadius:0;var l=(e.getWidth()-a*2-(t.showSpinner&&r?10:0)-r)/2-(t.showSpinner&&r?0:5+r/2)+(t.showSpinner?0:r/2)+(r?0:a);var u=e.getHeight()/2;t.showSpinner&&s.setShape({cx:l,cy:u});o.setShape({x:l-a,y:u-a,width:a*2,height:a*2});i.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})};r.resize();return r}var Wc=function(){function e(e,t,r,a){this._stageTaskMap=o();this.ecInstance=e;this.api=t;r=this._dataProcessorHandlers=r.slice();a=this._visualHandlers=a.slice();this._allHandlers=r.concat(a)}e.prototype.restoreData=function(e,t){e.restoreData(t);this._stageTaskMap.each((function(e){var t=e.overallTask;t&&t.dirty()}))};e.prototype.getPerformArgs=function(e,t){if(!e.__pipeline){return}var r=this._pipelineMap.get(e.__pipeline.id);var a=r.context;var i=!t&&r.progressiveEnabled&&(!a||a.progressiveRender)&&e.__idxInPipeline>r.blockIndex;var n=i?r.step:null;var o=a&&a.modDataCount;var s=o!=null?Math.ceil(o/n):null;return{step:n,modBy:s,modDataCount:o}};e.prototype.getPipeline=function(e){return this._pipelineMap.get(e)};e.prototype.updateStreamModes=function(e,t){var r=this._pipelineMap.get(e.uid);var a=e.getData();var i=a.count();var n=r.progressiveEnabled&&t.incrementalPrepareRender&&i>=r.threshold;var o=e.get("large")&&i>=e.get("largeThreshold");var s=e.get("progressiveChunkMode")==="mod"?i:null;e.pipelineContext=r.context={progressiveRender:n,modDataCount:s,large:o}};e.prototype.restorePipelines=function(e){var t=this;var r=t._pipelineMap=o();e.eachSeries((function(e){var a=e.getProgressive();var i=e.uid;r.set(i,{id:i,head:null,tail:null,threshold:e.getProgressiveThreshold(),progressiveEnabled:a&&!(e.preventIncremental&&e.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0});t._pipe(e,e.dataTask)}))};e.prototype.prepareStageTasks=function(){var e=this._stageTaskMap;var t=this.api.getModel();var r=this.api;s(this._allHandlers,(function(a){var i=e.get(a.uid)||e.set(a.uid,{});var n="";l(!(a.reset&&a.overallReset),n);a.reset&&this._createSeriesStageTask(a,i,t,r);a.overallReset&&this._createOverallStageTask(a,i,t,r)}),this)};e.prototype.prepareView=function(e,t,r,a){var i=e.renderTask;var n=i.context;n.model=t;n.ecModel=r;n.api=a;i.__block=!e.incrementalPrepareRender;this._pipe(t,i)};e.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:true})};e.prototype.performVisualTasks=function(e,t,r){this._performStageTasks(this._visualHandlers,e,t,r)};e.prototype._performStageTasks=function(e,t,r,a){a=a||{};var i=false;var n=this;s(e,(function(e,s){if(a.visualType&&a.visualType!==e.visualType){return}var l=n._stageTaskMap.get(e.uid);var u=l.seriesTaskMap;var c=l.overallTask;if(c){var v;var f=c.agentStubMap;f.each((function(e){if(o(a,e)){e.dirty();v=true}}));v&&c.dirty();n.updatePayload(c,r);var h=n.getPerformArgs(c,a.block);f.each((function(e){e.perform(h)}));if(c.perform(h)){i=true}}else if(u){u.each((function(s,l){if(o(a,s)){s.dirty()}var u=n.getPerformArgs(s,a.block);u.skip=!e.performRawSeries&&t.isSeriesFiltered(s.context.model);n.updatePayload(s,r);if(s.perform(u)){i=true}}))}}));function o(e,t){return e.setDirty&&(!e.dirtyMap||e.dirtyMap.get(t.__pipeline.id))}this.unfinished=i||this.unfinished};e.prototype.performSeriesTasks=function(e){var t;e.eachSeries((function(e){t=e.dataTask.perform()||t}));this.unfinished=t||this.unfinished};e.prototype.plan=function(){this._pipelineMap.each((function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)}))};e.prototype.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)};e.prototype._createSeriesStageTask=function(e,t,r,a){var i=this;var n=t.seriesTaskMap;var s=t.seriesTaskMap=o();var l=e.seriesType;var u=e.getTargetSeries;if(e.createOnAllSeries){r.eachRawSeries(c)}else if(l){r.eachRawSeriesByType(l,c)}else if(u){u(r,a).each(c)}function c(t){var o=t.uid;var l=s.set(o,n&&n.get(o)||$l({plan:jc,reset:qc,count:$c}));l.context={model:t,ecModel:r,api:a,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:i};i._pipe(t,l)}};e.prototype._createOverallStageTask=function(e,t,r,a){var i=this;var n=t.overallTask=t.overallTask||$l({reset:Uc});n.context={ecModel:r,api:a,overallReset:e.overallReset,scheduler:i};var u=n.agentStubMap;var c=n.agentStubMap=o();var v=e.seriesType;var f=e.getTargetSeries;var h=true;var d=false;var p="";l(!e.createOnAllSeries,p);if(v){r.eachRawSeriesByType(v,g)}else if(f){f(r,a).each(g)}else{h=false;s(r.getSeries(),g)}function g(e){var t=e.uid;var r=c.set(t,u&&u.get(t)||(d=true,$l({reset:Yc,onDirty:Zc})));r.context={model:e,overallProgress:h};r.agent=n;r.__block=h;i._pipe(e,r)}if(d){n.dirty()}};e.prototype._pipe=function(e,t){var r=e.uid;var a=this._pipelineMap.get(r);!a.head&&(a.head=t);a.tail&&a.tail.pipe(t);a.tail=t;t.__idxInPipeline=a.count++;t.__pipeline=a};e.wrapStageHandler=function(e,t){if(m(e)){e={overallReset:e,seriesType:Qc(e)}}e.uid=Dn("stageHandler");t&&(e.visualType=t);return e};return e}();function Uc(e){e.overallReset(e.ecModel,e.api,e.payload)}function Yc(e){return e.overallProgress&&Xc}function Xc(){this.agent.dirty();this.getDownstream().dirty()}function Zc(){this.agent&&this.agent.dirty()}function jc(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function qc(e){if(e.useClearVisual){e.data.clearAllVisual()}var t=e.resetDefines=jt(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?f(t,(function(e,t){return Jc(t)})):Kc}var Kc=Jc(0);function Jc(e){return function(t,r){var a=r.data;var i=r.resetDefines[e];if(i&&i.dataEach){for(var n=t.start;n<t.end;n++){i.dataEach(a,n)}}else if(i&&i.progress){i.progress(t,a)}}}function $c(e){return e.data.count()}function Qc(e){rv=null;try{e(ev,tv)}catch(e){}return rv}var ev={};var tv={};var rv;av(ev,Ns);av(tv,Gs);ev.eachSeriesByType=ev.eachRawSeriesByType=function(e){rv=e};ev.eachComponent=function(e){if(e.mainType==="series"&&e.subType){rv=e.subType}};function av(e,t){for(var r in t.prototype){e[r]=L}}var iv=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];var nv={color:iv,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],iv]};var ov="#B9B8CE";var sv="#100C2A";var lv=function(){return{axisLine:{lineStyle:{color:ov}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}};var uv=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"];var cv={darkMode:true,color:uv,backgroundColor:sv,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:ov}},textStyle:{color:ov},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:ov}},dataZoom:{borderColor:"#71708A",textStyle:{color:ov},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:ov}},timeline:{lineStyle:{color:ov},label:{color:ov},controlStyle:{color:ov,borderColor:ov}},calendar:{itemStyle:{color:sv},dayLabel:{color:ov},monthLabel:{color:ov},yearLabel:{color:ov}},timeAxis:lv(),logAxis:lv(),valueAxis:lv(),categoryAxis:lv(),line:{symbol:"circle"},graph:{color:uv},gauge:{title:{color:ov},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:ov},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};cv.categoryAxis.splitLine.show=false;var vv=function(){function e(){}e.prototype.normalizeQuery=function(e){var t={};var r={};var i={};if(a.isString(e)){var n=kr(e);t.mainType=n.main||null;t.subType=n.sub||null}else{var o=["Index","Name","Id"];var s={name:1,dataIndex:1,dataType:1};a.each(e,(function(e,a){var n=false;for(var l=0;l<o.length;l++){var u=o[l];var c=a.lastIndexOf(u);if(c>0&&c===a.length-u.length){var v=a.slice(0,c);if(v!=="data"){t.mainType=v;t[u.toLowerCase()]=e;n=true}}}if(s.hasOwnProperty(a)){r[a]=e;n=true}if(!n){i[a]=e}}))}return{cptQuery:t,dataQuery:r,otherQuery:i}};e.prototype.filter=function(e,t){var r=this.eventInfo;if(!r){return true}var a=r.targetEl;var i=r.packedEvent;var n=r.model;var o=r.view;if(!n||!o){return true}var s=t.cptQuery;var l=t.dataQuery;return u(s,n,"mainType")&&u(s,n,"subType")&&u(s,n,"index","componentIndex")&&u(s,n,"name")&&u(s,n,"id")&&u(l,i,"name")&&u(l,i,"dataIndex")&&u(l,i,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(e,t.otherQuery,a,i));function u(e,t,r,a){return e[r]==null||t[a||r]===e[r]}};e.prototype.afterTrigger=function(){this.eventInfo=null};return e}();var fv=["symbol","symbolSize","symbolRotate","symbolOffset"];var hv=fv.concat(["symbolKeepAspect"]);var dv={createOnAllSeries:true,performRawSeries:true,reset:function(e,t){var r=e.getData();if(e.legendIcon){r.setVisual("legendIcon",e.legendIcon)}if(!e.hasSymbolVisual){return}var a={};var i={};var n=false;for(var o=0;o<fv.length;o++){var s=fv[o];var l=e.get(s);if(m(l)){n=true;i[s]=l}else{a[s]=l}}a.symbol=a.symbol||e.defaultSymbol;r.setVisual(d({legendIcon:e.legendIcon||a.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},a));if(t.isSeriesFiltered(e)){return}var u=g(i);function c(t,r){var a=e.getRawValue(r);var n=e.getDataParams(r);for(var o=0;o<u.length;o++){var s=u[o];t.setItemVisual(r,s,i[s](a,n))}}return{dataEach:n?c:null}}};var pv={createOnAllSeries:true,performRawSeries:true,reset:function(e,t){if(!e.hasSymbolVisual){return}if(t.isSeriesFiltered(e)){return}var r=e.getData();function a(e,t){var r=e.getItemModel(t);for(var a=0;a<hv.length;a++){var i=hv[a];var n=r.getShallow(i,true);if(n!=null){e.setItemVisual(t,i,n)}}}return{dataEach:r.hasItemOption?a:null}}};function gv(e,t,r){switch(r){case"color":var a=e.getItemVisual(t,"style");return a[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,r)}}function yv(e,t){switch(t){case"color":var r=e.getVisual("style");return r[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t)}}function mv(e,t,r,a){switch(r){case"color":var i=e.ensureUniqueItemVisual(t,"style");i[e.getVisual("drawType")]=a;e.setItemVisual(t,"colorFromPalette",false);break;case"opacity":e.ensureUniqueItemVisual(t,"style").opacity=a;break;case"symbol":case"symbolSize":case"liftZ":e.setItemVisual(t,r,a);break}}function xv(e,t){function r(t,r){var a=[];t.eachComponent({mainType:"series",subType:e,query:r},(function(e){a.push(e.seriesIndex)}));return a}s([[e+"ToggleSelect","toggleSelect"],[e+"Select","select"],[e+"UnSelect","unselect"]],(function(e){t(e[0],(function(t,a,i){t=d({},t);i.dispatchAction(d(t,{type:e[1],seriesIndex:r(a,t)}))}))}))}function _v(e,t,r,a,i){var o=e+t;if(!r.isSilent(o)){a.eachComponent({mainType:"series",subType:"pie"},(function(e){var t=e.seriesIndex;var a=e.option.selectedMap;var s=i.selected;for(var l=0;l<s.length;l++){if(s[l].seriesIndex===t){var c=e.getData();var v=pr(c,i.fromActionPayload);r.trigger(o,{type:o,seriesId:e.id,name:n(v)?c.getName(v[0]):c.getName(v),selected:u(a)?a:d({},a)})}}}))}}function bv(e,t,r){e.on("selectchanged",(function(e){var a=r.getModel();if(e.isFromClick){_v("map","selectchanged",t,a,e);_v("pie","selectchanged",t,a,e)}else if(e.fromAction==="select"){_v("map","selected",t,a,e);_v("pie","selected",t,a,e)}else if(e.fromAction==="unselect"){_v("map","unselected",t,a,e);_v("pie","unselected",t,a,e)}}))}function Sv(e,t,r){var a;while(e){if(t(e)){a=e;if(r){break}}e=e.__hostTarget||e.parent}return a}var wv=Q.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var r=t.cx;var a=t.cy;var i=t.width/2;var n=t.height/2;e.moveTo(r,a-n);e.lineTo(r+i,a+n);e.lineTo(r-i,a+n);e.closePath()}});var Mv=Q.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var r=t.cx;var a=t.cy;var i=t.width/2;var n=t.height/2;e.moveTo(r,a-n);e.lineTo(r+i,a);e.lineTo(r,a+n);e.lineTo(r-i,a);e.closePath()}});var Iv=Q.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var r=t.x;var a=t.y;var i=t.width/5*3;var n=Math.max(i,t.height);var o=i/2;var s=o*o/(n-o);var l=a-n+o+s;var u=Math.asin(s/o);var c=Math.cos(u)*o;var v=Math.sin(u);var f=Math.cos(u);var h=o*.6;var d=o*.7;e.moveTo(r-c,l+s);e.arc(r,l,o,Math.PI-u,Math.PI*2+u);e.bezierCurveTo(r+c-v*h,l+s+f*h,r,a-d,r,a);e.bezierCurveTo(r,a-d,r-c+v*h,l+s+f*h,r-c,l+s);e.closePath()}});var Dv=Q.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var r=t.height;var a=t.width;var i=t.x;var n=t.y;var o=a/3*2;e.moveTo(i,n);e.lineTo(i+o,n+r);e.lineTo(i,n+r/4*3);e.lineTo(i-o,n+r);e.lineTo(i,n);e.closePath()}});var Tv={line:ye,rect:ge,roundRect:ge,square:ge,circle:ce,diamond:Mv,pin:Iv,arrow:Dv,triangle:wv};var Cv={line:function(e,t,r,a,i){i.x1=e;i.y1=t+a/2;i.x2=e+r;i.y2=t+a/2},rect:function(e,t,r,a,i){i.x=e;i.y=t;i.width=r;i.height=a},roundRect:function(e,t,r,a,i){i.x=e;i.y=t;i.width=r;i.height=a;i.r=Math.min(r,a)/4},square:function(e,t,r,a,i){var n=Math.min(r,a);i.x=e;i.y=t;i.width=n;i.height=n},circle:function(e,t,r,a,i){i.cx=e+r/2;i.cy=t+a/2;i.r=Math.min(r,a)/2},diamond:function(e,t,r,a,i){i.cx=e+r/2;i.cy=t+a/2;i.width=r;i.height=a},pin:function(e,t,r,a,i){i.x=e+r/2;i.y=t+a/2;i.width=r;i.height=a},arrow:function(e,t,r,a,i){i.x=e+r/2;i.y=t+a/2;i.width=r;i.height=a},triangle:function(e,t,r,a,i){i.cx=e+r/2;i.cy=t+a/2;i.width=r;i.height=a}};var Av={};s(Tv,(function(e,t){Av[t]=new e}));var Lv=Q.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,r){var a=Oe(e,t,r);var i=this.shape;if(i&&i.symbolType==="pin"&&t.position==="inside"){a.y=r.y+r.height*.4}return a},buildPath:function(e,t,r){var a=t.symbolType;if(a!=="none"){var i=Av[a];if(!i){a="rect";i=Av[a]}Cv[a](t.x,t.y,t.width,t.height,i.shape);i.buildPath(e,i.shape,r)}}});function kv(e,t){if(this.type!=="image"){var r=this.style;if(this.__isEmptyBrush){r.stroke=e;r.fill=t||"#fff";r.lineWidth=2}else if(this.shape.symbolType==="line"){r.stroke=e}else{r.fill=e}this.markRedraw()}}function Pv(e,t,r,a,i,n,o){var s=e.indexOf("empty")===0;if(s){e=e.substr(5,1).toLowerCase()+e.substr(6)}var l;if(e.indexOf("image://")===0){l=Di(e.slice(8),new we(t,r,a,i),o?"center":"cover")}else if(e.indexOf("path://")===0){l=Ii(e.slice(7),{},new we(t,r,a,i),o?"center":"cover")}else{l=new Lv({shape:{symbolType:e,x:t,y:r,width:a,height:i}})}l.__isEmptyBrush=s;l.setColor=kv;if(n){l.setColor(n)}return l}function Nv(e){if(!n(e)){e=[+e,+e]}return[e[0]||0,e[1]||0]}function Ov(e,t){if(e==null){return}if(!n(e)){e=[e,e]}return[pt(e[0],t[0])||0,pt(y(e[1],e[0]),t[1])||0]}var Rv=new ke;var Ev=new Pe(100);var zv=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Vv(e,t){if(e==="none"){return null}var r=t.getDevicePixelRatio();var a=t.getZr();var i=a.painter.type==="svg";if(e.dirty){Rv["delete"](e)}var o=Rv.get(e);if(o){return o}var s=x(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:true,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});if(s.backgroundColor==="none"){s.backgroundColor=null}var l={repeat:"repeat"};v(l);l.rotation=s.rotation;l.scaleX=l.scaleY=i?1:1/r;Rv.set(e,l);e.dirty=false;return l;function v(e){var t=[r];var o=true;for(var l=0;l<zv.length;++l){var v=s[zv[l]];if(v!=null&&!n(v)&&!u(v)&&!c(v)&&typeof v!=="boolean"){o=false;break}t.push(v)}var f;if(o){f=t.join(",")+(i?"-svg":"");var h=Ev.get(f);if(h){i?e.svgElement=h:e.image=h}}var d=Gv(s.dashArrayX);var p=Fv(s.dashArrayY);var g=Bv(s.symbol);var y=Hv(d);var m=Wv(p);var x=!i&&ze.createCanvas();var _=i&&{tag:"g",attrs:{},key:"dcl",children:[]};var b=w();var S;if(x){x.width=b.width*r;x.height=b.height*r;S=x.getContext("2d")}M();if(o){Ev.put(f,x||_)}e.image=x;e.svgElement=_;e.svgWidth=b.width;e.svgHeight=b.height;function w(){var e=1;for(var t=0,r=y.length;t<r;++t){e=Vt(e,y[t])}var a=1;for(var t=0,r=g.length;t<r;++t){a=Vt(a,g[t].length)}e*=a;var i=m*y.length*g.length;return{width:Math.max(1,Math.min(e,s.maxTileWidth)),height:Math.max(1,Math.min(i,s.maxTileHeight))}}function M(){if(S){S.clearRect(0,0,x.width,x.height);if(s.backgroundColor){S.fillStyle=s.backgroundColor;S.fillRect(0,0,x.width,x.height)}}var e=0;for(var t=0;t<p.length;++t){e+=p[t]}if(e<=0){return}var n=-m;var o=0;var l=0;var u=0;while(n<b.height){if(o%2===0){var c=l/2%g.length;var v=0;var f=0;var h=0;while(v<b.width*2){var y=0;for(var t=0;t<d[u].length;++t){y+=d[u][t]}if(y<=0){break}if(f%2===0){var w=(1-s.symbolSize)*.5;var M=v+d[u][f]*w;var I=n+p[o]*w;var D=d[u][f]*s.symbolSize;var T=p[o]*s.symbolSize;var C=h/2%g[c].length;A(M,I,D,T,g[c][C])}v+=d[u][f];++h;++f;if(f===d[u].length){f=0}}++u;if(u===d.length){u=0}}n+=p[o];++l;++o;if(o===p.length){o=0}}function A(e,t,n,o,l){var u=i?1:r;var c=Pv(l,e*u,t*u,n*u,o*u,s.color,s.symbolKeepAspect);if(i){var v=a.painter.renderOneToVNode(c);if(v){_.children.push(v)}}else{Ee(S,c)}}}}}function Bv(e){if(!e||e.length===0){return[["rect"]]}if(u(e)){return[[e]]}var t=true;for(var r=0;r<e.length;++r){if(!u(e[r])){t=false;break}}if(t){return Bv([e])}var a=[];for(var r=0;r<e.length;++r){if(u(e[r])){a.push([e[r]])}else{a.push(e[r])}}return a}function Gv(e){if(!e||e.length===0){return[[0,0]]}if(c(e)){var t=Math.ceil(e);return[[t,t]]}var r=true;for(var a=0;a<e.length;++a){if(!c(e[a])){r=false;break}}if(r){return Gv([e])}var i=[];for(var a=0;a<e.length;++a){if(c(e[a])){var t=Math.ceil(e[a]);i.push([t,t])}else{var t=f(e[a],(function(e){return Math.ceil(e)}));if(t.length%2===1){i.push(t.concat(t))}else{i.push(t)}}}return i}function Fv(e){if(!e||typeof e==="object"&&e.length===0){return[0,0]}if(c(e)){var t=Math.ceil(e);return[t,t]}var r=f(e,(function(e){return Math.ceil(e)}));return e.length%2?r.concat(r):r}function Hv(e){return f(e,(function(e){return Wv(e)}))}function Wv(e){var t=0;for(var r=0;r<e.length;++r){t+=e[r]}if(e.length%2===1){return t*2}return t}function Uv(e,t){e.eachRawSeries((function(r){if(e.isSeriesFiltered(r)){return}var a=r.getData();if(a.hasItemVisual()){a.each((function(e){var r=a.getItemVisual(e,"decal");if(r){var i=a.ensureUniqueItemVisual(e,"style");i.decal=Vv(r,t)}}))}var i=a.getVisual("decal");if(i){var n=a.getVisual("style");n.decal=Vv(i,t)}}))}var Yv=new W;var Xv={};function Zv(e,t){Xv[e]=t}function jv(e){return Xv[e]}var qv="5.5.1";var Kv={zrender:"5.6.0"};var Jv=1;var $v=800;var Qv=900;var ef=1e3;var tf=2e3;var rf=5e3;var af=1e3;var nf=1100;var of=2e3;var sf=3e3;var lf=4e3;var uf=4500;var cf=4600;var vf=5e3;var ff=6e3;var hf=7e3;var df={PROCESSOR:{FILTER:ef,SERIES_FILTER:$v,STATISTIC:rf},VISUAL:{LAYOUT:af,PROGRESSIVE_LAYOUT:nf,GLOBAL:of,CHART:sf,POST_CHART_LAYOUT:cf,COMPONENT:lf,BRUSH:vf,CHART_ITEM:uf,ARIA:ff,DECAL:hf}};var pf="__flagInMainProcess";var gf="__pendingUpdate";var yf="__needsUpdateStatus";var mf=/^[a-zA-Z0-9_]+$/;var xf="__connectUpdateStatus";var _f=0;var bf=1;var Sf=2;function wf(e){return function(){var t=[];for(var r=0;r<arguments.length;r++){t[r]=arguments[r]}if(this.isDisposed()){qf(this.id);return}return If(this,e,t)}}function Mf(e){return function(){var t=[];for(var r=0;r<arguments.length;r++){t[r]=arguments[r]}return If(this,e,t)}}function If(e,t,r){r[0]=r[0]&&r[0].toLowerCase();return W.prototype[t].apply(e,r)}var Df=function(t){e(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r}(W);var Tf=Df.prototype;Tf.on=Mf("on");Tf.off=Mf("off");var Cf;var Af;var Lf;var kf;var Pf;var Nf;var Of;var Rf;var Ef;var zf;var Vf;var Bf;var Gf;var Ff;var Hf;var Wf;var Uf;var Yf;var Xf=function(r){e(a,r);function a(e,a,i){var n=r.call(this,new vv)||this;n._chartsViews=[];n._chartsMap={};n._componentsViews=[];n._componentsMap={};n._pendingActions=[];i=i||{};if(u(a)){a=th[a]}n._dom=e;var s="canvas";var l="auto";var c=false;if(i.ssr){t.registerSSRDataGetter((function(e){var t=Xr(e);var r=t.dataIndex;if(r==null){return}var a=o();a.set("series_index",t.seriesIndex);a.set("data_index",r);t.ssrType&&a.set("ssr_type",t.ssrType);return a}))}var v=n._zr=t.init(e,{renderer:i.renderer||s,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:y(i.useDirtyRect,c),useCoarsePointer:y(i.useCoarsePointer,l),pointerSize:i.pointerSize});n._ssr=i.ssr;n._throttledZrFlush=Ac(C(v.flush,v),17);a=w(a);a&&ml(a,true);n._theme=a;n._locale=Bn(i.locale||zn);n._coordSysMgr=new Hs;var f=n._api=Hf(n);function h(e,t){return e.__prio-t.__prio}H(eh,h);H($f,h);n._scheduler=new Wc(n,f,$f,eh);n._messageCenter=new Df;n._initEvents();n.resize=C(n.resize,n);v.animation.on("frame",n._onframe,n);zf(v,n);Vf(v,n);T(n);return n}a.prototype._onframe=function(){if(this._disposed){return}Yf(this);var e=this._scheduler;if(this[gf]){var t=this[gf].silent;this[pf]=true;try{Cf(this);kf.update.call(this,null,this[gf].updateParams)}catch(e){this[pf]=false;this[gf]=null;throw e}this._zr.flush();this[pf]=false;this[gf]=null;Rf.call(this,t);Ef.call(this,t)}else if(e.unfinished){var r=Jv;var a=this._model;var i=this._api;e.unfinished=false;do{var n=+new Date;e.performSeriesTasks(a);e.performDataProcessorTasks(a);Nf(this,a);e.performVisualTasks(a);Ff(this,this._model,i,"remain",{});r-=+new Date-n}while(r>0&&e.unfinished);if(!e.unfinished){this._zr.flush()}}};a.prototype.getDom=function(){return this._dom};a.prototype.getId=function(){return this.id};a.prototype.getZr=function(){return this._zr};a.prototype.isSSR=function(){return this._ssr};a.prototype.setOption=function(e,t,r){if(this[pf]){return}if(this._disposed){qf(this.id);return}var a;var n;var o;if(i(t)){r=t.lazyUpdate;a=t.silent;n=t.replaceMerge;o=t.transition;t=t.notMerge}this[pf]=true;if(!this._model||t){var s=new Us(this._api);var l=this._theme;var u=this._model=new Ns;u.scheduler=this._scheduler;u.ssr=this._ssr;u.init(null,null,null,l,this._locale,s)}this._model.setOption(e,{replaceMerge:n},Qf);var c={seriesTransition:o,optionChanged:true};if(r){this[gf]={silent:a,updateParams:c};this[pf]=false;this.getZr().wakeUp()}else{try{Cf(this);kf.update.call(this,null,c)}catch(e){this[gf]=null;this[pf]=false;throw e}if(!this._ssr){this._zr.flush()}this[gf]=null;this[pf]=false;Rf.call(this,a);Ef.call(this,a)}};a.prototype.setTheme=function(){};a.prototype.getModel=function(){return this._model};a.prototype.getOption=function(){return this._model&&this._model.getOption()};a.prototype.getWidth=function(){return this._zr.getWidth()};a.prototype.getHeight=function(){return this._zr.getHeight()};a.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||F.hasGlobalWindow&&window.devicePixelRatio||1};a.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)};a.prototype.renderToCanvas=function(e){e=e||{};var t=this._zr.painter;return t.getRenderedCanvas({backgroundColor:e.backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})};a.prototype.renderToSVGString=function(e){e=e||{};var t=this._zr.painter;return t.renderToString({useViewBox:e.useViewBox})};a.prototype.getSvgDataURL=function(){if(!F.svgSupported){return}var e=this._zr;var t=e.storage.getDisplayList();s(t,(function(e){e.stopAnimation(null,true)}));return e.painter.toDataURL()};a.prototype.getDataURL=function(e){if(this._disposed){qf(this.id);return}e=e||{};var t=e.excludeComponents;var r=this._model;var a=[];var i=this;s(t,(function(e){r.eachComponent({mainType:e},(function(e){var t=i._componentsMap[e.__viewId];if(!t.group.ignore){a.push(t);t.group.ignore=true}}))}));var n=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));s(a,(function(e){e.group.ignore=false}));return n};a.prototype.getConnectedDataURL=function(e){if(this._disposed){qf(this.id);return}var r=e.type==="svg";var a=this.group;var i=Math.min;var n=Math.max;var o=Infinity;if(ih[a]){var l=o;var u=o;var c=-o;var v=-o;var f=[];var h=e&&e.pixelRatio||this.getDevicePixelRatio();s(ah,(function(t,o){if(t.group===a){var s=r?t.getZr().painter.getSvgDom().innerHTML:t.renderToCanvas(w(e));var h=t.getDom().getBoundingClientRect();l=i(h.left,l);u=i(h.top,u);c=n(h.right,c);v=n(h.bottom,v);f.push({dom:s,left:h.left,top:h.top})}}));l*=h;u*=h;c*=h;v*=h;var d=c-l;var p=v-u;var g=ze.createCanvas();var y=t.init(g,{renderer:r?"svg":"canvas"});y.resize({width:d,height:p});if(r){var m="";s(f,(function(e){var t=e.left-l;var r=e.top-u;m+='<g transform="translate('+t+","+r+')">'+e.dom+"</g>"}));y.painter.getSvgRoot().innerHTML=m;if(e.connectedBackgroundColor){y.painter.setBackgroundColor(e.connectedBackgroundColor)}y.refreshImmediately();return y.painter.toDataURL()}else{if(e.connectedBackgroundColor){y.add(new ge({shape:{x:0,y:0,width:d,height:p},style:{fill:e.connectedBackgroundColor}}))}s(f,(function(e){var t=new le({style:{x:e.left*h-l,y:e.top*h-u,image:e.dom}});y.add(t)}));y.refreshImmediately();return g.toDataURL("image/"+(e&&e.type||"png"))}}else{return this.getDataURL(e)}};a.prototype.convertToPixel=function(e,t){return Pf(this,"convertToPixel",e,t)};a.prototype.convertFromPixel=function(e,t){return Pf(this,"convertFromPixel",e,t)};a.prototype.containPixel=function(e,t){if(this._disposed){qf(this.id);return}var r=this._model;var a;var i=mr(r,e);s(i,(function(e,r){r.indexOf("Models")>=0&&s(e,(function(e){var i=e.coordinateSystem;if(i&&i.containPoint){a=a||!!i.containPoint(t)}else if(r==="seriesModels"){var n=this._chartsMap[e.__viewId];if(n&&n.containPoint){a=a||n.containPoint(t,e)}}else;}),this)}),this);return!!a};a.prototype.getVisual=function(e,t){var r=this._model;var a=mr(r,e,{defaultMainType:"series"});var i=a.seriesModel;var n=i.getData();var o=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?n.indexOfRawIndex(a.dataIndex):null;return o!=null?gv(n,o,t):yv(n,t)};a.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]};a.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};a.prototype._initEvents=function(){var e=this;s(jf,(function(t){var r=function(r){var a=e.getModel();var i=r.target;var n;var o=t==="globalout";if(o){n={}}else{i&&Sv(i,(function(e){var t=Xr(e);if(t&&t.dataIndex!=null){var r=t.dataModel||a.getSeriesByIndex(t.seriesIndex);n=r&&r.getDataParams(t.dataIndex,t.dataType,i)||{};return true}else if(t.eventData){n=d({},t.eventData);return true}}),true)}if(n){var s=n.componentType;var l=n.componentIndex;if(s==="markLine"||s==="markPoint"||s==="markArea"){s="series";l=n.seriesIndex}var u=s&&l!=null&&a.getComponent(s,l);var c=u&&e[u.mainType==="series"?"_chartsMap":"_componentsMap"][u.__viewId];n.event=r;n.type=t;e._$eventProcessor.eventInfo={targetEl:i,packedEvent:n,model:u,view:c};e.trigger(t,n)}};r.zrEventfulCallAtLast=true;e._zr.on(t,r,e)}));s(Jf,(function(t,r){e._messageCenter.on(r,(function(e){this.trigger(r,e)}),e)}));s(["selectchanged"],(function(t){e._messageCenter.on(t,(function(e){this.trigger(t,e)}),e)}));bv(this._messageCenter,this,this._api)};a.prototype.isDisposed=function(){return this._disposed};a.prototype.clear=function(){if(this._disposed){qf(this.id);return}this.setOption({series:[]},true)};a.prototype.dispose=function(){if(this._disposed){qf(this.id);return}this._disposed=true;var e=this.getDom();if(e){wr(this.getDom(),sh,"")}var t=this;var r=t._api;var a=t._model;s(t._componentsViews,(function(e){e.dispose(a,r)}));s(t._chartsViews,(function(e){e.dispose(a,r)}));t._zr.dispose();t._dom=t._model=t._chartsMap=t._componentsMap=t._chartsViews=t._componentsViews=t._scheduler=t._api=t._zr=t._throttledZrFlush=t._theme=t._coordSysMgr=t._messageCenter=null;delete ah[t.id]};a.prototype.resize=function(e){if(this[pf]){return}if(this._disposed){qf(this.id);return}this._zr.resize(e);var t=this._model;this._loadingFX&&this._loadingFX.resize();if(!t){return}var r=t.resetOption("media");var a=e&&e.silent;if(this[gf]){if(a==null){a=this[gf].silent}r=true;this[gf]=null}this[pf]=true;try{r&&Cf(this);kf.update.call(this,{type:"resize",animation:d({duration:0},e&&e.animation)})}catch(e){this[pf]=false;throw e}this[pf]=false;Rf.call(this,a);Ef.call(this,a)};a.prototype.showLoading=function(e,t){if(this._disposed){qf(this.id);return}if(i(e)){t=e;e=""}e=e||"default";this.hideLoading();if(!rh[e]){return}var r=rh[e](this._api,t);var a=this._zr;this._loadingFX=r;a.add(r)};a.prototype.hideLoading=function(){if(this._disposed){qf(this.id);return}this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};a.prototype.makeActionFromEvent=function(e){var t=d({},e);t.type=Jf[e.type];return t};a.prototype.dispatchAction=function(e,t){if(this._disposed){qf(this.id);return}if(!i(t)){t={silent:!!t}}if(!Kf[e.type]){return}if(!this._model){return}if(this[pf]){this._pendingActions.push(e);return}var r=t.silent;Of.call(this,e,r);var a=t.flush;if(a){this._zr.flush()}else if(a!==false&&F.browser.weChat){this._throttledZrFlush()}Rf.call(this,r);Ef.call(this,r)};a.prototype.updateLabelLayout=function(){Yv.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})};a.prototype.appendData=function(e){if(this._disposed){qf(this.id);return}var t=e.seriesIndex;var r=this.getModel();var a=r.getSeriesByIndex(t);a.appendData(e);this._scheduler.unfinished=true;this.getZr().wakeUp()};a.internalField=function(){Cf=function(e){var t=e._scheduler;t.restorePipelines(e._model);t.prepareStageTasks();Af(e,true);Af(e,false);t.plan()};Af=function(e,t){var r=e._model;var a=e._scheduler;var i=t?e._componentsViews:e._chartsViews;var n=t?e._componentsMap:e._chartsMap;var o=e._zr;var s=e._api;for(var l=0;l<i.length;l++){i[l].__alive=false}t?r.eachComponent((function(e,t){e!=="series"&&u(t)})):r.eachSeries(u);function u(e){var l=e.__requireNewView;e.__requireNewView=false;var u="_ec_"+e.id+"_"+e.type;var c=!l&&n[u];if(!c){var v=kr(e.type);var f=t?gc.getClass(v.main,v.sub):_c.getClass(v.sub);c=new f;c.init(r,s);n[u]=c;i.push(c);o.add(c.group)}e.__viewId=c.__id=u;c.__alive=true;c.__model=e;c.group.__ecComponentInfo={mainType:e.mainType,index:e.componentIndex};!t&&a.prepareView(c,e,r,s)}for(var l=0;l<i.length;){var c=i[l];if(!c.__alive){!t&&c.renderTask.dispose();o.remove(c.group);c.dispose(r,s);i.splice(l,1);if(n[c.__id]===c){delete n[c.__id]}c.__id=c.group.__ecComponentInfo=null}else{l++}}};Lf=function(e,t,r,a,i){var n=e._model;n.setUpdatePayload(r);if(!a){s([].concat(e._componentsViews).concat(e._chartsViews),f);return}var l={};l[a+"Id"]=r[a+"Id"];l[a+"Index"]=r[a+"Index"];l[a+"Name"]=r[a+"Name"];var u={mainType:a,query:l};i&&(u.subType=i);var c=r.excludeSeriesId;var v;if(c!=null){v=o();s(jt(c),(function(e){var t=lr(e,null);if(t!=null){v.set(t,true)}}))}n&&n.eachComponent(u,(function(t){var a=v&&v.get(t.id)!=null;if(a){return}if(ii(r)){if(t instanceof sc){if(r.type===na&&!r.notBlur&&!t.get(["emphasis","disabled"])){Ba(t,r,e._api)}}else{var i=Ga(t.mainType,t.componentIndex,r.name,e._api),n=i.focusSelf,o=i.dispatchers;if(r.type===na&&n&&!r.notBlur){Va(t.mainType,t.componentIndex,e._api)}if(o){s(o,(function(e){r.type===na?Aa(e):La(e)}))}}}else if(ai(r)){if(t instanceof sc){Wa(t,r,e._api);Ua(t);Uf(e)}}}),e);n&&n.eachComponent(u,(function(t){var r=v&&v.get(t.id)!=null;if(r){return}f(e[a==="series"?"_chartsMap":"_componentsMap"][t.__viewId])}),e);function f(a){a&&a.__alive&&a[t]&&a[t](a.__model,n,e._api,r)}};kf={prepareAndUpdate:function(e){Cf(this);kf.update.call(this,e,{optionChanged:e.newOption!=null})},update:function(e,r){var a=this._model;var i=this._api;var n=this._zr;var o=this._coordSysMgr;var s=this._scheduler;if(!a){return}a.setUpdatePayload(e);s.restoreData(a,e);s.performSeriesTasks(a);o.create(a,i);s.performDataProcessorTasks(a,e);Nf(this,a);o.update(a,i);t(a);s.performVisualTasks(a,e);Bf(this,a,i,e,r);var l=a.get("backgroundColor")||"transparent";var u=a.get("darkMode");n.setBackgroundColor(l);if(u!=null&&u!=="auto"){n.setDarkMode(u)}Yv.trigger("afterupdate",a,i)},updateTransform:function(e){var r=this;var a=this._model;var i=this._api;if(!a){return}a.setUpdatePayload(e);var n=[];a.eachComponent((function(t,o){if(t==="series"){return}var s=r.getViewOfComponentModel(o);if(s&&s.__alive){if(s.updateTransform){var l=s.updateTransform(o,a,i,e);l&&l.update&&n.push(s)}else{n.push(s)}}}));var s=o();a.eachSeries((function(t){var n=r._chartsMap[t.__viewId];if(n.updateTransform){var o=n.updateTransform(t,a,i,e);o&&o.update&&s.set(t.uid,1)}else{s.set(t.uid,1)}}));t(a);this._scheduler.performVisualTasks(a,e,{setDirty:true,dirtyMap:s});Ff(this,a,i,e,{},s);Yv.trigger("afterupdate",a,i)},updateView:function(e){var r=this._model;if(!r){return}r.setUpdatePayload(e);_c.markUpdateMethod(e,"updateView");t(r);this._scheduler.performVisualTasks(r,e,{setDirty:true});Bf(this,r,this._api,e,{});Yv.trigger("afterupdate",r,this._api)},updateVisual:function(e){var r=this;var a=this._model;if(!a){return}a.setUpdatePayload(e);a.eachSeries((function(e){e.getData().clearAllVisual()}));_c.markUpdateMethod(e,"updateVisual");t(a);this._scheduler.performVisualTasks(a,e,{visualType:"visual",setDirty:true});a.eachComponent((function(t,i){if(t!=="series"){var n=r.getViewOfComponentModel(i);n&&n.__alive&&n.updateVisual(i,a,r._api,e)}}));a.eachSeries((function(t){var i=r._chartsMap[t.__viewId];i.updateVisual(t,a,r._api,e)}));Yv.trigger("afterupdate",a,this._api)},updateLayout:function(e){kf.update.call(this,e)}};Pf=function(e,t,r,a){if(e._disposed){qf(e.id);return}var i=e._model;var n=e._coordSysMgr.getCoordinateSystems();var o;var s=mr(i,r);for(var l=0;l<n.length;l++){var u=n[l];if(u[t]&&(o=u[t](i,s,a))!=null){return o}}};Nf=function(e,t){var r=e._chartsMap;var a=e._scheduler;t.eachSeries((function(e){a.updateStreamModes(e,r[e.__viewId])}))};Of=function(e,t){var r=this;var a=this.getModel();var i=e.type;var n=e.escapeConnect;var o=Kf[i];var l=o.actionInfo;var u=(l.update||"update").split(":");var c=u.pop();var v=u[0]!=null&&kr(u[0]);this[pf]=true;var h=[e];var p=false;if(e.batch){p=true;h=f(e.batch,(function(t){t=x(d({},t),e);t.batch=null;return t}))}var g=[];var y;var m=ai(e);var _=ii(e);if(_){Ea(this._api)}s(h,(function(t){y=o.action(t,r._model,r._api);y=y||d({},t);y.type=l.event||y.type;g.push(y);if(_){var a=xr(e),i=a.queryOptionMap,n=a.mainTypeSpecified;var s=n?i.keys()[0]:"series";Lf(r,c,t,s);Uf(r)}else if(m){Lf(r,c,t,"series");Uf(r)}else if(v){Lf(r,c,t,v.main,v.sub)}}));if(c!=="none"&&!_&&!m&&!v){try{if(this[gf]){Cf(this);kf.update.call(this,e);this[gf]=null}else{kf[c].call(this,e)}}catch(e){this[pf]=false;throw e}}if(p){y={type:l.event||i,escapeConnect:n,batch:g}}else{y=g[0]}this[pf]=false;if(!t){var b=this._messageCenter;b.trigger(y.type,y);if(m){var S={type:"selectchanged",escapeConnect:n,selected:Ya(a),isFromClick:e.isFromClick||false,fromAction:e.type,fromActionPayload:e};b.trigger(S.type,S)}}};Rf=function(e){var t=this._pendingActions;while(t.length){var r=t.shift();Of.call(this,r,e)}};Ef=function(e){!e&&this.trigger("updated")};zf=function(e,t){e.on("rendered",(function(r){t.trigger("rendered",r);if(e.animation.isFinished()&&!t[gf]&&!t._scheduler.unfinished&&!t._pendingActions.length){t.trigger("finished")}}))};Vf=function(e,t){e.on("mouseover",(function(e){var r=e.target;var a=Sv(r,ei);if(a){Fa(a,e,t._api);Uf(t)}})).on("mouseout",(function(e){var r=e.target;var a=Sv(r,ei);if(a){Ha(a,e,t._api);Uf(t)}})).on("click",(function(e){var r=e.target;var a=Sv(r,(function(e){return Xr(e).dataIndex!=null}),true);if(a){var i=a.selected?"unselect":"select";var n=Xr(a);t._api.dispatchAction({type:i,dataType:n.dataType,dataIndexInside:n.dataIndex,seriesIndex:n.seriesIndex,isFromClick:true})}}))};function t(e){e.clearColorPalette();e.eachSeries((function(e){e.clearColorPalette()}))}function r(e){var t=[];var r=[];var a=false;e.eachComponent((function(e,i){var n=i.get("zlevel")||0;var o=i.get("z")||0;var s=i.getZLevelKey();a=a||!!s;(e==="series"?r:t).push({zlevel:n,z:o,idx:i.componentIndex,type:e,key:s})}));if(a){var i=t.concat(r);var n;var o;H(i,(function(e,t){if(e.zlevel===t.zlevel){return e.z-t.z}return e.zlevel-t.zlevel}));s(i,(function(t){var r=e.getComponent(t.type,t.idx);var a=t.zlevel;var i=t.key;if(n!=null){a=Math.max(n,a)}if(i){if(a===n&&i!==o){a++}o=i}else if(o){if(a===n){a++}o=""}n=a;r.setZLevel(a)}))}}Bf=function(e,t,a,i,n){r(t);Gf(e,t,a,i,n);s(e._chartsViews,(function(e){e.__alive=false}));Ff(e,t,a,i,n);s(e._chartsViews,(function(e){if(!e.__alive){e.remove(t,a)}}))};Gf=function(e,t,r,a,i,n){s(n||e._componentsViews,(function(e){var i=e.__model;c(i,e);e.render(i,t,r,a);l(i,e);v(i,e)}))};Ff=function(e,t,r,a,o,s){var u=e._scheduler;o=d(o||{},{updatedSeries:t.getSeries()});Yv.trigger("series:beforeupdate",t,r,o);var f=false;t.eachSeries((function(t){var r=e._chartsMap[t.__viewId];r.__alive=true;var i=r.renderTask;u.updatePayload(i,a);c(t,r);if(s&&s.get(t.uid)){i.dirty()}if(i.perform(u.getPerformArgs(i))){f=true}r.group.silent=!!t.get("silent");n(t,r);Ua(t)}));u.unfinished=f||u.unfinished;Yv.trigger("series:layoutlabels",t,r,o);Yv.trigger("series:transition",t,r,o);t.eachSeries((function(t){var r=e._chartsMap[t.__viewId];l(t,r);v(t,r)}));i(e,t);Yv.trigger("series:afterupdate",t,r,o)};Uf=function(e){e[yf]=true;e.getZr().wakeUp()};Yf=function(e){if(!e[yf]){return}e.getZr().storage.traverse((function(e){if(vi(e)){return}a(e)}));e[yf]=false};function a(e){var t=[];var r=e.currentStates;for(var a=0;a<r.length;a++){var i=r[a];if(!(i==="emphasis"||i==="blur"||i==="select")){t.push(i)}}if(e.selected&&e.states.select){t.push("select")}if(e.hoverState===ea&&e.states.emphasis){t.push("emphasis")}else if(e.hoverState===Qr&&e.states.blur){t.push("blur")}e.useStates(t)}function i(e,t){var r=e._zr;var a=r.storage;var i=0;a.traverse((function(e){if(!e.isGroup){i++}}));if(i>t.get("hoverLayerThreshold")&&!F.node&&!F.worker){t.eachSeries((function(t){if(t.preventUsingHoverLayer){return}var r=e._chartsMap[t.__viewId];if(r.__alive){r.eachRendered((function(e){if(e.states.emphasis){e.states.emphasis.hoverLayer=true}}))}}))}}function n(e,t){var r=e.get("blendMode")||null;t.eachRendered((function(e){if(!e.isGroup){e.style.blend=r}}))}function l(e,t){if(e.preventAutoZ){return}var r=e.get("z")||0;var a=e.get("zlevel")||0;t.eachRendered((function(e){u(e,r,a,-Infinity);return true}))}function u(e,t,r,a){var i=e.getTextContent();var n=e.getTextGuideLine();var o=e.isGroup;if(o){var s=e.childrenRef();for(var l=0;l<s.length;l++){a=Math.max(u(s[l],t,r,a),a)}}else{e.z=t;e.zlevel=r;a=Math.max(e.z2,a)}if(i){i.z=t;i.zlevel=r;isFinite(a)&&(i.z2=a+2)}if(n){var c=e.textGuideLineConfig;n.z=t;n.zlevel=r;isFinite(a)&&(n.z2=a+(c&&c.showAbove?1:-1))}return a}function c(e,t){t.eachRendered((function(e){if(vi(e)){return}var t=e.getTextContent();var r=e.getTextGuideLine();if(e.stateTransition){e.stateTransition=null}if(t&&t.stateTransition){t.stateTransition=null}if(r&&r.stateTransition){r.stateTransition=null}if(e.hasState()){e.prevStates=e.currentStates;e.clearStates()}else if(e.prevStates){e.prevStates=null}}))}function v(e,t){var r=e.getModel("stateAnimation");var i=e.isAnimationEnabled();var n=r.get("duration");var o=n>0?{duration:n,delay:r.get("delay"),easing:r.get("easing")}:null;t.eachRendered((function(e){if(e.states&&e.states.emphasis){if(vi(e)){return}if(e instanceof Q){ni(e)}if(e.__dirty){var t=e.prevStates;if(t){e.useStates(t)}}if(i){e.stateTransition=o;var r=e.getTextContent();var n=e.getTextGuideLine();if(r){r.stateTransition=o}if(n){n.stateTransition=o}}if(e.__dirty){a(e)}}}))}Hf=function(t){return new(function(r){e(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}a.prototype.getCoordinateSystems=function(){return t._coordSysMgr.getCoordinateSystems()};a.prototype.getComponentByElement=function(e){while(e){var r=e.__ecComponentInfo;if(r!=null){return t._model.getComponent(r.mainType,r.index)}e=e.parent}};a.prototype.enterEmphasis=function(e,r){Aa(e,r);Uf(t)};a.prototype.leaveEmphasis=function(e,r){La(e,r);Uf(t)};a.prototype.enterBlur=function(e){ka(e);Uf(t)};a.prototype.leaveBlur=function(e){Pa(e);Uf(t)};a.prototype.enterSelect=function(e){Na(e);Uf(t)};a.prototype.leaveSelect=function(e){Oa(e);Uf(t)};a.prototype.getModel=function(){return t.getModel()};a.prototype.getViewOfComponentModel=function(e){return t.getViewOfComponentModel(e)};a.prototype.getViewOfSeriesModel=function(e){return t.getViewOfSeriesModel(e)};return a}(Gs))(t)};Wf=function(e){function t(e,t){for(var r=0;r<e.length;r++){var a=e[r];a[xf]=t}}s(Jf,(function(r,a){e._messageCenter.on(a,(function(r){if(ih[e.group]&&e[xf]!==_f){if(r&&r.escapeConnect){return}var a=e.makeActionFromEvent(r);var i=[];s(ah,(function(t){if(t!==e&&t.group===e.group){i.push(t)}}));t(i,_f);s(i,(function(e){if(e[xf]!==bf){e.dispatchAction(a)}}));t(i,Sf)}}))}))}}();return a}(W);var Zf=Xf.prototype;Zf.on=wf("on");Zf.off=wf("off");Zf.one=function(e,t,r){var a=this;function i(){var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}t&&t.apply&&t.apply(this,r);a.off(e,i)}this.on.call(this,e,i,r)};var jf=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function qf(e){}var Kf={};var Jf={};var $f=[];var Qf=[];var eh=[];var th={};var rh={};var ah={};var ih={};var nh=+new Date-0;var oh=+new Date-0;var sh="_echarts_instance_";function lh(e,t,r){var a=!(r&&r.ssr);if(a){var i=hh(e);if(i){return i}}var n=new Xf(e,t,r);n.id="ec_"+nh++;ah[n.id]=n;a&&wr(e,sh,n.id);Wf(n);Yv.trigger("afterinit",n);return n}function uh(e){if(n(e)){var t=e;e=null;s(t,(function(t){if(t.group!=null){e=t.group}}));e=e||"g_"+oh++;s(t,(function(t){t.group=e}))}ih[e]=true;return e}function ch(e){ih[e]=false}var vh=ch;function fh(e){if(u(e)){e=ah[e]}else if(!(e instanceof Xf)){e=hh(e)}if(e instanceof Xf&&!e.isDisposed()){e.dispose()}}function hh(e){return ah[Mr(e,sh)]}function dh(e){return ah[e]}function ph(e,t){th[e]=t}function gh(e){if(h(Qf,e)<0){Qf.push(e)}}function yh(e,t){Th($f,e,t,tf)}function mh(e){_h("afterinit",e)}function xh(e){_h("afterupdate",e)}function _h(e,t){Yv.on(e,t)}function bh(e,t,r){if(m(t)){r=t;t=""}var a=i(e)?e.type:[e,e={event:t}][0];e.event=(e.event||a).toLowerCase();t=e.event;if(Jf[t]){return}l(mf.test(a)&&mf.test(t));if(!Kf[a]){Kf[a]={action:r,actionInfo:e}}Jf[t]=a}function Sh(e,t){Hs.register(e,t)}function wh(e){var t=Hs.get(e);if(t){return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}}function Mh(e,t){Th(eh,e,t,af,"layout")}function Ih(e,t){Th(eh,e,t,sf,"visual")}var Dh=[];function Th(e,t,r,a,n){if(m(t)||i(t)){r=t;t=a}if(h(Dh,r)>=0){return}Dh.push(r);var o=Wc.wrapStageHandler(r,n);o.__prio=t;o.__raw=r;e.push(o)}function Ch(e,t){rh[e]=t}function Ah(e){Ve({createCanvas:e})}function Lh(e,t,r){var a=jv("registerMap");a&&a(e,t,r)}function kh(e){var t=jv("getMap");return t&&t(e)}var Ph=gu;Ih(of,zc);Ih(uf,Bc);Ih(uf,Gc);Ih(of,dv);Ih(uf,pv);Ih(hf,Uv);gh(ml);yh(Qv,xl);Ch("default",Hc);bh({type:na,event:na,update:na},L);bh({type:oa,event:oa,update:oa},L);bh({type:sa,event:sa,update:sa},L);bh({type:la,event:la,update:la},L);bh({type:ua,event:ua,update:ua},L);ph("light",nv);ph("dark",cv);var Nh={};var Oh=[];var Rh={registerPreprocessor:gh,registerProcessor:yh,registerPostInit:mh,registerPostUpdate:xh,registerUpdateLifecycle:_h,registerAction:bh,registerCoordinateSystem:Sh,registerLayout:Mh,registerVisual:Ih,registerTransform:Ph,registerLoading:Ch,registerMap:Lh,registerImpl:Zv,PRIORITY:df,ComponentModel:qo,ComponentView:gc,SeriesModel:sc,ChartView:_c,registerComponentModel:function(e){qo.registerClass(e)},registerComponentView:function(e){gc.registerClass(e)},registerSeriesModel:function(e){sc.registerClass(e)},registerChartView:function(e){_c.registerClass(e)},registerSubTypeDefaulter:function(e,t){qo.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){r(e,t)}};function Eh(e){if(n(e)){s(e,(function(e){Eh(e)}));return}if(h(Oh,e)>=0){return}Oh.push(e);if(m(e)){e={install:e}}e.install(Rh)}function zh(e){return e==null?0:e.length||1}function Vh(e){return e}var Bh=function(){function e(e,t,r,a,i,n){this._old=e;this._new=t;this._oldKeyGetter=r||Vh;this._newKeyGetter=a||Vh;this.context=i;this._diffModeMultiple=n==="multiple"}e.prototype.add=function(e){this._add=e;return this};e.prototype.update=function(e){this._update=e;return this};e.prototype.updateManyToOne=function(e){this._updateManyToOne=e;return this};e.prototype.updateOneToMany=function(e){this._updateOneToMany=e;return this};e.prototype.updateManyToMany=function(e){this._updateManyToMany=e;return this};e.prototype.remove=function(e){this._remove=e;return this};e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()};e.prototype._executeOneToOne=function(){var e=this._old;var t=this._new;var r={};var a=new Array(e.length);var i=new Array(t.length);this._initIndexMap(e,null,a,"_oldKeyGetter");this._initIndexMap(t,r,i,"_newKeyGetter");for(var n=0;n<e.length;n++){var o=a[n];var s=r[o];var l=zh(s);if(l>1){var u=s.shift();if(s.length===1){r[o]=s[0]}this._update&&this._update(u,n)}else if(l===1){r[o]=null;this._update&&this._update(s,n)}else{this._remove&&this._remove(n)}}this._performRestAdd(i,r)};e.prototype._executeMultiple=function(){var e=this._old;var t=this._new;var r={};var a={};var i=[];var n=[];this._initIndexMap(e,r,i,"_oldKeyGetter");this._initIndexMap(t,a,n,"_newKeyGetter");for(var o=0;o<i.length;o++){var s=i[o];var l=r[s];var u=a[s];var c=zh(l);var v=zh(u);if(c>1&&v===1){this._updateManyToOne&&this._updateManyToOne(u,l);a[s]=null}else if(c===1&&v>1){this._updateOneToMany&&this._updateOneToMany(u,l);a[s]=null}else if(c===1&&v===1){this._update&&this._update(u,l);a[s]=null}else if(c>1&&v>1){this._updateManyToMany&&this._updateManyToMany(u,l);a[s]=null}else if(c>1){for(var f=0;f<c;f++){this._remove&&this._remove(l[f])}}else{this._remove&&this._remove(l)}}this._performRestAdd(n,a)};e.prototype._performRestAdd=function(e,t){for(var r=0;r<e.length;r++){var a=e[r];var i=t[a];var n=zh(i);if(n>1){for(var o=0;o<n;o++){this._add&&this._add(i[o])}}else if(n===1){this._add&&this._add(i)}t[a]=null}};e.prototype._initIndexMap=function(e,t,r,a){var i=this._diffModeMultiple;for(var n=0;n<e.length;n++){var o="_ec_"+this[a](e[n],n);if(!i){r[n]=o}if(!t){continue}var s=t[o];var l=zh(s);if(l===0){t[o]=n;if(i){r.push(o)}}else if(l===1){t[o]=[s,n]}else{s.push(n)}}};return e}();var Gh=function(){function e(e,t){this._encode=e;this._schema=t}e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}};e.prototype._getFullDimensionNames=function(){if(!this._cachedDimNames){this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]}return this._cachedDimNames};return e}();function Fh(e,t){var r={};var a=r.encode={};var i=o();var n=[];var l=[];var u={};s(e.dimensions,(function(t){var r=e.getDimensionInfo(t);var o=r.coordDim;if(o){var s=r.coordDimIndex;Hh(a,o)[s]=t;if(!r.isExtraCoord){i.set(o,1);if(Uh(r.type)){n[0]=t}Hh(u,o)[s]=e.getDimensionIndex(r.name)}if(r.defaultTooltip){l.push(t)}}es.each((function(e,t){var i=Hh(a,t);var n=r.otherDims[t];if(n!=null&&n!==false){i[n]=r.name}}))}));var c=[];var v={};i.each((function(e,t){var r=a[t];v[t]=r[0];c=c.concat(r)}));r.dataDimsOnCoord=c;r.dataDimIndicesOnCoord=f(c,(function(t){return e.getDimensionInfo(t).storeDimIndex}));r.encodeFirstDimNotExtra=v;var h=a.label;if(h&&h.length){n=h.slice()}var d=a.tooltip;if(d&&d.length){l=d.slice()}else if(!l.length){l=n.slice()}a.defaultedLabel=n;a.defaultedTooltip=l;r.userOutput=new Gh(u,t);return r}function Hh(e,t){if(!e.hasOwnProperty(t)){e[t]=[]}return e[t]}function Wh(e){return e==="category"?"ordinal":e==="time"?"time":"float"}function Uh(e){return!(e==="ordinal"||e==="time")}var Yh=function(){function e(e){this.otherDims={};if(e!=null){a.extend(this,e)}}return e}();var Xh=gr();var Zh={float:"f",int:"i",ordinal:"o",number:"n",time:"t"};var jh=function(){function e(e){this.dimensions=e.dimensions;this._dimOmitted=e.dimensionOmitted;this.source=e.source;this._fullDimCount=e.fullDimensionCount;this._updateDimOmitted(e.dimensionOmitted)}e.prototype.isDimensionOmitted=function(){return this._dimOmitted};e.prototype._updateDimOmitted=function(e){this._dimOmitted=e;if(!e){return}if(!this._dimNameMap){this._dimNameMap=Jh(this.source)}};e.prototype.getSourceDimensionIndex=function(e){return y(this._dimNameMap.get(e),-1)};e.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t){return t[e]}};e.prototype.makeStoreSchema=function(){var e=this._fullDimCount;var t=kl(this.source);var r=!$h(e);var a="";var i=[];for(var n=0,o=0;n<e;n++){var s=void 0;var l=void 0;var u=void 0;var c=this.dimensions[o];if(c&&c.storeDimIndex===n){s=t?c.name:null;l=c.type;u=c.ordinalMeta;o++}else{var v=this.getSourceDimension(n);if(v){s=t?v.name:null;l=v.type}}i.push({property:s,type:l,ordinalMeta:u});if(t&&s!=null&&(!c||!c.isCalculationCoord)){a+=r?s.replace(/\`/g,"`1").replace(/\$/g,"`2"):s}a+="$";a+=Zh[l]||"f";if(u){a+=u.uid}a+="$"}var f=this.source;var h=[f.seriesLayoutBy,f.startIndex,a].join("$$");return{dimensions:i,hash:h}};e.prototype.makeOutputDimensionNames=function(){var e=[];for(var t=0,r=0;t<this._fullDimCount;t++){var a=void 0;var i=this.dimensions[r];if(i&&i.storeDimIndex===t){if(!i.isCalculationCoord){a=i.name}r++}else{var n=this.getSourceDimension(t);if(n){a=n.name}}e.push(a)}return e};e.prototype.appendCalculationDimension=function(e){this.dimensions.push(e);e.isCalculationCoord=true;this._fullDimCount++;this._updateDimOmitted(true)};return e}();function qh(e){return e instanceof jh}function Kh(e){var t=o();for(var r=0;r<(e||[]).length;r++){var a=e[r];var n=i(a)?a.name:a;if(n!=null&&t.get(n)==null){t.set(n,r)}}return t}function Jh(e){var t=Xh(e);return t.dimNameMap||(t.dimNameMap=Kh(e.dimensionsDefine))}function $h(e){return e>30}var Qh=a.isObject;var ed=a.map;var td=typeof Int32Array==="undefined"?Array:Int32Array;var rd="e\0\0";var ad=-1;var id=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"];var nd=["_approximateExtent"];var od;var sd;var ld;var ud;var cd;var vd;var fd;var hd=function(){function e(e,t){this.type="list";this._dimOmitted=false;this._nameList=[];this._idList=[];this._visual={};this._layout={};this._itemVisuals=[];this._itemLayouts=[];this._graphicEls=[];this._approximateExtent={};this._calculationInfo={};this.hasItemOption=false;this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"];this.CHANGABLE_METHODS=["filterSelf","selectRange"];this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r;var i=false;if(qh(e)){r=e.dimensions;this._dimOmitted=e.isDimensionOmitted();this._schema=e}else{i=true;r=e}r=r||["x","y"];var n={};var o=[];var s={};var l=false;var u={};for(var c=0;c<r.length;c++){var v=r[c];var f=a.isString(v)?new Yh({name:v}):!(v instanceof Yh)?new Yh(v):v;var h=f.name;f.type=f.type||"float";if(!f.coordDim){f.coordDim=h;f.coordDimIndex=0}var d=f.otherDims=f.otherDims||{};o.push(h);n[h]=f;if(u[h]!=null){l=true}if(f.createInvertedIndices){s[h]=[]}if(d.itemName===0){this._nameDimIdx=c}if(d.itemId===0){this._idDimIdx=c}if(i){f.storeDimIndex=c}}this.dimensions=o;this._dimInfos=n;this._initGetDimensionInfo(l);this.hostModel=t;this._invertedIndicesMap=s;if(this._dimOmitted){var p=this._dimIdxToName=a.createHashMap();a.each(o,(function(e){p.set(n[e].storeDimIndex,e)}))}}e.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null){return e}t=e;if(!this._dimOmitted){return this.dimensions[t]}var r=this._dimIdxToName.get(t);if(r!=null){return r}var a=this._schema.getSourceDimension(t);if(a){return a.name}};e.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null){return t}if(e==null){return-1}var r=this._getDimInfo(e);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1};e.prototype._recognizeDimIndex=function(e){if(a.isNumber(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0)){return+e}};e.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t};e.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))};e.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(e){return t.hasOwnProperty(e)?t[e]:undefined}:function(e){return t[e]}};e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()};e.prototype.mapDimension=function(e,t){var r=this._dimSummary;if(t==null){return r.encodeFirstDimNotExtra[e]}var a=r.encode[e];return a?a[t]:null};e.prototype.mapDimensionsAll=function(e){var t=this._dimSummary;var r=t.encode[e];return(r||[]).slice()};e.prototype.getStore=function(){return this._store};e.prototype.initData=function(e,t,r){var i=this;var n;if(e instanceof ku){n=e}if(!n){var o=this.dimensions;var s=Sl(e)||a.isArrayLike(e)?new zl(e,o.length):e;n=new ku;var l=ed(o,(function(e){return{type:i._dimInfos[e].type,property:e}}));n.initData(s,l,r)}this._store=n;this._nameList=(t||[]).slice();this._idList=[];this._nameRepeatCount={};this._doInit(0,n.count());this._dimSummary=Fh(this,this._schema);this.userOutput=this._dimSummary.userOutput};e.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])};e.prototype.appendValues=function(e,t){var r=this._store.appendValues(e,t.length),a=r.start,i=r.end;var n=this._shouldMakeIdFromName();this._updateOrdinalMeta();if(t){for(var o=a;o<i;o++){var s=o-a;this._nameList[o]=t[s];if(n){fd(this,o)}}}};e.prototype._updateOrdinalMeta=function(){var e=this._store;var t=this.dimensions;for(var r=0;r<t.length;r++){var a=this._dimInfos[t[r]];if(a.ordinalMeta){e.collectOrdinalMeta(a.storeDimIndex,a.ordinalMeta)}}};e.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==ns&&!e.fillStorage};e.prototype._doInit=function(e,t){if(e>=t){return}var r=this._store;var a=r.getProvider();this._updateOrdinalMeta();var i=this._nameList;var n=this._idList;var o=a.getSource().sourceFormat;var s=o===ts;if(s&&!a.pure){var l=[];for(var u=e;u<t;u++){var c=a.getItem(u,l);if(!this.hasItemOption&&$t(c)){this.hasItemOption=true}if(c){var v=c.name;if(i[u]==null&&v!=null){i[u]=lr(v,null)}var f=c.id;if(n[u]==null&&f!=null){n[u]=lr(f,null)}}}}if(this._shouldMakeIdFromName()){for(var u=e;u<t;u++){fd(this,u)}}od(this)};e.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))};e.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t);this._approximateExtent[t]=e.slice()};e.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]};e.prototype.setCalculationInfo=function(e,t){Qh(e)?a.extend(this._calculationInfo,e):this._calculationInfo[e]=t};e.prototype.getName=function(e){var t=this.getRawIndex(e);var r=this._nameList[t];if(r==null&&this._nameDimIdx!=null){r=ld(this,this._nameDimIdx,t)}if(r==null){r=""}return r};e.prototype._getCategory=function(e,t){var r=this._store.get(e,t);var a=this._store.getOrdinalMeta(e);if(a){return a.categories[r]}return r};e.prototype.getId=function(e){return sd(this,this.getRawIndex(e))};e.prototype.count=function(){return this._store.count()};e.prototype.get=function(e,t){var r=this._store;var a=this._dimInfos[e];if(a){return r.get(a.storeDimIndex,t)}};e.prototype.getByRawIndex=function(e,t){var r=this._store;var a=this._dimInfos[e];if(a){return r.getByRawIndex(a.storeDimIndex,t)}};e.prototype.getIndices=function(){return this._store.getIndices()};e.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))};e.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))};e.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))};e.prototype.getValues=function(e,t){var r=this;var i=this._store;return a.isArray(e)?i.getValues(ed(e,(function(e){return r._getStoreDimIndex(e)})),t):i.getValues(e)};e.prototype.hasValue=function(e){var t=this._dimSummary.dataDimIndicesOnCoord;for(var r=0,a=t.length;r<a;r++){if(isNaN(this._store.get(t[r],e))){return false}}return true};e.prototype.indexOfName=function(e){for(var t=0,r=this._store.count();t<r;t++){if(this.getName(t)===e){return t}}return-1};e.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)};e.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)};e.prototype.rawIndexOf=function(e,t){var r=e&&this._invertedIndicesMap[e];var a=r[t];if(a==null||isNaN(a)){return ad}return a};e.prototype.indicesOfNearest=function(e,t,r){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,r)};e.prototype.each=function(e,t,r){if(a.isFunction(e)){r=t;t=e;e=[]}var i=r||this;var n=ed(ud(e),this._getStoreDimIndex,this);this._store.each(n,i?a.bind(t,i):t)};e.prototype.filterSelf=function(e,t,r){if(a.isFunction(e)){r=t;t=e;e=[]}var i=r||this;var n=ed(ud(e),this._getStoreDimIndex,this);this._store=this._store.filter(n,i?a.bind(t,i):t);return this};e.prototype.selectRange=function(e){var t=this;var r={};var i=a.keys(e);a.each(i,(function(a){var i=t._getStoreDimIndex(a);r[i]=e[a]}));this._store=this._store.selectRange(r);return this};e.prototype.mapArray=function(e,t,r){if(a.isFunction(e)){r=t;t=e;e=[]}r=r||this;var i=[];this.each(e,(function(){i.push(t&&t.apply(this,arguments))}),r);return i};e.prototype.map=function(e,t,r,i){var n=r||i||this;var o=ed(ud(e),this._getStoreDimIndex,this);var s=vd(this);s._store=this._store.map(o,n?a.bind(t,n):t);return s};e.prototype.modify=function(e,t,r,i){var n=r||i||this;var o=ed(ud(e),this._getStoreDimIndex,this);this._store.modify(o,n?a.bind(t,n):t)};e.prototype.downSample=function(e,t,r,a){var i=vd(this);i._store=this._store.downSample(this._getStoreDimIndex(e),t,r,a);return i};e.prototype.lttbDownSample=function(e,t){var r=vd(this);r._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t);return r};e.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)};e.prototype.getItemModel=function(e){var t=this.hostModel;var r=this.getRawDataItem(e);return new Mn(r,t,t&&t.ecModel)};e.prototype.diff=function(e){var t=this;return new Bh(e?e.getStore().getIndices():[],this.getStore().getIndices(),(function(t){return sd(e,t)}),(function(e){return sd(t,e)}))};e.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]};e.prototype.setVisual=function(e,t){this._visual=this._visual||{};if(Qh(e)){a.extend(this._visual,e)}else{this._visual[e]=t}};e.prototype.getItemVisual=function(e,t){var r=this._itemVisuals[e];var a=r&&r[t];if(a==null){return this.getVisual(t)}return a};e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0};e.prototype.ensureUniqueItemVisual=function(e,t){var r=this._itemVisuals;var i=r[e];if(!i){i=r[e]={}}var n=i[t];if(n==null){n=this.getVisual(t);if(a.isArray(n)){n=n.slice()}else if(Qh(n)){n=a.extend({},n)}i[t]=n}return n};e.prototype.setItemVisual=function(e,t,r){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i;if(Qh(t)){a.extend(i,t)}else{i[t]=r}};e.prototype.clearAllVisual=function(){this._visual={};this._itemVisuals=[]};e.prototype.setLayout=function(e,t){Qh(e)?a.extend(this._layout,e):this._layout[e]=t};e.prototype.getLayout=function(e){return this._layout[e]};e.prototype.getItemLayout=function(e){return this._itemLayouts[e]};e.prototype.setItemLayout=function(e,t,r){this._itemLayouts[e]=r?a.extend(this._itemLayouts[e]||{},t):t};e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0};e.prototype.setItemGraphicEl=function(e,t){var r=this.hostModel&&this.hostModel.seriesIndex;Zr(r,this.dataType,e,t);this._graphicEls[e]=t};e.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]};e.prototype.eachItemGraphicEl=function(e,t){a.each(this._graphicEls,(function(r,a){if(r){e&&e.call(t,r,a)}}))};e.prototype.cloneShallow=function(t){if(!t){t=new e(this._schema?this._schema:ed(this.dimensions,this._getDimInfo,this),this.hostModel)}cd(t,this);t._store=this._store;return t};e.prototype.wrapMethod=function(e,t){var r=this[e];if(!a.isFunction(r)){return}this.__wrappedMethods=this.__wrappedMethods||[];this.__wrappedMethods.push(e);this[e]=function(){var e=r.apply(this,arguments);return t.apply(this,[e].concat(a.slice(arguments)))}};e.internalField=function(){od=function(e){var t=e._invertedIndicesMap;a.each(t,(function(r,a){var i=e._dimInfos[a];var n=i.ordinalMeta;var o=e._store;if(n){r=t[a]=new td(n.categories.length);for(var s=0;s<r.length;s++){r[s]=ad}for(var s=0;s<o.count();s++){r[o.get(i.storeDimIndex,s)]=s}}}))};ld=function(e,t,r){return lr(e._getCategory(t,r),null)};sd=function(e,t){var r=e._idList[t];if(r==null&&e._idDimIdx!=null){r=ld(e,e._idDimIdx,t)}if(r==null){r=rd+t}return r};ud=function(e){if(!a.isArray(e)){e=e!=null?[e]:[]}return e};vd=function(t){var r=new e(t._schema?t._schema:ed(t.dimensions,t._getDimInfo,t),t.hostModel);cd(r,t);return r};cd=function(e,t){a.each(id.concat(t.__wrappedMethods||[]),(function(r){if(t.hasOwnProperty(r)){e[r]=t[r]}}));e.__wrappedMethods=t.__wrappedMethods;a.each(nd,(function(r){e[r]=a.clone(t[r])}));e._calculationInfo=a.extend({},t._calculationInfo)};fd=function(e,t){var r=e._nameList;var a=e._idList;var i=e._nameDimIdx;var n=e._idDimIdx;var o=r[t];var s=a[t];if(o==null&&i!=null){r[t]=o=ld(e,i,t)}if(s==null&&n!=null){a[t]=s=ld(e,n,t)}if(s==null&&o!=null){var l=e._nameRepeatCount;var u=l[o]=(l[o]||0)+1;s=o;if(u>1){s+="__ec__"+u}a[t]=s}}}();return e}();function dd(e,t){return pd(e,t).dimensions}function pd(e,t){if(!Sl(e)){e=Ml(e)}t=t||{};var r=t.coordDimensions||[];var a=t.dimensionsDefine||e.dimensionsDefine||[];var n=o();var l=[];var c=yd(e,r,a,t.dimensionsCount);var v=t.canOmitUnusedDimensions&&$h(c);var f=a===e.dimensionsDefine;var h=f?Jh(e):Kh(a);var p=t.encodeDefine;if(!p&&t.encodeDefaulter){p=t.encodeDefaulter(e,c)}var g=o(p);var y=new wu(c);for(var m=0;m<y.length;m++){y[m]=-1}function _(e){var t=y[e];if(t<0){var r=a[e];var n=i(r)?r:{name:r};var o=new Yh;var s=n.name;if(s!=null&&h.get(s)!=null){o.name=o.displayName=s}n.type!=null&&(o.type=n.type);n.displayName!=null&&(o.displayName=n.displayName);var u=l.length;y[e]=u;o.storeDimIndex=e;l.push(o);return o}return l[t]}if(!v){for(var m=0;m<c;m++){_(m)}}g.each((function(e,t){var r=jt(e).slice();if(r.length===1&&!u(r[0])&&r[0]<0){g.set(t,false);return}var a=g.set(t,[]);s(r,(function(e,r){var i=u(e)?h.get(e):e;if(i!=null&&i<c){a[r]=i;S(_(i),t,r)}}))}));var b=0;s(r,(function(e){var t;var r;var a;var n;if(u(e)){t=e;n={}}else{n=e;t=n.name;var o=n.ordinalMeta;n.ordinalMeta=null;n=d({},n);n.ordinalMeta=o;r=n.dimsDef;a=n.otherDims;n.name=n.coordDim=n.coordDimIndex=n.dimsDef=n.otherDims=null}var l=g.get(t);if(l===false){return}l=jt(l);if(!l.length){for(var v=0;v<(r&&r.length||1);v++){while(b<c&&_(b).coordDim!=null){b++}b<c&&l.push(b++)}}s(l,(function(e,o){var s=_(e);if(f&&n.type!=null){s.type=n.type}S(x(s,n),t,o);if(s.name==null&&r){var l=r[o];!i(l)&&(l={name:l});s.name=s.displayName=l.name;s.defaultTooltip=l.defaultTooltip}a&&x(s.otherDims,a)}))}));function S(e,t,r){if(es.get(t)!=null){e.otherDims[t]=r}else{e.coordDim=t;e.coordDimIndex=r;n.set(t,true)}}var w=t.generateCoord;var M=t.generateCoordCount;var I=M!=null;M=w?M||1:0;var D=w||"value";function T(e){if(e.name==null){e.name=e.coordDim}}if(!v){for(var C=0;C<c;C++){var A=_(C);var L=A.coordDim;if(L==null){A.coordDim=md(D,n,I);A.coordDimIndex=0;if(!w||M<=0){A.isExtraCoord=true}M--}T(A);if(A.type==null&&(gs(e,C)===us.Must||A.isExtraCoord&&(A.otherDims.itemName!=null||A.otherDims.seriesName!=null))){A.type="ordinal"}}}else{s(l,(function(e){T(e)}));l.sort((function(e,t){return e.storeDimIndex-t.storeDimIndex}))}gd(l);return new jh({source:e,dimensions:l,fullDimensionCount:c,dimensionOmitted:v})}function gd(e){var t=o();for(var r=0;r<e.length;r++){var a=e[r];var i=a.name;var n=t.get(i)||0;if(n>0){a.name=i+(n-1)}n++;t.set(i,n)}}function yd(e,t,r,a){var n=Math.max(e.dimensionsDetectedCount||1,t.length,r.length,a||0);s(t,(function(e){var t;if(i(e)&&(t=e.dimsDef)){n=Math.max(n,t.length)}}));return n}function md(e,t,r){if(r||t.hasKey(e)){var a=0;while(t.hasKey(e+a)){a++}e+=a}t.set(e,true);return e}var xd=function(){function e(e){this.coordSysDims=[];this.axisMap=o();this.categoryAxisMap=o();this.coordSysName=e}return e}();function _d(e){var t=e.get("coordinateSystem");var r=new xd(t);var a=bd[t];if(a){a(e,r,r.axisMap,r.categoryAxisMap);return r}}var bd={cartesian2d:function(e,t,r,a){var i=e.getReferringComponents("xAxis",_r).models[0];var n=e.getReferringComponents("yAxis",_r).models[0];t.coordSysDims=["x","y"];r.set("x",i);r.set("y",n);if(Sd(i)){a.set("x",i);t.firstCategoryDimIndex=0}if(Sd(n)){a.set("y",n);t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1)}},singleAxis:function(e,t,r,a){var i=e.getReferringComponents("singleAxis",_r).models[0];t.coordSysDims=["single"];r.set("single",i);if(Sd(i)){a.set("single",i);t.firstCategoryDimIndex=0}},polar:function(e,t,r,a){var i=e.getReferringComponents("polar",_r).models[0];var n=i.findAxisModel("radiusAxis");var o=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"];r.set("radius",n);r.set("angle",o);if(Sd(n)){a.set("radius",n);t.firstCategoryDimIndex=0}if(Sd(o)){a.set("angle",o);t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1)}},geo:function(e,t,r,a){t.coordSysDims=["lng","lat"]},parallel:function(e,t,r,a){var i=e.ecModel;var n=i.getComponent("parallel",e.get("parallelIndex"));var o=t.coordSysDims=n.dimensions.slice();s(n.parallelAxisIndex,(function(e,n){var s=i.getComponent("parallelAxis",e);var l=o[n];r.set(l,s);if(Sd(s)){a.set(l,s);if(t.firstCategoryDimIndex==null){t.firstCategoryDimIndex=n}}}))}};function Sd(e){return e.get("type")==="category"}function wd(e,t,r){r=r||{};var a=r.byIndex;var i=r.stackedCoordDimension;var n;var o;var l;if(Md(t)){n=t}else{o=t.schema;n=o.dimensions;l=t.store}var c=!!(e&&e.get("stack"));var v;var f;var h;var d;s(n,(function(e,t){if(u(e)){n[t]=e={name:e}}if(c&&!e.isExtraCoord){if(!a&&!v&&e.ordinalMeta){v=e}if(!f&&e.type!=="ordinal"&&e.type!=="time"&&(!i||i===e.coordDim)){f=e}}}));if(f&&!a&&!v){a=true}if(f){h="__\0ecstackresult_"+e.id;d="__\0ecstackedover_"+e.id;if(v){v.createInvertedIndices=true}var p=f.coordDim;var g=f.type;var y=0;s(n,(function(e){if(e.coordDim===p){y++}}));var m={name:h,coordDim:p,coordDimIndex:y,type:g,isExtraCoord:true,isCalculationCoord:true,storeDimIndex:n.length};var x={name:d,coordDim:d,coordDimIndex:y+1,type:g,isExtraCoord:true,isCalculationCoord:true,storeDimIndex:n.length+1};if(o){if(l){m.storeDimIndex=l.ensureCalculationDimension(d,g);x.storeDimIndex=l.ensureCalculationDimension(h,g)}o.appendCalculationDimension(m);o.appendCalculationDimension(x)}else{n.push(m);n.push(x)}}return{stackedDimension:f&&f.name,stackedByDimension:v&&v.name,isStackedByIndex:a,stackedOverDimension:d,stackResultDimension:h}}function Md(e){return!qh(e.schema)}function Id(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function Dd(e,t){return Id(e,t)?e.getCalculationInfo("stackResultDimension"):t}function Td(e,t){var r=e.get("coordinateSystem");var i=Hs.get(r);var n;if(t&&t.coordSysDims){n=a.map(t.coordSysDims,(function(e){var r={name:e};var a=t.axisMap.get(e);if(a){var i=a.get("type");r.type=Wh(i)}return r}))}if(!n){n=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]}return n}function Cd(e,t,r){var i;var n;r&&a.each(e,(function(e,a){var o=e.coordDim;var s=r.categoryAxisMap.get(o);if(s){if(i==null){i=a}e.ordinalMeta=s.getOrdinalMeta();if(t){e.createInvertedIndices=true}}if(e.otherDims.itemName!=null){n=true}}));if(!n&&i!=null){e[i].otherDims.itemName=0}return i}function Ad(e,t,r){r=r||{};var i=t.getSourceManager();var n;var o=false;if(e){o=true;n=Ml(e)}else{n=i.getSource();o=n.sourceFormat===ts}var s=_d(t);var l=Td(t,s);var u=r.useEncodeDefaulter;var c=a.isFunction(u)?u:u?a.curry(fs,l,t):null;var v={coordDimensions:l,generateCoord:r.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!o};var f=pd(n,v);var h=Cd(f.dimensions,r.createInvertedIndices,s);var d=!o?i.getSharedDataStore(f):null;var p=wd(t,{schema:f,store:d});var g=new hd(f,t);g.setCalculationInfo(p);var y=h!=null&&Ld(n)?function(e,t,r,a){return a===h?r:this.defaultDimValueGetter(e,t,r,a)}:null;g.hasItemOption=false;g.initData(o?n:d,null,y);return g}function Ld(e){if(e.sourceFormat===ts){var t=kd(e.data||[]);return!a.isArray(Jt(t))}}function kd(e){var t=0;while(t<e.length&&e[t]==null){t++}return e[t]}var Pd=function(){function e(e){this._setting=e||{};this._extent=[Infinity,-Infinity]}e.prototype.getSetting=function(e){return this._setting[e]};e.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]);e[1]>t[1]&&(t[1]=e[1])};e.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))};e.prototype.getExtent=function(){return this._extent.slice()};e.prototype.setExtent=function(e,t){var r=this._extent;if(!isNaN(e)){r[0]=e}if(!isNaN(t)){r[1]=t}};e.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e};e.prototype.isBlank=function(){return this._isBlank};e.prototype.setBlank=function(e){this._isBlank=e};return e}();Fr(Pd);var Nd=0;var Od=function(){function e(e){this.categories=e.categories||[];this._needCollect=e.needCollect;this._deduplication=e.deduplication;this.uid=++Nd}e.createByAxisModel=function(t){var r=t.option;var a=r.data;var i=a&&f(a,Rd);return new e({categories:i,needCollect:!i,deduplication:r.dedplication!==false})};e.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)};e.prototype.parseAndCollect=function(e){var t;var r=this._needCollect;if(!u(e)&&!r){return e}if(r&&!this._deduplication){t=this.categories.length;this.categories[t]=e;return t}var a=this._getOrCreateMap();t=a.get(e);if(t==null){if(r){t=this.categories.length;this.categories[t]=e;a.set(e,t)}else{t=NaN}}return t};e.prototype._getOrCreateMap=function(){return this._map||(this._map=o(this.categories))};return e}();function Rd(e){if(i(e)&&e.value!=null){return e.value}else{return e+""}}function Ed(e){return e.type==="interval"||e.type==="log"}function zd(e,t,r,a){var i={};var n=e[1]-e[0];var o=i.interval=kt(n/t,true);if(r!=null&&o<r){o=i.interval=r}if(a!=null&&o>a){o=i.interval=a}var s=i.intervalPrecision=Bd(o);var l=i.niceTickExtent=[gt(Math.ceil(e[0]/o)*o,s),gt(Math.floor(e[1]/o)*o,s)];Fd(l,e);return i}function Vd(e){var t=Math.pow(10,Lt(e));var r=e/t;if(!r){r=1}else if(r===2){r=3}else if(r===3){r=5}else{r*=2}return gt(r*t)}function Bd(e){return mt(e)+2}function Gd(e,t,r){e[t]=Math.max(Math.min(e[t],r[1]),r[0])}function Fd(e,t){!isFinite(e[0])&&(e[0]=t[0]);!isFinite(e[1])&&(e[1]=t[1]);Gd(e,0,t);Gd(e,1,t);if(e[0]>e[1]){e[0]=e[1]}}function Hd(e,t){return e>=t[0]&&e<=t[1]}function Wd(e,t){if(t[1]===t[0]){return.5}return(e-t[0])/(t[1]-t[0])}function Ud(e,t){return e*(t[1]-t[0])+t[0]}var Yd=function(t){e(r,t);function r(e){var r=t.call(this,e)||this;r.type="ordinal";var a=r.getSetting("ordinalMeta");if(!a){a=new Od({})}if(n(a)){a=new Od({categories:f(a,(function(e){return i(e)?e.value:e}))})}r._ordinalMeta=a;r._extent=r.getSetting("extent")||[0,a.categories.length-1];return r}r.prototype.parse=function(e){if(e==null){return NaN}return u(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)};r.prototype.contain=function(e){e=this.parse(e);return Hd(e,this._extent)&&this._ordinalMeta.categories[e]!=null};r.prototype.normalize=function(e){e=this._getTickNumber(this.parse(e));return Wd(e,this._extent)};r.prototype.scale=function(e){e=Math.round(Ud(e,this._extent));return this.getRawOrdinalNumber(e)};r.prototype.getTicks=function(){var e=[];var t=this._extent;var r=t[0];while(r<=t[1]){e.push({value:r});r++}return e};r.prototype.getMinorTicks=function(e){return};r.prototype.setSortInfo=function(e){if(e==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}var t=e.ordinalNumbers;var r=this._ordinalNumbersByTick=[];var a=this._ticksByOrdinalNumber=[];var i=0;var n=this._ordinalMeta.categories.length;for(var o=Math.min(n,t.length);i<o;++i){var s=t[i];r[i]=s;a[s]=i}var l=0;for(;i<n;++i){while(a[l]!=null){l++}r.push(l);a[l]=i}};r.prototype._getTickNumber=function(e){var t=this._ticksByOrdinalNumber;return t&&e>=0&&e<t.length?t[e]:e};r.prototype.getRawOrdinalNumber=function(e){var t=this._ordinalNumbersByTick;return t&&e>=0&&e<t.length?t[e]:e};r.prototype.getLabel=function(e){if(!this.isBlank()){var t=this.getRawOrdinalNumber(e.value);var r=this._ordinalMeta.categories[t];return r==null?"":r+""}};r.prototype.count=function(){return this._extent[1]-this._extent[0]+1};r.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))};r.prototype.isInExtentRange=function(e){e=this._getTickNumber(e);return this._extent[0]<=e&&this._extent[1]>=e};r.prototype.getOrdinalMeta=function(){return this._ordinalMeta};r.prototype.calcNiceTicks=function(){};r.prototype.calcNiceExtent=function(){};r.type="ordinal";return r}(Pd);Pd.registerClass(Yd);var Xd=gt;var Zd=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type="interval";e._interval=0;e._intervalPrecision=2;return e}r.prototype.parse=function(e){return e};r.prototype.contain=function(e){return Hd(e,this._extent)};r.prototype.normalize=function(e){return Wd(e,this._extent)};r.prototype.scale=function(e){return Ud(e,this._extent)};r.prototype.setExtent=function(e,t){var r=this._extent;if(!isNaN(e)){r[0]=parseFloat(e)}if(!isNaN(t)){r[1]=parseFloat(t)}};r.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]);e[1]>t[1]&&(t[1]=e[1]);this.setExtent(t[0],t[1])};r.prototype.getInterval=function(){return this._interval};r.prototype.setInterval=function(e){this._interval=e;this._niceExtent=this._extent.slice();this._intervalPrecision=Bd(e)};r.prototype.getTicks=function(e){var t=this._interval;var r=this._extent;var a=this._niceExtent;var i=this._intervalPrecision;var n=[];if(!t){return n}var o=1e4;if(r[0]<a[0]){if(e){n.push({value:Xd(a[0]-t,i)})}else{n.push({value:r[0]})}}var s=a[0];while(s<=a[1]){n.push({value:s});s=Xd(s+t,i);if(s===n[n.length-1].value){break}if(n.length>o){return[]}}var l=n.length?n[n.length-1].value:a[1];if(r[1]>l){if(e){n.push({value:Xd(l+t,i)})}else{n.push({value:r[1]})}}return n};r.prototype.getMinorTicks=function(e){var t=this.getTicks(true);var r=[];var a=this.getExtent();for(var i=1;i<t.length;i++){var n=t[i];var o=t[i-1];var s=0;var l=[];var u=n.value-o.value;var c=u/e;while(s<e-1){var v=Xd(o.value+(s+1)*c);if(v>a[0]&&v<a[1]){l.push(v)}s++}r.push(l)}return r};r.prototype.getLabel=function(e,t){if(e==null){return""}var r=t&&t.precision;if(r==null){r=mt(e.value)||0}else if(r==="auto"){r=this._intervalPrecision}var a=Xd(e.value,r,true);return So(a)};r.prototype.calcNiceTicks=function(e,t,r){e=e||5;var a=this._extent;var i=a[1]-a[0];if(!isFinite(i)){return}if(i<0){i=-i;a.reverse()}var n=zd(a,e,t,r);this._intervalPrecision=n.intervalPrecision;this._interval=n.interval;this._niceExtent=n.niceTickExtent};r.prototype.calcNiceExtent=function(e){var t=this._extent;if(t[0]===t[1]){if(t[0]!==0){var r=Math.abs(t[0]);if(!e.fixMax){t[1]+=r/2;t[0]-=r/2}else{t[0]-=r/2}}else{t[1]=1}}var a=t[1]-t[0];if(!isFinite(a)){t[0]=0;t[1]=1}this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var i=this._interval;if(!e.fixMin){t[0]=Xd(Math.floor(t[0]/i)*i)}if(!e.fixMax){t[1]=Xd(Math.ceil(t[1]/i)*i)}};r.prototype.setNiceExtent=function(e,t){this._niceExtent=[e,t]};r.type="interval";return r}(Pd);Pd.registerClass(Zd);var jd=typeof Float32Array!=="undefined";var qd=!jd?Array:Float32Array;function Kd(e){if(n(e)){return jd?new Float32Array(e):e}return new qd(e)}var Jd="__ec_stack_";function $d(e){return e.get("stack")||Jd+e.seriesIndex}function Qd(e){return e.dim+e.index}function ep(e){var t=[];var r=e.axis;var a="axis0";if(r.type!=="category"){return}var i=r.getBandWidth();for(var n=0;n<e.count||0;n++){t.push(x({bandWidth:i,axisKey:a,stackId:Jd+n},e))}var o=ip(t);var s=[];for(var n=0;n<e.count;n++){var l=o[a][Jd+n];l.offsetCenter=l.offset+l.width/2;s.push(l)}return s}function tp(e,t){var r=[];t.eachSeriesByType(e,(function(e){if(lp(e)){r.push(e)}}));return r}function rp(e){var t={};s(e,(function(e){var r=e.coordinateSystem;var a=r.getBaseAxis();if(a.type!=="time"&&a.type!=="value"){return}var i=e.getData();var n=a.dim+"_"+a.index;var o=i.getDimensionIndex(i.mapDimension(a.dim));var s=i.getStore();for(var l=0,u=s.count();l<u;++l){var c=s.get(o,l);if(!t[n]){t[n]=[c]}else{t[n].push(c)}}}));var r={};for(var a in t){if(t.hasOwnProperty(a)){var i=t[a];if(i){i.sort((function(e,t){return e-t}));var n=null;for(var o=1;o<i.length;++o){var l=i[o]-i[o-1];if(l>0){n=n===null?l:Math.min(n,l)}}r[a]=n}}}return r}function ap(e){var t=rp(e);var r=[];s(e,(function(e){var a=e.coordinateSystem;var i=a.getBaseAxis();var n=i.getExtent();var o;if(i.type==="category"){o=i.getBandWidth()}else if(i.type==="value"||i.type==="time"){var s=i.dim+"_"+i.index;var l=t[s];var u=Math.abs(n[1]-n[0]);var c=i.scale.getExtent();var v=Math.abs(c[1]-c[0]);o=l?u/v*l:u}else{var f=e.getData();o=Math.abs(n[1]-n[0])/f.count()}var h=pt(e.get("barWidth"),o);var d=pt(e.get("barMaxWidth"),o);var p=pt(e.get("barMinWidth")||(up(e)?.5:1),o);var g=e.get("barGap");var y=e.get("barCategoryGap");r.push({bandWidth:o,barWidth:h,barMaxWidth:d,barMinWidth:p,barGap:g,barCategoryGap:y,axisKey:Qd(i),stackId:$d(e)})}));return ip(r)}function ip(e){var t={};s(e,(function(e,r){var a=e.axisKey;var i=e.bandWidth;var n=t[a]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}};var o=n.stacks;t[a]=n;var s=e.stackId;if(!o[s]){n.autoWidthCount++}o[s]=o[s]||{width:0,maxWidth:0};var l=e.barWidth;if(l&&!o[s].width){o[s].width=l;l=Math.min(n.remainedWidth,l);n.remainedWidth-=l}var u=e.barMaxWidth;u&&(o[s].maxWidth=u);var c=e.barMinWidth;c&&(o[s].minWidth=c);var v=e.barGap;v!=null&&(n.gap=v);var f=e.barCategoryGap;f!=null&&(n.categoryGap=f)}));var r={};s(t,(function(e,t){r[t]={};var a=e.stacks;var i=e.bandWidth;var n=e.categoryGap;if(n==null){var o=g(a).length;n=Math.max(35-o*4,15)+"%"}var l=pt(n,i);var u=pt(e.gap,1);var c=e.remainedWidth;var v=e.autoWidthCount;var f=(c-l)/(v+(v-1)*u);f=Math.max(f,0);s(a,(function(e){var t=e.maxWidth;var r=e.minWidth;if(!e.width){var a=f;if(t&&t<a){a=Math.min(t,c)}if(r&&r>a){a=r}if(a!==f){e.width=a;c-=a+u*a;v--}}else{var a=e.width;if(t){a=Math.min(a,t)}if(r){a=Math.max(a,r)}e.width=a;c-=a+u*a;v--}}));f=(c-l)/(v+(v-1)*u);f=Math.max(f,0);var h=0;var d;s(a,(function(e,t){if(!e.width){e.width=f}d=e;h+=e.width*(1+u)}));if(d){h-=d.width*u}var p=-h/2;s(a,(function(e,a){r[t][a]=r[t][a]||{bandWidth:i,offset:p,width:e.width};p+=e.width*(1+u)}))}));return r}function np(e,t,r){if(e&&t){var a=e[Qd(t)];if(a!=null&&r!=null){return a[$d(r)]}return a}}function op(e,t){var r=tp(e,t);var a=ap(r);s(r,(function(e){var t=e.getData();var r=e.coordinateSystem;var i=r.getBaseAxis();var n=$d(e);var o=a[Qd(i)][n];var s=o.offset;var l=o.width;t.setLayout({bandWidth:o.bandWidth,offset:s,size:l})}))}function sp(e){return{seriesType:e,plan:yc(),reset:function(e){if(!lp(e)){return}var t=e.getData();var r=e.coordinateSystem;var a=r.getBaseAxis();var i=r.getOtherAxis(a);var n=t.getDimensionIndex(t.mapDimension(i.dim));var o=t.getDimensionIndex(t.mapDimension(a.dim));var s=e.get("showBackground",true);var l=t.mapDimension(i.dim);var u=t.getCalculationInfo("stackResultDimension");var c=Id(t,l)&&!!t.getCalculationInfo("stackedOnSeries");var v=i.isHorizontal();var f=cp(a,i);var h=up(e);var d=e.get("barMinHeight")||0;var p=u&&t.getDimensionIndex(u);var g=t.getLayout("size");var y=t.getLayout("offset");return{progress:function(e,t){var a=e.count;var i=h&&Kd(a*3);var l=h&&s&&Kd(a*3);var u=h&&Kd(a);var m=r.master.getRect();var x=v?m.width:m.height;var _;var b=t.getStore();var S=0;while((_=e.next())!=null){var w=b.get(c?p:n,_);var M=b.get(o,_);var I=f;var D=void 0;if(c){D=+w-b.get(n,_)}var T=void 0;var C=void 0;var A=void 0;var L=void 0;if(v){var k=r.dataToPoint([w,M]);if(c){var P=r.dataToPoint([D,M]);I=P[0]}T=I;C=k[1]+y;A=k[0]-I;L=g;if(Math.abs(A)<d){A=(A<0?-1:1)*d}}else{var k=r.dataToPoint([M,w]);if(c){var P=r.dataToPoint([M,D]);I=P[1]}T=k[0]+y;C=I;A=g;L=k[1]-I;if(Math.abs(L)<d){L=(L<=0?-1:1)*d}}if(!h){t.setItemLayout(_,{x:T,y:C,width:A,height:L})}else{i[S]=T;i[S+1]=C;i[S+2]=v?A:L;if(l){l[S]=v?m.x:T;l[S+1]=v?C:m.y;l[S+2]=x}u[_]=_}S+=3}if(h){t.setLayout({largePoints:i,largeDataIndices:u,largeBackgroundPoints:l,valueAxisHorizontal:v})}}}}}}function lp(e){return e.coordinateSystem&&e.coordinateSystem.type==="cartesian2d"}function up(e){return e.pipelineContext&&e.pipelineContext.large}function cp(e,t){var r=t.model.get("startValue");if(!r){r=0}return t.toGlobalCoord(t.dataToCoord(t.type==="log"?r>0?r:1:r))}var vp=function(e,t,r,a){while(r<a){var i=r+a>>>1;if(e[i][1]<t){r=i+1}else{a=i}}return r};var fp=function(t){e(r,t);function r(e){var r=t.call(this,e)||this;r.type="time";return r}r.prototype.getLabel=function(e){var t=this.getSetting("useUTC");return ro(e.value,qn[to(Qn(this._minLevelUnit))]||qn.second,t,this.getSetting("locale"))};r.prototype.getFormattedLabel=function(e,t,r){var a=this.getSetting("useUTC");var i=this.getSetting("locale");return ao(e,t,r,i,a)};r.prototype.getTicks=function(){var e=this._interval;var t=this._extent;var r=[];if(!e){return r}r.push({value:t[0],level:0});var a=this.getSetting("useUTC");var i=bp(this._minLevelUnit,this._approxInterval,a,t);r=r.concat(i);r.push({value:t[1],level:0});return r};r.prototype.calcNiceExtent=function(e){var t=this._extent;if(t[0]===t[1]){t[0]-=Yn;t[1]+=Yn}if(t[1]===-Infinity&&t[0]===Infinity){var r=new Date;t[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate());t[0]=t[1]-Yn}this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)};r.prototype.calcNiceTicks=function(e,t,r){e=e||10;var a=this._extent;var i=a[1]-a[0];this._approxInterval=i/e;if(t!=null&&this._approxInterval<t){this._approxInterval=t}if(r!=null&&this._approxInterval>r){this._approxInterval=r}var n=hp.length;var o=Math.min(vp(hp,this._approxInterval,0,n),n-1);this._interval=hp[o][1];this._minLevelUnit=hp[Math.max(o-1,0)][0]};r.prototype.parse=function(e){return c(e)?e:+Ct(e)};r.prototype.contain=function(e){return Hd(this.parse(e),this._extent)};r.prototype.normalize=function(e){return Wd(this.parse(e),this._extent)};r.prototype.scale=function(e){return Ud(e,this._extent)};r.type="time";return r}(Zd);var hp=[["second",Hn],["minute",Wn],["hour",Un],["quarter-day",Un*6],["half-day",Un*12],["day",Yn*1.2],["half-week",Yn*3.5],["week",Yn*7],["month",Yn*31],["quarter",Yn*95],["half-year",Xn/2],["year",Xn]];function dp(e,t,r,a){var i=Ct(t);var n=Ct(r);var o=function(e){return no(i,e,a)===no(n,e,a)};var s=function(){return o("year")};var l=function(){return s()&&o("month")};var u=function(){return l()&&o("day")};var c=function(){return u()&&o("hour")};var v=function(){return c()&&o("minute")};var f=function(){return v()&&o("second")};var h=function(){return f()&&o("millisecond")};switch(e){case"year":return s();case"month":return l();case"day":return u();case"hour":return c();case"minute":return v();case"second":return f();case"millisecond":return h()}}function pp(e,t){e/=Yn;return e>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function gp(e){var t=30*Yn;e/=t;return e>6?6:e>3?3:e>2?2:1}function yp(e){e/=Un;return e>12?12:e>6?6:e>3.5?4:e>2?2:1}function mp(e,t){e/=t?Wn:Hn;return e>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function xp(e){return kt(e,true)}function _p(e,t,r){var a=new Date(e);switch(Qn(t)){case"year":case"month":a[po(r)](0);case"day":a[go(r)](1);case"hour":a[yo(r)](0);case"minute":a[mo(r)](0);case"second":a[xo(r)](0);a[_o(r)](0)}return a.getTime()}function bp(e,t,r,a){var i=1e4;var n=Jn;var o=0;function s(e,t,r,i,n,o,s){var l=new Date(t);var u=t;var c=l[i]();while(u<r&&u<=a[1]){s.push({value:u});c+=e;l[n](c);u=l.getTime()}s.push({value:u,notAdd:true})}function l(e,i,n){var o=[];var l=!i.length;if(dp(Qn(e),a[0],a[1],r)){return}if(l){i=[{value:_p(new Date(a[0]),e,r)},{value:a[1]}]}for(var u=0;u<i.length-1;u++){var c=i[u].value;var v=i[u+1].value;if(c===v){continue}var f=void 0;var h=void 0;var d=void 0;var p=false;switch(e){case"year":f=Math.max(1,Math.round(t/Yn/365));h=oo(r);d=ho(r);break;case"half-year":case"quarter":case"month":f=gp(t);h=so(r);d=po(r);break;case"week":case"half-week":case"day":f=pp(t);h=lo(r);d=go(r);p=true;break;case"half-day":case"quarter-day":case"hour":f=yp(t);h=uo(r);d=yo(r);break;case"minute":f=mp(t,true);h=co(r);d=mo(r);break;case"second":f=mp(t,false);h=vo(r);d=xo(r);break;case"millisecond":f=xp(t);h=fo(r);d=_o(r);break}s(f,c,v,h,d,p,o);if(e==="year"&&n.length>1&&u===0){n.unshift({value:n[0].value-f})}}for(var u=0;u<o.length;u++){n.push(o[u])}return o}var u=[];var c=[];var v=0;var h=0;for(var d=0;d<n.length&&o++<i;++d){var p=Qn(n[d]);if(!eo(n[d])){continue}l(n[d],u[u.length-1]||[],c);var g=n[d+1]?Qn(n[d+1]):null;if(p!==g){if(c.length){h=v;c.sort((function(e,t){return e.value-t.value}));var y=[];for(var m=0;m<c.length;++m){var x=c[m].value;if(m===0||c[m-1].value!==x){y.push(c[m]);if(x>=a[0]&&x<=a[1]){v++}}}var _=(a[1]-a[0])/t;if(v>_*1.5&&h>_/1.5){break}u.push(y);if(v>_||e===n[d]){break}}c=[]}}var b=D(f(u,(function(e){return D(e,(function(e){return e.value>=a[0]&&e.value<=a[1]&&!e.notAdd}))})),(function(e){return e.length>0}));var S=[];var w=b.length-1;for(var d=0;d<b.length;++d){var M=b[d];for(var I=0;I<M.length;++I){S.push({value:M[I].value,level:w-d})}}S.sort((function(e,t){return e.value-t.value}));var T=[];for(var d=0;d<S.length;++d){if(d===0||S[d].value!==S[d-1].value){T.push(S[d])}}return T}Pd.registerClass(fp);var Sp=Pd.prototype;var wp=Zd.prototype;var Mp=gt;var Ip=Math.floor;var Dp=Math.ceil;var Tp=Math.pow;var Cp=Math.log;var Ap=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type="log";e.base=10;e._originalScale=new Zd;e._interval=0;return e}r.prototype.getTicks=function(e){var t=this._originalScale;var r=this._extent;var i=t.getExtent();var n=wp.getTicks.call(this,e);return a.map(n,(function(e){var t=e.value;var a=gt(Tp(this.base,t));a=t===r[0]&&this._fixMin?kp(a,i[0]):a;a=t===r[1]&&this._fixMax?kp(a,i[1]):a;return{value:a}}),this)};r.prototype.setExtent=function(e,t){var r=Cp(this.base);e=Cp(Math.max(0,e))/r;t=Cp(Math.max(0,t))/r;wp.setExtent.call(this,e,t)};r.prototype.getExtent=function(){var e=this.base;var t=Sp.getExtent.call(this);t[0]=Tp(e,t[0]);t[1]=Tp(e,t[1]);var r=this._originalScale;var a=r.getExtent();this._fixMin&&(t[0]=kp(t[0],a[0]));this._fixMax&&(t[1]=kp(t[1],a[1]));return t};r.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=Cp(e[0])/Cp(t);e[1]=Cp(e[1])/Cp(t);Sp.unionExtent.call(this,e)};r.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))};r.prototype.calcNiceTicks=function(e){e=e||10;var t=this._extent;var r=t[1]-t[0];if(r===Infinity||r<=0){return}var a=At(r);var i=e/r*a;if(i<=.5){a*=10}while(!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0){a*=10}var n=[gt(Dp(t[0]/a)*a),gt(Ip(t[1]/a)*a)];this._interval=a;this._niceExtent=n};r.prototype.calcNiceExtent=function(e){wp.calcNiceExtent.call(this,e);this._fixMin=e.fixMin;this._fixMax=e.fixMax};r.prototype.parse=function(e){return e};r.prototype.contain=function(e){e=Cp(e)/Cp(this.base);return Hd(e,this._extent)};r.prototype.normalize=function(e){e=Cp(e)/Cp(this.base);return Wd(e,this._extent)};r.prototype.scale=function(e){e=Ud(e,this._extent);return Tp(this.base,e)};r.type="log";return r}(Pd);var Lp=Ap.prototype;Lp.getMinorTicks=wp.getMinorTicks;Lp.getLabel=wp.getLabel;function kp(e,t){return Mp(e,mt(t))}Pd.registerClass(Ap);var Pp=function(){function e(e,t,r){this._prepareParams(e,t,r)}e.prototype._prepareParams=function(e,t,r){if(r[1]<r[0]){r=[NaN,NaN]}this._dataMin=r[0];this._dataMax=r[1];var a=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var i=t.get("min",true);if(i==null){i=t.get("startValue",true)}var o=this._modelMinRaw=i;if(m(o)){this._modelMinNum=Ep(e,o({min:r[0],max:r[1]}))}else if(o!=="dataMin"){this._modelMinNum=Ep(e,o)}var s=this._modelMaxRaw=t.get("max",true);if(m(s)){this._modelMaxNum=Ep(e,s({min:r[0],max:r[1]}))}else if(s!=="dataMax"){this._modelMaxNum=Ep(e,s)}if(a){this._axisDataLen=t.getCategories().length}else{var l=t.get("boundaryGap");var u=n(l)?l:[l||0,l||0];if(typeof u[0]==="boolean"||typeof u[1]==="boolean"){this._boundaryGapInner=[0,0]}else{this._boundaryGapInner=[Re(u[0],1),Re(u[1],1)]}}};e.prototype.calculate=function(){var e=this._isOrdinal;var t=this._dataMin;var r=this._dataMax;var a=this._axisDataLen;var i=this._boundaryGapInner;var n=!e?r-t||Math.abs(t):null;var o=this._modelMinRaw==="dataMin"?t:this._modelMinNum;var s=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum;var l=o!=null;var u=s!=null;if(o==null){o=e?a?0:NaN:t-i[0]*n}if(s==null){s=e?a?a-1:NaN:r+i[1]*n}(o==null||!isFinite(o))&&(o=NaN);(s==null||!isFinite(s))&&(s=NaN);var c=k(o)||k(s)||e&&!a;if(this._needCrossZero){if(o>0&&s>0&&!l){o=0}if(o<0&&s<0&&!u){s=0}}var v=this._determinedMin;var f=this._determinedMax;if(v!=null){o=v;l=true}if(f!=null){s=f;u=true}return{min:o,max:s,minFixed:l,maxFixed:u,isBlank:c}};e.prototype.modifyDataMinMax=function(e,t){this[Op[e]]=t};e.prototype.setDeterminedMinMax=function(e,t){var r=Np[e];this[r]=t};e.prototype.freeze=function(){this.frozen=true};return e}();var Np={min:"_determinedMin",max:"_determinedMax"};var Op={min:"_dataMin",max:"_dataMax"};function Rp(e,t,r){var a=e.rawExtentInfo;if(a){return a}a=new Pp(e,t,r);e.rawExtentInfo=a;return a}function Ep(e,t){return t==null?null:k(t)?NaN:e.parse(t)}function zp(e,t){var r=e.type;var i=Rp(e,t,e.getExtent()).calculate();e.setBlank(i.isBlank);var n=i.min;var o=i.max;var s=t.ecModel;if(s&&r==="time"){var l=tp("bar",s);var u=false;a.each(l,(function(e){u=u||e.getBaseAxis()===t.axis}));if(u){var c=ap(l);var v=Vp(n,o,t,c);n=v.min;o=v.max}}return{extent:[n,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function Vp(e,t,r,i){var n=r.axis.getExtent();var o=n[1]-n[0];var s=np(i,r.axis);if(s===undefined){return{min:e,max:t}}var l=Infinity;a.each(s,(function(e){l=Math.min(e.offset,l)}));var u=-Infinity;a.each(s,(function(e){u=Math.max(e.offset+e.width,u)}));l=Math.abs(l);u=Math.abs(u);var c=l+u;var v=t-e;var f=1-(l+u)/o;var h=v/f-v;t+=h*(u/c);e-=h*(l/c);return{min:e,max:t}}function Bp(e,t){var r=t;var a=zp(e,r);var i=a.extent;var n=r.get("splitNumber");if(e instanceof Ap){e.base=r.get("logBase")}var o=e.type;var s=r.get("interval");var l=o==="interval"||o==="time";e.setExtent(i[0],i[1]);e.calcNiceExtent({splitNumber:n,fixMin:a.fixMin,fixMax:a.fixMax,minInterval:l?r.get("minInterval"):null,maxInterval:l?r.get("maxInterval"):null});if(s!=null){e.setInterval&&e.setInterval(s)}}function Gp(e,t){t=t||e.get("type");if(t){switch(t){case"category":return new Yd({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[Infinity,-Infinity]});case"time":return new fp({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(Pd.getClass(t)||Zd)}}}function Fp(e){var t=e.scale.getExtent();var r=t[0];var a=t[1];return!(r>0&&a>0||r<0&&a<0)}function Hp(e){var t=e.getLabelModel().get("formatter");var r=e.type==="category"?e.scale.getExtent()[0]:null;if(e.scale.type==="time"){return function(t){return function(r,a){return e.scale.getFormattedLabel(r,a,t)}}(t)}else if(a.isString(t)){return function(t){return function(r){var a=e.scale.getLabel(r);var i=t.replace("{value}",a!=null?a:"");return i}}(t)}else if(a.isFunction(t)){return function(t){return function(a,i){if(r!=null){i=a.value-r}return t(Wp(e,a),i,a.level!=null?{level:a.level}:null)}}(t)}else{return function(t){return e.scale.getLabel(t)}}}function Wp(e,t){return e.type==="category"?e.scale.getLabel(t):t.value}function Up(e){var t=e.model;var r=e.scale;if(!t.get(["axisLabel","show"])||r.isBlank()){return}var a;var i;var n=r.getExtent();if(r instanceof Yd){i=r.count()}else{a=r.getTicks();i=a.length}var o=e.getLabelModel();var s=Hp(e);var l;var u=1;if(i>40){u=Math.ceil(i/40)}for(var c=0;c<i;c+=u){var v=a?a[c]:{value:n[0]+c};var f=s(v,c);var h=o.getTextRect(f);var d=Yp(h,o.get("rotate")||0);l?l.union(d):l=d}return l}function Yp(e,t){var r=t*Math.PI/180;var a=e.width;var i=e.height;var n=a*Math.abs(Math.cos(r))+Math.abs(i*Math.sin(r));var o=a*Math.abs(Math.sin(r))+Math.abs(i*Math.cos(r));var s=new we(e.x,e.y,n,o);return s}function Xp(e){var t=e.get("interval");return t==null?"auto":t}function Zp(e){return e.type==="category"&&Xp(e.getLabelModel())===0}function jp(e,t){var r={};a.each(e.mapDimensionsAll(t),(function(t){r[Dd(e,t)]=true}));return a.keys(r)}function qp(e,t,r){if(t){a.each(jp(t,r),(function(r){var a=t.getApproximateExtent(r);a[0]<e[0]&&(e[0]=a[0]);a[1]>e[1]&&(e[1]=a[1])}))}}var Kp=function(){function e(){}e.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale};e.prototype.getCoordSysModel=function(){return};return e}();function Jp(e){return Ad(null,e)}var $p={isDimensionStacked:Id,enableDataStack:wd,getStackedDimension:Dd};function Qp(e,t){var r=t;if(!(t instanceof Mn)){r=new Mn(t)}var a=Gp(r);a.setExtent(e[0],e[1]);Bp(a,r);return a}function eg(e){a.mixin(e,Kp)}function tg(e,t){t=t||{};return tn(e,null,null,t.state!=="normal")}var rg=Object.freeze({__proto__:null,createList:Jp,getLayoutRect:Fo,dataStack:$p,createScale:Qp,mixinAxisModelCommonMethods:eg,getECData:Xr,createTextStyle:tg,createDimensions:dd,createSymbol:Pv,enableHoverEmphasis:Xa});var ag=[];function ig(e,t){for(var r=0;r<e.length;r++){ie.applyTransform(e[r],e[r],t)}}function ng(e,t,r,a){for(var i=0;i<e.length;i++){var n=e[i];if(a){n=a.project(n)}if(n&&isFinite(n[0])&&isFinite(n[1])){ie.min(t,t,n);ie.max(r,r,n)}}}function og(e){var t=0;var r=0;var a=0;var i=e.length;var n=e[i-1][0];var o=e[i-1][1];for(var s=0;s<i;s++){var l=e[s][0];var u=e[s][1];var c=n*u-l*o;t+=c;r+=(n+l)*c;a+=(o+u)*c;n=l;o=u}return t?[r/t/3,a/t/3,t]:[e[0][0]||0,e[0][1]||0]}var sg=function(){function e(e){this.name=e}e.prototype.setCenter=function(e){this._center=e};e.prototype.getCenter=function(){var e=this._center;if(!e){e=this._center=this.calcCenter()}return e};return e}();var lg=function(){function e(e,t){this.type="polygon";this.exterior=e;this.interiors=t}return e}();var ug=function(){function e(e){this.type="linestring";this.points=e}return e}();var cg=function(t){e(r,t);function r(e,r,a){var i=t.call(this,e)||this;i.type="geoJSON";i.geometries=r;i._center=a&&[a[0],a[1]];return i}r.prototype.calcCenter=function(){var e=this.geometries;var t;var r=0;for(var a=0;a<e.length;a++){var i=e[a];var n=i.exterior;var o=n&&n.length;if(o>r){t=i;r=o}}if(t){return og(t.exterior)}var s=this.getBoundingRect();return[s.x+s.width/2,s.y+s.height/2]};r.prototype.getBoundingRect=function(e){var t=this._rect;if(t&&!e){return t}var r=[Infinity,Infinity];var a=[-Infinity,-Infinity];var i=this.geometries;s(i,(function(t){if(t.type==="polygon"){ng(t.exterior,r,a,e)}else{s(t.points,(function(t){ng(t,r,a,e)}))}}));if(!(isFinite(r[0])&&isFinite(r[1])&&isFinite(a[0])&&isFinite(a[1]))){r[0]=r[1]=a[0]=a[1]=0}t=new we(r[0],r[1],a[0]-r[0],a[1]-r[1]);if(!e){this._rect=t}return t};r.prototype.contain=function(e){var t=this.getBoundingRect();var r=this.geometries;if(!t.contain(e[0],e[1])){return false}e:for(var a=0,i=r.length;a<i;a++){var n=r[a];if(n.type!=="polygon"){continue}var o=n.exterior;var s=n.interiors;if(Be.contain(o,e[0],e[1])){for(var l=0;l<(s?s.length:0);l++){if(Be.contain(s[l],e[0],e[1])){continue e}}return true}}return false};r.prototype.transformTo=function(e,t,r,a){var i=this.getBoundingRect();var n=i.width/i.height;if(!r){r=n*a}else if(!a){a=r/n}var o=new we(e,t,r,a);var l=i.calculateTransform(o);var u=this.geometries;for(var c=0;c<u.length;c++){var v=u[c];if(v.type==="polygon"){ig(v.exterior,l);s(v.interiors,(function(e){ig(e,l)}))}else{s(v.points,(function(e){ig(e,l)}))}}i=this._rect;i.copy(o);this._center=[i.x+i.width/2,i.y+i.height/2]};r.prototype.cloneShallow=function(e){e==null&&(e=this.name);var t=new r(e,this.geometries,this._center);t._rect=this._rect;t.transformTo=null;return t};return r}(sg);var vg=function(t){e(r,t);function r(e,r){var a=t.call(this,e)||this;a.type="geoSVG";a._elOnlyForCalculate=r;return a}r.prototype.calcCenter=function(){var e=this._elOnlyForCalculate;var t=e.getBoundingRect();var r=[t.x+t.width/2,t.y+t.height/2];var a=re.identity(ag);var i=e;while(i&&!i.isGeoSVGGraphicRoot){re.mul(a,i.getLocalTransform(),a);i=i.parent}re.invert(a,a);ie.applyTransform(r,r,a);return r};return r}(sg);function fg(e){if(!e.UTF8Encoding){return e}var t=e;var r=t.UTF8Scale;if(r==null){r=1024}var i=t.features;a.each(i,(function(e){var t=e.geometry;var i=t.encodeOffsets;var n=t.coordinates;if(!i){return}switch(t.type){case"LineString":t.coordinates=dg(n,i,r);break;case"Polygon":hg(n,i,r);break;case"MultiLineString":hg(n,i,r);break;case"MultiPolygon":a.each(n,(function(e,t){return hg(e,i[t],r)}))}}));t.UTF8Encoding=false;return t}function hg(e,t,r){for(var a=0;a<e.length;a++){e[a]=dg(e[a],t[a],r)}}function dg(e,t,r){var a=[];var i=t[0];var n=t[1];for(var o=0;o<e.length;o+=2){var s=e.charCodeAt(o)-64;var l=e.charCodeAt(o+1)-64;s=s>>1^-(s&1);l=l>>1^-(l&1);s+=i;l+=n;i=s;n=l;a.push([s/r,l/r])}return a}function pg(e,t){e=fg(e);return a.map(a.filter(e.features,(function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0})),(function(e){var r=e.properties;var i=e.geometry;var n=[];switch(i.type){case"Polygon":var o=i.coordinates;n.push(new lg(o[0],o.slice(1)));break;case"MultiPolygon":a.each(i.coordinates,(function(e){if(e[0]){n.push(new lg(e[0],e.slice(1)))}}));break;case"LineString":n.push(new ug([i.coordinates]));break;case"MultiLineString":n.push(new ug(i.coordinates))}var s=new cg(r[t||"name"],n,r.cp);s.properties=r;return s}))}var gg=Object.freeze({__proto__:null,linearMap:dt,round:gt,asc:yt,getPrecision:mt,getPrecisionSafe:xt,getPixelPrecision:_t,getPercentWithPrecision:bt,MAX_SAFE_INTEGER:Mt,remRadian:It,isRadianAroundZero:Dt,parseDate:Ct,quantity:At,quantityExponent:Lt,nice:kt,quantile:Pt,reformIntervals:Nt,isNumeric:Rt,numericToNumber:Ot});var yg=Object.freeze({__proto__:null,parse:Ct,format:ro});var mg=Object.freeze({__proto__:null,extendShape:_i,extendPath:Si,makePath:Ii,makeImage:Di,mergePath:Ci,resizePath:Ai,createIcon:Fi,updateProps:ui,initProps:ci,getTransform:Ni,clipPointsByRect:Bi,clipRectByRect:Gi,registerShape:wi,getShapeClass:Mi,Group:ue,Image:le,Text:U,Circle:ce,Ellipse:ve,Sector:fe,Ring:he,Polygon:de,Polyline:pe,Rect:ge,Line:ye,BezierCurve:me,Arc:xe,IncrementalDisplayable:De,CompoundPath:_e,LinearGradient:be,RadialGradient:Se,BoundingRect:we});var xg=Object.freeze({__proto__:null,addCommas:So,toCamelCase:wo,normalizeCssArray:Mo,encodeHTML:Ce,formatTpl:Co,getTooltipMarker:Lo,formatTime:ko,capitalFirst:Po,truncateText:Le,getTextRect:bo});var _g=Object.freeze({__proto__:null,map:f,each:s,indexOf:h,inherits:P,reduce:A,filter:D,bind:C,curry:N,isArray:n,isString:u,isObject:i,isFunction:m,extend:d,defaults:x,clone:w,merge:S});var bg=gr();function Sg(e,t){var r=a.map(t,(function(t){return e.scale.parse(t)}));if(e.type==="time"&&r.length>0){r.sort();r.unshift(r[0]);r.push(r[r.length-1])}return r}function wg(e){var t=e.getLabelModel().get("customValues");if(t){var r=Hp(e);return{labels:Sg(e,t).map((function(t){var a={value:t};return{formattedLabel:r(a),rawLabel:e.scale.getLabel(a),tickValue:t}}))}}return e.type==="category"?Ig(e):Cg(e)}function Mg(e,t){var r=e.getTickModel().get("customValues");if(r){return{ticks:Sg(e,r)}}return e.type==="category"?Tg(e,t):{ticks:a.map(e.scale.getTicks(),(function(e){return e.value}))}}function Ig(e){var t=e.getLabelModel();var r=Dg(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function Dg(e,t){var r=Ag(e,"labels");var i=Xp(t);var n=Lg(r,i);if(n){return n}var o;var s;if(a.isFunction(i)){o=Eg(e,i)}else{s=i==="auto"?Pg(e):i;o=Rg(e,s)}return kg(r,i,{labels:o,labelCategoryInterval:s})}function Tg(e,t){var r=Ag(e,"ticks");var i=Xp(t);var n=Lg(r,i);if(n){return n}var o;var s;if(!t.get("show")||e.scale.isBlank()){o=[]}if(a.isFunction(i)){o=Eg(e,i,true)}else if(i==="auto"){var l=Dg(e,e.getLabelModel());s=l.labelCategoryInterval;o=a.map(l.labels,(function(e){return e.tickValue}))}else{s=i;o=Rg(e,s,true)}return kg(r,i,{ticks:o,tickCategoryInterval:s})}function Cg(e){var t=e.scale.getTicks();var r=Hp(e);return{labels:a.map(t,(function(t,a){return{level:t.level,formattedLabel:r(t,a),rawLabel:e.scale.getLabel(t),tickValue:t.value}}))}}function Ag(e,t){return bg(e)[t]||(bg(e)[t]=[])}function Lg(e,t){for(var r=0;r<e.length;r++){if(e[r].key===t){return e[r].value}}}function kg(e,t,r){e.push({key:t,value:r});return r}function Pg(e){var t=bg(e).autoInterval;return t!=null?t:bg(e).autoInterval=e.calculateCategoryInterval()}function Ng(e){var t=Og(e);var r=Hp(e);var a=(t.axisRotate-t.labelRotate)/180*Math.PI;var i=e.scale;var n=i.getExtent();var o=i.count();if(n[1]-n[0]<1){return 0}var s=1;if(o>40){s=Math.max(1,Math.floor(o/40))}var l=n[0];var u=e.dataToCoord(l+1)-e.dataToCoord(l);var c=Math.abs(u*Math.cos(a));var v=Math.abs(u*Math.sin(a));var f=0;var h=0;for(;l<=n[1];l+=s){var d=0;var p=0;var g=Ne.getBoundingRect(r({value:l}),t.font,"center","top");d=g.width*1.3;p=g.height*1.3;f=Math.max(f,d,7);h=Math.max(h,p,7)}var y=f/c;var m=h/v;isNaN(y)&&(y=Infinity);isNaN(m)&&(m=Infinity);var x=Math.max(0,Math.floor(Math.min(y,m)));var _=bg(e.model);var b=e.getExtent();var S=_.lastAutoInterval;var w=_.lastTickCount;if(S!=null&&w!=null&&Math.abs(S-x)<=1&&Math.abs(w-o)<=1&&S>x&&_.axisExtent0===b[0]&&_.axisExtent1===b[1]){x=S}else{_.lastTickCount=o;_.lastAutoInterval=x;_.axisExtent0=b[0];_.axisExtent1=b[1]}return x}function Og(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function Rg(e,t,r){var a=Hp(e);var i=e.scale;var n=i.getExtent();var o=e.getLabelModel();var s=[];var l=Math.max((t||0)+1,1);var u=n[0];var c=i.count();if(u!==0&&l>1&&c/l>2){u=Math.round(Math.ceil(u/l)*l)}var v=Zp(e);var f=o.get("showMinLabel")||v;var h=o.get("showMaxLabel")||v;if(f&&u!==n[0]){p(n[0])}var d=u;for(;d<=n[1];d+=l){p(d)}if(h&&d-l!==n[1]){p(n[1])}function p(e){var t={value:e};s.push(r?e:{formattedLabel:a(t),rawLabel:i.getLabel(t),tickValue:e})}return s}function Eg(e,t,r){var i=e.scale;var n=Hp(e);var o=[];a.each(i.getTicks(),(function(e){var a=i.getLabel(e);var s=e.value;if(t(e.value,a)){o.push(r?s:{formattedLabel:n(e),rawLabel:a,tickValue:s})}}));return o}var zg=[0,1];var Vg=function(){function e(e,t,r){this.onBand=false;this.inverse=false;this.dim=e;this.scale=t;this._extent=r||[0,0]}e.prototype.contain=function(e){var t=this._extent;var r=Math.min(t[0],t[1]);var a=Math.max(t[0],t[1]);return e>=r&&e<=a};e.prototype.containData=function(e){return this.scale.contain(e)};e.prototype.getExtent=function(){return this._extent.slice()};e.prototype.getPixelPrecision=function(e){return _t(e||this.scale.getExtent(),this._extent)};e.prototype.setExtent=function(e,t){var r=this._extent;r[0]=e;r[1]=t};e.prototype.dataToCoord=function(e,t){var r=this._extent;var a=this.scale;e=a.normalize(e);if(this.onBand&&a.type==="ordinal"){r=r.slice();Bg(r,a.count())}return dt(e,zg,r,t)};e.prototype.coordToData=function(e,t){var r=this._extent;var a=this.scale;if(this.onBand&&a.type==="ordinal"){r=r.slice();Bg(r,a.count())}var i=dt(e,r,zg,t);return this.scale.scale(i)};e.prototype.pointToData=function(e,t){return};e.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel();var r=Mg(this,t);var a=r.ticks;var i=f(a,(function(e){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(e):e),tickValue:e}}),this);var n=t.get("alignWithLabel");Gg(this,i,n,e.clamp);return i};e.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal"){return[]}var e=this.model.getModel("minorTick");var t=e.get("splitNumber");if(!(t>0&&t<100)){t=5}var r=this.scale.getMinorTicks(t);var a=f(r,(function(e){return f(e,(function(e){return{coord:this.dataToCoord(e),tickValue:e}}),this)}),this);return a};e.prototype.getViewLabels=function(){return wg(this).labels};e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")};e.prototype.getTickModel=function(){return this.model.getModel("axisTick")};e.prototype.getBandWidth=function(){var e=this._extent;var t=this.scale.getExtent();var r=t[1]-t[0]+(this.onBand?1:0);r===0&&(r=1);var a=Math.abs(e[1]-e[0]);return Math.abs(a)/r};e.prototype.calculateCategoryInterval=function(){return Ng(this)};return e}();function Bg(e,t){var r=e[1]-e[0];var a=t;var i=r/a/2;e[0]+=i;e[1]-=i}function Gg(e,t,r,a){var i=t.length;if(!e.onBand||r||!i){return}var n=e.getExtent();var o;var l;if(i===1){t[0].coord=n[0];o=t[1]={coord:n[1]}}else{var u=t[i-1].tickValue-t[0].tickValue;var c=(t[i-1].coord-t[0].coord)/u;s(t,(function(e){e.coord-=c/2}));var v=e.scale.getExtent();l=1+v[1]-t[i-1].tickValue;o={coord:t[i-1].coord+c*l};t.push(o)}var f=n[0]>n[1];if(h(t[0].coord,n[0])){a?t[0].coord=n[0]:t.shift()}if(a&&h(n[0],t[0].coord)){t.unshift({coord:n[0]})}if(h(n[1],o.coord)){a?o.coord=n[1]:t.pop()}if(a&&h(o.coord,n[1])){t.push({coord:n[1]})}function h(e,t){e=gt(e);t=gt(t);return f?e>t:e<t}}function Fg(e){var t=qo.extend(e);qo.registerClass(t);return t}function Hg(e){var t=gc.extend(e);gc.registerClass(t);return t}function Wg(e){var t=sc.extend(e);sc.registerClass(t);return t}function Ug(e){var t=_c.extend(e);_c.registerClass(t);return t}var Yg=Math.PI*2;var Xg=Ge.CMD;var Zg=["top","right","bottom","left"];function jg(e,t,r,a,i){var n=r.width;var o=r.height;switch(e){case"top":a.set(r.x+n/2,r.y-t);i.set(0,-1);break;case"bottom":a.set(r.x+n/2,r.y+o+t);i.set(0,1);break;case"left":a.set(r.x-t,r.y+o/2);i.set(-1,0);break;case"right":a.set(r.x+n+t,r.y+o/2);i.set(1,0);break}}function qg(e,t,r,a,i,n,o,s,l){o-=e;s-=t;var u=Math.sqrt(o*o+s*s);o/=u;s/=u;var c=o*r+e;var v=s*r+t;if(Math.abs(a-i)%Yg<1e-4){l[0]=c;l[1]=v;return u-r}if(n){var f=a;a=He(i);i=He(f)}else{a=He(a);i=He(i)}if(a>i){i+=Yg}var h=Math.atan2(s,o);if(h<0){h+=Yg}if(h>=a&&h<=i||h+Yg>=a&&h+Yg<=i){l[0]=c;l[1]=v;return u-r}var d=r*Math.cos(a)+e;var p=r*Math.sin(a)+t;var g=r*Math.cos(i)+e;var y=r*Math.sin(i)+t;var m=(d-o)*(d-o)+(p-s)*(p-s);var x=(g-o)*(g-o)+(y-s)*(y-s);if(m<x){l[0]=d;l[1]=p;return Math.sqrt(m)}else{l[0]=g;l[1]=y;return Math.sqrt(x)}}function Kg(e,t,r,a,i,n,o,s){var l=i-e;var u=n-t;var c=r-e;var v=a-t;var f=Math.sqrt(c*c+v*v);c/=f;v/=f;var h=l*c+u*v;var d=h/f;if(s){d=Math.min(Math.max(d,0),1)}d*=f;var p=o[0]=e+d*c;var g=o[1]=t+d*v;return Math.sqrt((p-i)*(p-i)+(g-n)*(g-n))}function Jg(e,t,r,a,i,n,o){if(r<0){e=e+r;r=-r}if(a<0){t=t+a;a=-a}var s=e+r;var l=t+a;var u=o[0]=Math.min(Math.max(i,e),s);var c=o[1]=Math.min(Math.max(n,t),l);return Math.sqrt((u-i)*(u-i)+(c-n)*(c-n))}var $g=[];function Qg(e,t,r){var a=Jg(t.x,t.y,t.width,t.height,e.x,e.y,$g);r.set($g[0],$g[1]);return a}function ey(e,t,r){var a=0;var i=0;var n=0;var o=0;var s;var l;var u=Infinity;var c=t.data;var v=e.x;var f=e.y;for(var h=0;h<c.length;){var d=c[h++];if(h===1){a=c[h];i=c[h+1];n=a;o=i}var p=u;switch(d){case Xg.M:n=c[h++];o=c[h++];a=n;i=o;break;case Xg.L:p=Kg(a,i,c[h],c[h+1],v,f,$g,true);a=c[h++];i=c[h++];break;case Xg.C:p=Ye(a,i,c[h++],c[h++],c[h++],c[h++],c[h],c[h+1],v,f,$g);a=c[h++];i=c[h++];break;case Xg.Q:p=Ue(a,i,c[h++],c[h++],c[h],c[h+1],v,f,$g);a=c[h++];i=c[h++];break;case Xg.A:var g=c[h++];var y=c[h++];var m=c[h++];var x=c[h++];var _=c[h++];var b=c[h++];h+=1;var S=!!(1-c[h++]);s=Math.cos(_)*m+g;l=Math.sin(_)*x+y;if(h<=1){n=s;o=l}var w=(v-g)*x/m+g;p=qg(g,y,x,_,_+b,S,w,f,$g);a=Math.cos(_+b)*m+g;i=Math.sin(_+b)*x+y;break;case Xg.R:n=a=c[h++];o=i=c[h++];var M=c[h++];var I=c[h++];p=Jg(n,o,M,I,v,f,$g);break;case Xg.Z:p=Kg(a,i,n,o,v,f,$g,true);a=n;i=o;break}if(p<u){u=p;r.set($g[0],$g[1])}}return u}var ty=new Ie;var ry=new Ie;var ay=new Ie;var iy=new Ie;var ny=new Ie;function oy(e,t){if(!e){return}var r=e.getTextGuideLine();var a=e.getTextContent();if(!(a&&r)){return}var i=e.textGuideLineConfig||{};var n=[[0,0],[0,0],[0,0]];var o=i.candidates||Zg;var s=a.getBoundingRect().clone();s.applyTransform(a.getComputedTransform());var l=Infinity;var u=i.anchor;var c=e.getComputedTransform();var v=c&&ae([],c);var f=t.get("length2")||0;if(u){ay.copy(u)}for(var h=0;h<o.length;h++){var d=o[h];jg(d,0,s,ty,iy);Ie.scaleAndAdd(ry,ty,iy,f);ry.transform(v);var p=e.getBoundingRect();var g=u?u.distance(ry):e instanceof Q?ey(ry,e.path,ay):Qg(ry,p,ay);if(g<l){l=g;ry.transform(c);ay.transform(c);ay.toArray(n[0]);ry.toArray(n[1]);ty.toArray(n[2])}}uy(n,t.get("minTurnAngle"));r.setShape({points:n})}var sy=[];var ly=new Ie;function uy(e,t){if(!(t<=180&&t>0)){return}t=t/180*Math.PI;ty.fromArray(e[0]);ry.fromArray(e[1]);ay.fromArray(e[2]);Ie.sub(iy,ty,ry);Ie.sub(ny,ay,ry);var r=iy.len();var a=ny.len();if(r<.001||a<.001){return}iy.scale(1/r);ny.scale(1/a);var i=iy.dot(ny);var n=Math.cos(t);if(n<i){var o=Kg(ry.x,ry.y,ay.x,ay.y,ty.x,ty.y,sy,false);ly.fromArray(sy);ly.scaleAndAdd(ny,o/Math.tan(Math.PI-t));var s=ay.x!==ry.x?(ly.x-ry.x)/(ay.x-ry.x):(ly.y-ry.y)/(ay.y-ry.y);if(isNaN(s)){return}if(s<0){Ie.copy(ly,ry)}else if(s>1){Ie.copy(ly,ay)}ly.toArray(e[1])}}function cy(e,t,r){if(!(r<=180&&r>0)){return}r=r/180*Math.PI;ty.fromArray(e[0]);ry.fromArray(e[1]);ay.fromArray(e[2]);Ie.sub(iy,ry,ty);Ie.sub(ny,ay,ry);var a=iy.len();var i=ny.len();if(a<.001||i<.001){return}iy.scale(1/a);ny.scale(1/i);var n=iy.dot(t);var o=Math.cos(r);if(n<o){var s=Kg(ry.x,ry.y,ay.x,ay.y,ty.x,ty.y,sy,false);ly.fromArray(sy);var l=Math.PI/2;var u=Math.acos(ny.dot(t));var c=l+u-r;if(c>=l){Ie.copy(ly,ay)}else{ly.scaleAndAdd(ny,s/Math.tan(Math.PI/2-c));var v=ay.x!==ry.x?(ly.x-ry.x)/(ay.x-ry.x):(ly.y-ry.y)/(ay.y-ry.y);if(isNaN(v)){return}if(v<0){Ie.copy(ly,ry)}else if(v>1){Ie.copy(ly,ay)}}ly.toArray(e[1])}}function vy(e,t,r,a){var i=r==="normal";var n=i?e:e.ensureState(r);n.ignore=t;var o=a.get("smooth");if(o&&o===true){o=.3}n.shape=n.shape||{};if(o>0){n.shape.smooth=o}var s=a.getModel("lineStyle").getLineStyle();i?e.useStyle(s):n.style=s}function fy(e,t){var r=t.smooth;var a=t.points;if(!a){return}e.moveTo(a[0][0],a[0][1]);if(r>0&&a.length>=3){var i=ie.dist(a[0],a[1]);var n=ie.dist(a[1],a[2]);if(!i||!n){e.lineTo(a[1][0],a[1][1]);e.lineTo(a[2][0],a[2][1]);return}var o=Math.min(i,n)*r;var s=ie.lerp([],a[1],a[0],o/i);var l=ie.lerp([],a[1],a[2],o/n);var u=ie.lerp([],s,l,.5);e.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]);e.bezierCurveTo(l[0],l[1],l[0],l[1],a[2][0],a[2][1])}else{for(var c=1;c<a.length;c++){e.lineTo(a[c][0],a[c][1])}}}function hy(e,t,r){var a=e.getTextGuideLine();var i=e.getTextContent();if(!i){if(a){e.removeTextGuideLine()}return}var n=t.normal;var o=n.get("show");var s=i.ignore;for(var l=0;l<ra.length;l++){var u=ra[l];var c=t[u];var v=u==="normal";if(c){var f=c.get("show");var h=v?s:y(i.states[u]&&i.states[u].ignore,s);if(h||!y(f,o)){var d=v?a:a&&a.states[u];if(d){d.ignore=true}if(!!a){vy(a,true,u,c)}continue}if(!a){a=new pe;e.setTextGuideLine(a);if(!v&&(s||!o)){vy(a,true,"normal",t.normal)}if(e.stateProxy){a.stateProxy=e.stateProxy}}vy(a,false,u,c)}}if(a){x(a.style,r);a.style.fill=null;var p=n.get("showAbove");var g=e.textGuideLineConfig=e.textGuideLineConfig||{};g.showAbove=p||false;a.buildPath=fy}}function dy(e,t){t=t||"labelLine";var r={normal:e.getModel(t)};for(var a=0;a<ta.length;a++){var i=ta[a];r[i]=e.getModel([i,t])}return r}function py(e){var t=[];for(var r=0;r<e.length;r++){var a=e[r];if(a.defaultAttr.ignore){continue}var i=a.label;var n=i.getComputedTransform();var o=i.getBoundingRect();var s=!n||n[1]<1e-5&&n[2]<1e-5;var l=i.style.margin||0;var u=o.clone();u.applyTransform(n);u.x-=l/2;u.y-=l/2;u.width+=l;u.height+=l;var c=s?new Me(o,n):null;t.push({label:i,labelLine:a.labelLine,rect:u,localRect:o,obb:c,priority:a.priority,defaultAttr:a.defaultAttr,layoutOption:a.computedLayoutOption,axisAligned:s,transform:n})}return t}function gy(e,t,r,a,i,n){var o=e.length;if(o<2){return}e.sort((function(e,r){return e.rect[t]-r.rect[t]}));var s=0;var l;var u=false;var c=0;for(var v=0;v<o;v++){var f=e[v];var h=f.rect;l=h[t]-s;if(l<0){h[t]-=l;f.label[t]-=l;u=true}var d=Math.max(-l,0);c+=d;s=h[t]+h[r]}if(c>0&&n){b(-c/o,0,o)}var p=e[0];var g=e[o-1];var y;var m;x();y<0&&S(-y,.8);m<0&&S(m,.8);x();_(y,m,1);_(m,y,-1);x();if(y<0){w(-y)}if(m<0){w(m)}function x(){y=p.rect[t]-a;m=i-g.rect[t]-g.rect[r]}function _(e,t,r){if(e<0){var a=Math.min(t,-e);if(a>0){b(a*r,0,o);var i=a+e;if(i<0){S(-i*r,1)}}else{S(-e*r,1)}}}function b(r,a,i){if(r!==0){u=true}for(var n=a;n<i;n++){var o=e[n];var s=o.rect;s[t]+=r;o.label[t]+=r}}function S(a,i){var n=[];var s=0;for(var l=1;l<o;l++){var u=e[l-1].rect;var c=Math.max(e[l].rect[t]-u[t]-u[r],0);n.push(c);s+=c}if(!s){return}var v=Math.min(Math.abs(a)/s,i);if(a>0){for(var l=0;l<o-1;l++){var f=n[l]*v;b(f,0,l+1)}}else{for(var l=o-1;l>0;l--){var f=n[l-1]*v;b(-f,l,o)}}}function w(e){var t=e<0?-1:1;e=Math.abs(e);var r=Math.ceil(e/(o-1));for(var a=0;a<o-1;a++){if(t>0){b(r,0,a+1)}else{b(-r,o-a-1,o)}e-=r;if(e<=0){return}}}return u}function yy(e,t,r,a){return gy(e,"x","width",t,r,a)}function my(e,t,r,a){return gy(e,"y","height",t,r,a)}function xy(e){var t=[];e.sort((function(e,t){return t.priority-e.priority}));var r=new we(0,0,0,0);function a(e){if(!e.ignore){var t=e.ensureState("emphasis");if(t.ignore==null){t.ignore=false}}e.ignore=true}for(var i=0;i<e.length;i++){var n=e[i];var o=n.axisAligned;var s=n.localRect;var l=n.transform;var u=n.label;var c=n.labelLine;r.copy(n.rect);r.width-=.1;r.height-=.1;r.x+=.05;r.y+=.05;var v=n.obb;var f=false;for(var h=0;h<t.length;h++){var d=t[h];if(!r.intersect(d.rect)){continue}if(o&&d.axisAligned){f=true;break}if(!d.obb){d.obb=new Me(d.localRect,d.transform)}if(!v){v=new Me(s,l)}if(v.intersect(d.obb)){f=true;break}}if(f){a(u);c&&a(c)}else{u.attr("ignore",n.defaultAttr.ignore);c&&c.attr("ignore",n.defaultAttr.labelGuideIgnore);t.push(n)}}}function _y(e){if(e){var t=[];for(var r=0;r<e.length;r++){t.push(e[r].slice())}return t}}function by(e,t){var r=e.label;var a=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:_y(a&&a.shape.points)}}var Sy=["align","verticalAlign","width","height","fontSize"];var wy=new oe;var My=gr();var Iy=gr();function Dy(e,t,r){for(var a=0;a<r.length;a++){var i=r[a];if(t[i]!=null){e[i]=t[i]}}}var Ty=["x","y","rotation"];var Cy=function(){function e(){this._labelList=[];this._chartViewList=[]}e.prototype.clearLabels=function(){this._labelList=[];this._chartViewList=[]};e.prototype._addLabel=function(e,t,r,a,i){var n=a.style;var o=a.__hostTarget;var s=o.textConfig||{};var l=a.getComputedTransform();var u=a.getBoundingRect().plain();we.applyTransform(u,u,l);if(l){wy.setLocalTransform(l)}else{wy.x=wy.y=wy.rotation=wy.originX=wy.originY=0;wy.scaleX=wy.scaleY=1}wy.rotation=He(wy.rotation);var c=a.__hostTarget;var v;if(c){v=c.getBoundingRect().plain();var f=c.getComputedTransform();we.applyTransform(v,v,f)}var h=v&&c.getTextGuideLine();this._labelList.push({label:a,labelLine:h,seriesModel:r,dataIndex:e,dataType:t,layoutOption:i,computedLayoutOption:null,rect:u,hostRect:v,priority:v?v.width*v.height:0,defaultAttr:{ignore:a.ignore,labelGuideIgnore:h&&h.ignore,x:wy.x,y:wy.y,scaleX:wy.scaleX,scaleY:wy.scaleY,rotation:wy.rotation,style:{x:n.x,y:n.y,align:n.align,verticalAlign:n.verticalAlign,width:n.width,height:n.height,fontSize:n.fontSize},cursor:a.cursor,attachedPos:s.position,attachedRot:s.rotation}})};e.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var r=e.__model;var a=r.get("labelLayout");if(!(m(a)||g(a).length)){return}e.group.traverse((function(e){if(e.ignore){return true}var i=e.getTextContent();var n=Xr(e);if(i&&!i.disableLabelLayout){t._addLabel(n.dataIndex,n.dataType,r,i,a)}}))};e.prototype.updateLayoutConfig=function(e){var t=e.getWidth();var r=e.getHeight();function a(e,t){return function(){oy(e,t)}}for(var i=0;i<this._labelList.length;i++){var n=this._labelList[i];var o=n.label;var s=o.__hostTarget;var l=n.defaultAttr;var u=void 0;if(m(n.layoutOption)){u=n.layoutOption(by(n,s))}else{u=n.layoutOption}u=u||{};n.computedLayoutOption=u;var c=Math.PI/180;if(s){s.setTextConfig({local:false,position:u.x!=null||u.y!=null?null:l.attachedPos,rotation:u.rotate!=null?u.rotate*c:l.attachedRot,offset:[u.dx||0,u.dy||0]})}var v=false;if(u.x!=null){o.x=pt(u.x,t);o.setStyle("x",0);v=true}else{o.x=l.x;o.setStyle("x",l.style.x)}if(u.y!=null){o.y=pt(u.y,r);o.setStyle("y",0);v=true}else{o.y=l.y;o.setStyle("y",l.style.y)}if(u.labelLinePoints){var f=s.getTextGuideLine();if(f){f.setShape({points:u.labelLinePoints});v=false}}var h=My(o);h.needsUpdateLabelLine=v;o.rotation=u.rotate!=null?u.rotate*c:l.rotation;o.scaleX=l.scaleX;o.scaleY=l.scaleY;for(var d=0;d<Sy.length;d++){var p=Sy[d];o.setStyle(p,u[p]!=null?u[p]:l.style[p])}if(u.draggable){o.draggable=true;o.cursor="move";if(s){var g=n.seriesModel;if(n.dataIndex!=null){var y=n.seriesModel.getData(n.dataType);g=y.getItemModel(n.dataIndex)}o.on("drag",a(s,g.getModel("labelLine")))}}else{o.off("drag");o.cursor=l.cursor}}};e.prototype.layout=function(e){var t=e.getWidth();var r=e.getHeight();var a=py(this._labelList);var i=D(a,(function(e){return e.layoutOption.moveOverlap==="shiftX"}));var n=D(a,(function(e){return e.layoutOption.moveOverlap==="shiftY"}));yy(i,0,t);my(n,0,r);var o=D(a,(function(e){return e.layoutOption.hideOverlap}));xy(o)};e.prototype.processLabelsOverall=function(){var e=this;s(this._chartViewList,(function(t){var r=t.__model;var a=t.ignoreLabelLineUpdate;var i=r.isAnimationEnabled();t.group.traverse((function(t){if(t.ignore&&!t.forceLabelAnimation){return true}var n=!a;var o=t.getTextContent();if(!n&&o){n=My(o).needsUpdateLabelLine}if(n){e._updateLabelLine(t,r)}if(i){e._animateLabels(t,r)}}))}))};e.prototype._updateLabelLine=function(e,t){var r=e.getTextContent();var a=Xr(e);var i=a.dataIndex;if(r&&i!=null){var n=t.getData(a.dataType);var o=n.getItemModel(i);var s={};var l=n.getItemVisual(i,"style");if(l){var u=n.getVisual("drawType");s.stroke=l[u]}var c=o.getModel("labelLine");hy(e,dy(o),s);oy(e,c)}};e.prototype._animateLabels=function(e,t){var r=e.getTextContent();var a=e.getTextGuideLine();if(r&&(e.forceLabelAnimation||!r.ignore&&!r.invisible&&!e.disableLabelAnimation&&!vi(e))){var i=My(r);var n=i.oldLayout;var o=Xr(e);var s=o.dataIndex;var l={x:r.x,y:r.y,rotation:r.rotation};var u=t.getData(o.dataType);if(!n){r.attr(l);if(!vn(r).valueAnimation){var c=y(r.style.opacity,1);r.style.opacity=0;ci(r,{style:{opacity:c}},t,s)}}else{r.attr(n);var v=e.prevStates;if(v){if(h(v,"select")>=0){r.attr(i.oldLayoutSelect)}if(h(v,"emphasis")>=0){r.attr(i.oldLayoutEmphasis)}}ui(r,l,t,s)}i.oldLayout=l;if(r.states.select){var f=i.oldLayoutSelect={};Dy(f,l,Ty);Dy(f,r.states.select,Ty)}if(r.states.emphasis){var d=i.oldLayoutEmphasis={};Dy(d,l,Ty);Dy(d,r.states.emphasis,Ty)}hn(r,s,u,t,t)}if(a&&!a.ignore&&!a.invisible){var i=Iy(a);var n=i.oldLayout;var p={points:a.shape.points};if(!n){a.setShape(p);a.style.strokePercent=0;ci(a,{style:{strokePercent:1}},t)}else{a.attr({shape:n});ui(a,{shape:p},t)}i.oldLayout=p}};return e}();var Ay=gr();function Ly(e){e.registerUpdateLifecycle("series:beforeupdate",(function(e,t,r){var a=Ay(t).labelManager;if(!a){a=Ay(t).labelManager=new Cy}a.clearLabels()}));e.registerUpdateLifecycle("series:layoutlabels",(function(e,t,r){var a=Ay(t).labelManager;r.updatedSeries.forEach((function(e){a.addLabelsOfSeries(t.getViewOfSeriesModel(e))}));a.updateLayoutConfig(t);a.layout(t);a.processLabelsOverall()}))}Eh(Ly);function ky(e){e.registerPainter("svg",je)}function Py(e){e.registerPainter("canvas",qe)}var Ny=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.hasSymbolVisual=true;return e}r.prototype.getInitialData=function(e){return Ad(null,this,{useEncodeDefaulter:true})};r.prototype.getLegendIcon=function(e){var t=new ue;var r=Pv("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,false);t.add(r);r.setStyle(e.lineStyle);var a=this.getData().getVisual("symbol");var i=this.getData().getVisual("symbolRotate");var n=a==="none"?"circle":a;var o=e.itemHeight*.8;var s=Pv(n,(e.itemWidth-o)/2,(e.itemHeight-o)/2,o,o,e.itemStyle.fill);t.add(s);s.setStyle(e.itemStyle);var l=e.iconRotate==="inherit"?i:e.iconRotate||0;s.rotation=l*Math.PI/180;s.setOrigin([e.itemWidth/2,e.itemHeight/2]);if(n.indexOf("empty")>-1){s.style.stroke=s.style.fill;s.style.fill="#fff";s.style.lineWidth=2}return t};r.type="series.line";r.dependencies=["grid","polar"];r.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:true,clip:true,label:{position:"top"},endLabel:{show:false,valueAnimation:true,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:true},step:false,smooth:false,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:true,showAllSymbol:"auto",connectNulls:false,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:Infinity,universalTransition:{divideShape:"clone"},triggerLineEvent:false};return r}(sc);function Oy(e,t){var r=e.mapDimensionsAll("defaultedLabel");var a=r.length;if(a===1){var i=jl(e,t,r[0]);return i!=null?i+"":null}else if(a){var n=[];for(var o=0;o<r.length;o++){n.push(jl(e,t,r[o]))}return n.join(" ")}}function Ry(e,t){var r=e.mapDimensionsAll("defaultedLabel");if(!n(t)){return t+""}var a=[];for(var i=0;i<r.length;i++){var o=e.getDimensionIndex(r[i]);if(o>=0){a.push(t[o])}}return a.join(" ")}var Ey=function(t){e(r,t);function r(e,r,a,i){var n=t.call(this)||this;n.updateData(e,r,a,i);return n}r.prototype._createSymbol=function(e,t,r,a,i){this.removeAll();var n=Pv(e,-1,-1,2,2,null,i);n.attr({z2:100,culling:true,scaleX:a[0]/2,scaleY:a[1]/2});n.drift=zy;this._symbolType=e;this.add(n)};r.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)};r.prototype.getSymbolType=function(){return this._symbolType};r.prototype.getSymbolPath=function(){return this.childAt(0)};r.prototype.highlight=function(){Aa(this.childAt(0))};r.prototype.downplay=function(){La(this.childAt(0))};r.prototype.setZ=function(e,t){var r=this.childAt(0);r.zlevel=e;r.z=t};r.prototype.setDraggable=function(e,t){var r=this.childAt(0);r.draggable=e;r.cursor=!t&&e?"move":r.cursor};r.prototype.updateData=function(e,t,a,i){this.silent=false;var n=e.getItemVisual(t,"symbol")||"circle";var o=e.hostModel;var s=r.getSymbolSize(e,t);var l=n!==this._symbolType;var u=i&&i.disableAnimation;if(l){var c=e.getItemVisual(t,"symbolKeepAspect");this._createSymbol(n,e,t,s,c)}else{var v=this.childAt(0);v.silent=false;var f={scaleX:s[0]/2,scaleY:s[1]/2};u?v.attr(f):ui(v,f,o,t);pi(v)}this._updateCommon(e,t,s,a,i);if(l){var v=this.childAt(0);if(!u){var f={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:v.style.opacity}};v.scaleX=v.scaleY=0;v.style.opacity=0;ci(v,f,o,t)}}if(u){this.childAt(0).stopAnimation("leave")}};r.prototype._updateCommon=function(e,t,r,a,i){var n=this.childAt(0);var o=e.hostModel;var s;var l;var u;var c;var v;var f;var h;var p;var g;if(a){s=a.emphasisItemStyle;l=a.blurItemStyle;u=a.selectItemStyle;c=a.focus;v=a.blurScope;h=a.labelStatesModels;p=a.hoverScale;g=a.cursorStyle;f=a.emphasisDisabled}if(!a||e.hasItemOption){var y=a&&a.itemModel?a.itemModel:e.getItemModel(t);var m=y.getModel("emphasis");s=m.getModel("itemStyle").getItemStyle();u=y.getModel(["select","itemStyle"]).getItemStyle();l=y.getModel(["blur","itemStyle"]).getItemStyle();c=m.get("focus");v=m.get("blurScope");f=m.get("disabled");h=en(y);p=m.getShallow("scale");g=y.getShallow("cursor")}var x=e.getItemVisual(t,"symbolRotate");n.attr("rotation",(x||0)*Math.PI/180||0);var _=Ov(e.getItemVisual(t,"symbolOffset"),r);if(_){n.x=_[0];n.y=_[1]}g&&n.attr("cursor",g);var b=e.getItemVisual(t,"style");var S=b.fill;if(n instanceof le){var w=n.style;n.useStyle(d({image:w.image,x:w.x,y:w.y,width:w.width,height:w.height},b))}else{if(n.__isEmptyBrush){n.useStyle(d({},b))}else{n.useStyle(b)}n.style.decal=null;n.setColor(S,i&&i.symbolInnerColor);n.style.strokeNoScale=true}var M=e.getItemVisual(t,"liftZ");var I=this._z2;if(M!=null){if(I==null){this._z2=n.z2;n.z2+=M}}else if(I!=null){n.z2=I;this._z2=null}var D=i&&i.useNameLabel;Qi(n,h,{labelFetcher:o,labelDataIndex:t,defaultText:T,inheritColor:S,defaultOpacity:b.opacity});function T(t){return D?e.getName(t):Oy(e,t)}this._sizeX=r[0]/2;this._sizeY=r[1]/2;var C=n.ensureState("emphasis");C.style=s;n.ensureState("select").style=u;n.ensureState("blur").style=l;var A=p==null||p===true?Math.max(1.1,3/this._sizeY):isFinite(p)&&p>0?+p:1;C.scaleX=this._sizeX*A;C.scaleY=this._sizeY*A;this.setSymbolScale(1);ja(this,c,v,f)};r.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e};r.prototype.fadeOut=function(e,t,r){var a=this.childAt(0);var i=Xr(this).dataIndex;var n=r&&r.animation;this.silent=a.silent=true;if(r&&r.fadeLabel){var o=a.getTextContent();if(o){fi(o,{style:{opacity:0}},t,{dataIndex:i,removeOpt:n,cb:function(){a.removeTextContent()}})}}else{a.removeTextContent()}fi(a,{style:{opacity:0},scaleX:0,scaleY:0},t,{dataIndex:i,cb:e,removeOpt:n})};r.getSymbolSize=function(e,t){return Nv(e.getItemVisual(t,"symbolSize"))};return r}(ue);function zy(e,t){this.parent.drift(e,t)}function Vy(e,t,r,a){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(a.isIgnore&&a.isIgnore(r))&&!(a.clipShape&&!a.clipShape.contain(t[0],t[1]))&&e.getItemVisual(r,"symbol")!=="none"}function By(e){if(e!=null&&!i(e)){e={isIgnore:e}}return e||{}}function Gy(e){var t=e.hostModel;var r=t.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:en(t),cursorStyle:t.get("cursor")}}var Fy=function(){function e(e){this.group=new ue;this._SymbolCtor=e||Ey}e.prototype.updateData=function(e,t){this._progressiveEls=null;t=By(t);var r=this.group;var a=e.hostModel;var i=this._data;var n=this._SymbolCtor;var o=t.disableAnimation;var s=Gy(e);var l={disableAnimation:o};var u=t.getSymbolPoint||function(t){return e.getItemLayout(t)};if(!i){r.removeAll()}e.diff(i).add((function(a){var i=u(a);if(Vy(e,i,a,t)){var o=new n(e,a,s,l);o.setPosition(i);e.setItemGraphicEl(a,o);r.add(o)}})).update((function(c,v){var f=i.getItemGraphicEl(v);var h=u(c);if(!Vy(e,h,c,t)){r.remove(f);return}var d=e.getItemVisual(c,"symbol")||"circle";var p=f&&f.getSymbolType&&f.getSymbolType();if(!f||p&&p!==d){r.remove(f);f=new n(e,c,s,l);f.setPosition(h)}else{f.updateData(e,c,s,l);var g={x:h[0],y:h[1]};o?f.attr(g):ui(f,g,a)}r.add(f);e.setItemGraphicEl(c,f)})).remove((function(e){var t=i.getItemGraphicEl(e);t&&t.fadeOut((function(){r.remove(t)}),a)})).execute();this._getSymbolPoint=u;this._data=e};e.prototype.updateLayout=function(){var e=this;var t=this._data;if(t){t.eachItemGraphicEl((function(t,r){var a=e._getSymbolPoint(r);t.setPosition(a);t.markRedraw()}))}};e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=Gy(e);this._data=null;this.group.removeAll()};e.prototype.incrementalUpdate=function(e,t,r){this._progressiveEls=[];r=By(r);function a(e){if(!e.isGroup){e.incremental=true;e.ensureState("emphasis").hoverLayer=true}}for(var i=e.start;i<e.end;i++){var n=t.getItemLayout(i);if(Vy(t,n,i,r)){var o=new this._SymbolCtor(t,i,this._seriesScope);o.traverse(a);o.setPosition(n);this.group.add(o);t.setItemGraphicEl(i,o);this._progressiveEls.push(o)}}};e.prototype.eachRendered=function(e){ji(this._progressiveEls||this.group,e)};e.prototype.remove=function(e){var t=this.group;var r=this._data;if(r&&e){r.eachItemGraphicEl((function(e){e.fadeOut((function(){t.remove(e)}),r.hostModel)}))}else{t.removeAll()}};return e}();function Hy(e,t,r){var a=e.getBaseAxis();var i=e.getOtherAxis(a);var n=Wy(i,r);var o=a.dim;var s=i.dim;var l=t.mapDimension(s);var u=t.mapDimension(o);var c=s==="x"||s==="radius"?1:0;var v=f(e.dimensions,(function(e){return t.mapDimension(e)}));var h=false;var d=t.getCalculationInfo("stackResultDimension");if(Id(t,v[0])){h=true;v[0]=d}if(Id(t,v[1])){h=true;v[1]=d}return{dataDimsForPoint:v,valueStart:n,valueAxisDim:s,baseAxisDim:o,stacked:!!h,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function Wy(e,t){var r=0;var a=e.scale.getExtent();if(t==="start"){r=a[0]}else if(t==="end"){r=a[1]}else if(c(t)&&!isNaN(t)){r=t}else{if(a[0]>0){r=a[0]}else if(a[1]<0){r=a[1]}}return r}function Uy(e,t,r,a){var i=NaN;if(e.stacked){i=r.get(r.getCalculationInfo("stackedOverDimension"),a)}if(isNaN(i)){i=e.valueStart}var n=e.baseDataOffset;var o=[];o[n]=r.get(e.baseDim,a);o[1-n]=i;return t.dataToPoint(o)}function Yy(e,t){var r=[];t.diff(e).add((function(e){r.push({cmd:"+",idx:e})})).update((function(e,t){r.push({cmd:"=",idx:t,idx1:e})})).remove((function(e){r.push({cmd:"-",idx:e})})).execute();return r}function Xy(e,t,r,a,i,n,o,s){var l=Yy(e,t);var u=[];var c=[];var v=[];var f=[];var h=[];var d=[];var p=[];var g=Hy(i,t,o);var y=e.getLayout("points")||[];var m=t.getLayout("points")||[];for(var x=0;x<l.length;x++){var _=l[x];var b=true;var S=void 0;var w=void 0;switch(_.cmd){case"=":S=_.idx*2;w=_.idx1*2;var M=y[S];var I=y[S+1];var D=m[w];var T=m[w+1];if(isNaN(M)||isNaN(I)){M=D;I=T}u.push(M,I);c.push(D,T);v.push(r[S],r[S+1]);f.push(a[w],a[w+1]);p.push(t.getRawIndex(_.idx1));break;case"+":var C=_.idx;var A=g.dataDimsForPoint;var L=i.dataToPoint([t.get(A[0],C),t.get(A[1],C)]);w=C*2;u.push(L[0],L[1]);c.push(m[w],m[w+1]);var k=Uy(g,i,t,C);v.push(k[0],k[1]);f.push(a[w],a[w+1]);p.push(t.getRawIndex(C));break;case"-":b=false}if(b){h.push(_);d.push(d.length)}}d.sort((function(e,t){return p[e]-p[t]}));var P=u.length;var N=Kd(P);var O=Kd(P);var R=Kd(P);var E=Kd(P);var z=[];for(var x=0;x<d.length;x++){var V=d[x];var B=x*2;var G=V*2;N[B]=u[G];N[B+1]=u[G+1];O[B]=c[G];O[B+1]=c[G+1];R[B]=v[G];R[B+1]=v[G+1];E[B]=f[G];E[B+1]=f[G+1];z[x]=h[V]}return{current:N,next:O,stackedOnCurrent:R,stackedOnNext:E,status:z}}var Zy=Math.min;var jy=Math.max;function qy(e,t){return isNaN(e)||isNaN(t)}function Ky(e,t,r,a,i,n,o,s,l){var u;var c;var v;var f;var h;var d;var p=r;var g=0;for(;g<a;g++){var y=t[p*2];var m=t[p*2+1];if(p>=i||p<0){break}if(qy(y,m)){if(l){p+=n;continue}break}if(p===r){e[n>0?"moveTo":"lineTo"](y,m);v=y;f=m}else{var x=y-u;var _=m-c;if(x*x+_*_<.5){p+=n;continue}if(o>0){var b=p+n;var S=t[b*2];var w=t[b*2+1];while(S===y&&w===m&&g<a){g++;b+=n;p+=n;S=t[b*2];w=t[b*2+1];y=t[p*2];m=t[p*2+1];x=y-u;_=m-c}var M=g+1;if(l){while(qy(S,w)&&M<a){M++;b+=n;S=t[b*2];w=t[b*2+1]}}var I=.5;var D=0;var T=0;var C=void 0;var A=void 0;if(M>=a||qy(S,w)){h=y;d=m}else{D=S-u;T=w-c;var L=y-u;var k=S-y;var P=m-c;var N=w-m;var O=void 0;var R=void 0;if(s==="x"){O=Math.abs(L);R=Math.abs(k);var E=D>0?1:-1;h=y-E*O*o;d=m;C=y+E*R*o;A=m}else if(s==="y"){O=Math.abs(P);R=Math.abs(N);var z=T>0?1:-1;h=y;d=m-z*O*o;C=y;A=m+z*R*o}else{O=Math.sqrt(L*L+P*P);R=Math.sqrt(k*k+N*N);I=R/(R+O);h=y-D*o*(1-I);d=m-T*o*(1-I);C=y+D*o*I;A=m+T*o*I;C=Zy(C,jy(S,y));A=Zy(A,jy(w,m));C=jy(C,Zy(S,y));A=jy(A,Zy(w,m));D=C-y;T=A-m;h=y-D*O/R;d=m-T*O/R;h=Zy(h,jy(u,y));d=Zy(d,jy(c,m));h=jy(h,Zy(u,y));d=jy(d,Zy(c,m));D=y-h;T=m-d;C=y+D*R/O;A=m+T*R/O}}e.bezierCurveTo(v,f,h,d,y,m);v=C;f=A}else{e.lineTo(y,m)}}u=y;c=m;p+=n}return g}var Jy=function(){function e(){this.smooth=0;this.smoothConstraint=true}return e}();var $y=function(t){e(r,t);function r(e){var r=t.call(this,e)||this;r.type="ec-polyline";return r}r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};r.prototype.getDefaultShape=function(){return new Jy};r.prototype.buildPath=function(e,t){var r=t.points;var a=0;var i=r.length/2;if(t.connectNulls){for(;i>0;i--){if(!qy(r[i*2-2],r[i*2-1])){break}}for(;a<i;a++){if(!qy(r[a*2],r[a*2+1])){break}}}while(a<i){a+=Ky(e,r,a,i,i,1,t.smooth,t.smoothMonotone,t.connectNulls)+1}};r.prototype.getPointOn=function(e,t){if(!this.path){this.createPathProxy();this.buildPath(this.path,this.shape)}var r=this.path;var a=r.data;var i=Ge.CMD;var n;var o;var s=t==="x";var l=[];for(var u=0;u<a.length;){var c=a[u++];var v=void 0;var f=void 0;var h=void 0;var d=void 0;var p=void 0;var g=void 0;var y=void 0;switch(c){case i.M:n=a[u++];o=a[u++];break;case i.L:v=a[u++];f=a[u++];y=s?(e-n)/(v-n):(e-o)/(f-o);if(y<=1&&y>=0){var m=s?(f-o)*y+o:(v-n)*y+n;return s?[e,m]:[m,e]}n=v;o=f;break;case i.C:v=a[u++];f=a[u++];h=a[u++];d=a[u++];p=a[u++];g=a[u++];var x=s?Xe(n,v,h,p,e,l):Xe(o,f,d,g,e,l);if(x>0){for(var _=0;_<x;_++){var b=l[_];if(b<=1&&b>=0){var m=s?Ze(o,f,d,g,b):Ze(n,v,h,p,b);return s?[e,m]:[m,e]}}}n=p;o=g;break}}};return r}(Q);var Qy=function(t){e(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r}(Jy);var em=function(t){e(r,t);function r(e){var r=t.call(this,e)||this;r.type="ec-polygon";return r}r.prototype.getDefaultShape=function(){return new Qy};r.prototype.buildPath=function(e,t){var r=t.points;var a=t.stackedOnPoints;var i=0;var n=r.length/2;var o=t.smoothMonotone;if(t.connectNulls){for(;n>0;n--){if(!qy(r[n*2-2],r[n*2-1])){break}}for(;i<n;i++){if(!qy(r[i*2],r[i*2+1])){break}}}while(i<n){var s=Ky(e,r,i,n,n,1,t.smooth,o,t.connectNulls);Ky(e,a,i+s-1,s,n,-1,t.stackedOnSmooth,o,t.connectNulls);i+=s+1;e.closePath()}};return r}(Q);function tm(e,t,r,a,i){var n=e.getArea();var o=n.x;var s=n.y;var l=n.width;var u=n.height;var c=r.get(["lineStyle","width"])||2;o-=c/2;s-=c/2;l+=c;u+=c;l=Math.ceil(l);if(o!==Math.floor(o)){o=Math.floor(o);l++}var v=new ge({shape:{x:o,y:s,width:l,height:u}});if(t){var f=e.getBaseAxis();var h=f.isHorizontal();var d=f.inverse;if(h){if(d){v.shape.x+=l}v.shape.width=0}else{if(!d){v.shape.y+=u}v.shape.height=0}var p=m(i)?function(e){i(e,v)}:null;ci(v,{shape:{width:l,height:u,x:o,y:s}},r,null,a,p)}return v}function rm(e,t,r){var a=e.getArea();var i=gt(a.r0,1);var n=gt(a.r,1);var o=new fe({shape:{cx:gt(e.cx,1),cy:gt(e.cy,1),r0:i,r:n,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});if(t){var s=e.getBaseAxis().dim==="angle";if(s){o.shape.endAngle=a.startAngle}else{o.shape.r=i}ci(o,{shape:{endAngle:a.endAngle,r:n}},r)}return o}function am(e,t,r,a,i){if(!e){return null}else if(e.type==="polar"){return rm(e,t,r)}else if(e.type==="cartesian2d"){return tm(e,t,r,a,i)}return null}function im(e,t){return e.type===t}function nm(e,t){if(e.length!==t.length){return}for(var r=0;r<e.length;r++){if(e[r]!==t[r]){return}}return true}function om(e){var t=Infinity;var r=Infinity;var a=-Infinity;var i=-Infinity;for(var n=0;n<e.length;){var o=e[n++];var s=e[n++];if(!isNaN(o)){t=Math.min(o,t);a=Math.max(o,a)}if(!isNaN(s)){r=Math.min(s,r);i=Math.max(s,i)}}return[[t,r],[a,i]]}function sm(e,t){var r=om(e),a=r[0],i=r[1];var n=om(t),o=n[0],s=n[1];return Math.max(Math.abs(a[0]-o[0]),Math.abs(a[1]-o[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function lm(e){return a.isNumber(e)?e:e?.5:0}function um(e,t,r){if(!r.valueDim){return[]}var a=t.count();var i=Kd(a*2);for(var n=0;n<a;n++){var o=Uy(r,e,t,n);i[n*2]=o[0];i[n*2+1]=o[1]}return i}function cm(e,t,r,a){var i=t.getBaseAxis();var n=i.dim==="x"||i.dim==="radius"?0:1;var o=[];var s=0;var l=[];var u=[];var c=[];var v=[];if(a){for(s=0;s<e.length;s+=2){if(!isNaN(e[s])&&!isNaN(e[s+1])){v.push(e[s],e[s+1])}}e=v}for(s=0;s<e.length-2;s+=2){c[0]=e[s+2];c[1]=e[s+3];u[0]=e[s];u[1]=e[s+1];o.push(u[0],u[1]);switch(r){case"end":l[n]=c[n];l[1-n]=u[1-n];o.push(l[0],l[1]);break;case"middle":var f=(u[n]+c[n])/2;var h=[];l[n]=h[n]=f;l[1-n]=u[1-n];h[1-n]=c[1-n];o.push(l[0],l[1]);o.push(h[0],h[1]);break;default:l[n]=u[n];l[1-n]=c[1-n];o.push(l[0],l[1])}}o.push(e[s++],e[s++]);return o}function vm(e,t){var r=[];var a=e.length;var i;var n;function o(e,t,r){var a=e.coord;var i=(r-a)/(t.coord-a);var n=Z(i,[e.color,t.color]);return{coord:r,color:n}}for(var s=0;s<a;s++){var l=e[s];var u=l.coord;if(u<0){i=l}else if(u>t){if(n){r.push(o(n,l,t))}else if(i){r.push(o(i,l,0),o(i,l,t))}break}else{if(i){r.push(o(i,l,0));i=null}r.push(l);n=l}}return r}function fm(e,t,r){var i=e.getVisual("visualMeta");if(!i||!i.length||!e.count()){return}if(t.type!=="cartesian2d"){return}var n;var o;for(var s=i.length-1;s>=0;s--){var l=e.getDimensionInfo(i[s].dimension);n=l&&l.coordDim;if(n==="x"||n==="y"){o=i[s];break}}if(!o){return}var u=t.getAxis(n);var c=a.map(o.stops,(function(e){return{coord:u.toGlobalCoord(u.dataToCoord(e.value)),color:e.color}}));var v=c.length;var f=o.outerColors.slice();if(v&&c[0].coord>c[v-1].coord){c.reverse();f.reverse()}var h=vm(c,n==="x"?r.getWidth():r.getHeight());var d=h.length;if(!d&&v){return c[0].coord<0?f[1]?f[1]:c[v-1].color:f[0]?f[0]:c[0].color}var p=10;var g=h[0].coord-p;var y=h[d-1].coord+p;var m=y-g;if(m<.001){return"transparent"}a.each(h,(function(e){e.offset=(e.coord-g)/m}));h.push({offset:d?h[d-1].offset:.5,color:f[1]||"transparent"});h.unshift({offset:d?h[0].offset:.5,color:f[0]||"transparent"});var x=new be(0,0,0,0,h,true);x[n]=g;x[n+"2"]=y;return x}function hm(e,t,r){var i=e.get("showAllSymbol");var n=i==="auto";if(i&&!n){return}var o=r.getAxesByScale("ordinal")[0];if(!o){return}if(n&&dm(o,t)){return}var s=t.mapDimension(o.dim);var l={};a.each(o.getViewLabels(),(function(e){var t=o.scale.getRawOrdinalNumber(e.tickValue);l[t]=1}));return function(e){return!l.hasOwnProperty(t.get(s,e))}}function dm(e,t){var r=e.getExtent();var a=Math.abs(r[1]-r[0])/e.scale.count();isNaN(a)&&(a=0);var i=t.count();var n=Math.max(1,Math.round(i/5));for(var o=0;o<i;o+=n){if(Ey.getSymbolSize(t,o)[e.isHorizontal()?1:0]*1.5>a){return false}}return true}function pm(e,t){return isNaN(e)||isNaN(t)}function gm(e){var t=e.length/2;for(;t>0;t--){if(!pm(e[t*2-2],e[t*2-1])){break}}return t-1}function ym(e,t){return[e[t*2],e[t*2+1]]}function mm(e,t,r){var a=e.length/2;var i=r==="x"?0:1;var n;var o;var s=0;var l=-1;for(var u=0;u<a;u++){o=e[u*2+i];if(isNaN(o)||isNaN(e[u*2+1-i])){continue}if(u===0){n=o;continue}if(n<=t&&o>=t||n>=t&&o<=t){l=u;break}s=u;n=o}return{range:[s,l],t:(t-n)/(o-n)}}function xm(e){if(e.get(["endLabel","show"])){return true}for(var t=0;t<ta.length;t++){if(e.get([ta[t],"endLabel","show"])){return true}}return false}function _m(e,t,r,a){if(im(t,"cartesian2d")){var i=a.getModel("endLabel");var n=i.get("valueAnimation");var o=a.getData();var s={lastFrameIndex:0};var l=xm(a)?function(r,a){e._endLabelOnDuring(r,a,o,s,n,i,t)}:null;var u=t.getBaseAxis().isHorizontal();var c=tm(t,r,a,(function(){var t=e._endLabel;if(t&&r){if(s.originalX!=null){t.attr({x:s.originalX,y:s.originalY})}}}),l);if(!a.get("clip",true)){var v=c.shape;var f=Math.max(v.width,v.height);if(u){v.y-=f;v.height+=f*2}else{v.x-=f;v.width+=f*2}}if(l){l(1,c)}return c}else{return rm(t,r,a)}}function bm(e,t){var r=t.getBaseAxis();var a=r.isHorizontal();var i=r.inverse;var n=a?i?"right":"left":"center";var o=a?"middle":i?"top":"bottom";return{normal:{align:e.get("align")||n,verticalAlign:e.get("verticalAlign")||o}}}var Sm=function(t){e(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}r.prototype.init=function(){var e=new ue;var t=new Fy;this.group.add(t.group);this._symbolDraw=t;this._lineGroup=e};r.prototype.render=function(e,t,r){var i=this;var n=e.coordinateSystem;var o=this.group;var s=e.getData();var l=e.getModel("lineStyle");var u=e.getModel("areaStyle");var c=s.getLayout("points")||[];var v=n.type==="polar";var f=this._coordSys;var h=this._symbolDraw;var d=this._polyline;var p=this._polygon;var g=this._lineGroup;var y=!t.ssr&&e.get("animation");var m=!u.isEmpty();var x=u.get("origin");var _=Hy(n,s,x);var b=m&&um(n,s,_);var S=e.get("showSymbol");var w=e.get("connectNulls");var M=S&&!v&&hm(e,s,n);var I=this._data;I&&I.eachItemGraphicEl((function(e,t){if(e.__temp){o.remove(e);I.setItemGraphicEl(t,null)}}));if(!S){h.remove()}o.add(g);var D=!v?e.get("step"):false;var T;if(n&&n.getArea&&e.get("clip",true)){T=n.getArea();if(T.width!=null){T.x-=.1;T.y-=.1;T.width+=.2;T.height+=.2}else if(T.r0){T.r0-=.5;T.r+=.5}}this._clipShapeForSymbol=T;var C=fm(s,n,r)||s.getVisual("style")[s.getVisual("drawType")];if(!(d&&f.type===n.type&&D===this._step)){S&&h.updateData(s,{isIgnore:M,clipShape:T,disableAnimation:true,getSymbolPoint:function(e){return[c[e*2],c[e*2+1]]}});y&&this._initSymbolLabelAnimation(s,n,T);if(D){c=cm(c,n,D,w);if(b){b=cm(b,n,D,w)}}d=this._newPolyline(c);if(m){p=this._newPolygon(c,b)}else if(p){g.remove(p);p=this._polygon=null}if(!v){this._initOrUpdateEndLabel(e,n,No(C))}g.setClipPath(_m(this,n,true,e))}else{if(m&&!p){p=this._newPolygon(c,b)}else if(p&&!m){g.remove(p);p=this._polygon=null}if(!v){this._initOrUpdateEndLabel(e,n,No(C))}var A=g.getClipPath();if(A){var L=_m(this,n,false,e);ci(A,{shape:L.shape},e)}else{g.setClipPath(_m(this,n,true,e))}S&&h.updateData(s,{isIgnore:M,clipShape:T,disableAnimation:true,getSymbolPoint:function(e){return[c[e*2],c[e*2+1]]}});if(!nm(this._stackedOnPoints,b)||!nm(this._points,c)){if(y){this._doUpdateAnimation(s,b,n,r,D,x,w)}else{if(D){c=cm(c,n,D,w);if(b){b=cm(b,n,D,w)}}d.setShape({points:c});p&&p.setShape({points:c,stackedOnPoints:b})}}}var k=e.getModel("emphasis");var P=k.get("focus");var N=k.get("blurScope");var O=k.get("disabled");d.useStyle(a.defaults(l.getLineStyle(),{fill:"none",stroke:C,lineJoin:"bevel"}));$a(d,e,"lineStyle");if(d.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var R=d.getState("emphasis").style;R.lineWidth=+d.style.lineWidth+1}Xr(d).seriesIndex=e.seriesIndex;ja(d,P,N,O);var E=lm(e.get("smooth"));var z=e.get("smoothMonotone");d.setShape({smooth:E,smoothMonotone:z,connectNulls:w});if(p){var V=s.getCalculationInfo("stackedOnSeries");var B=0;p.useStyle(a.defaults(u.getAreaStyle(),{fill:C,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal}));if(V){B=lm(V.get("smooth"))}p.setShape({smooth:E,stackedOnSmooth:B,smoothMonotone:z,connectNulls:w});$a(p,e,"areaStyle");Xr(p).seriesIndex=e.seriesIndex;ja(p,P,N,O)}var G=function(e){i._changePolyState(e)};s.eachItemGraphicEl((function(e){e&&(e.onHoverStateChange=G)}));this._polyline.onHoverStateChange=G;this._data=s;this._coordSys=n;this._stackedOnPoints=b;this._points=c;this._step=D;this._valueOrigin=x;if(e.get("triggerLineEvent")){this.packEventData(e,d);p&&this.packEventData(e,p)}};r.prototype.packEventData=function(e,t){Xr(t).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}};r.prototype.highlight=function(e,t,r,a){var i=e.getData();var n=pr(i,a);this._changePolyState("emphasis");if(!(n instanceof Array)&&n!=null&&n>=0){var o=i.getLayout("points");var s=i.getItemGraphicEl(n);if(!s){var l=o[n*2];var u=o[n*2+1];if(isNaN(l)||isNaN(u)){return}if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,u)){return}var c=e.get("zlevel")||0;var v=e.get("z")||0;s=new Ey(i,n);s.x=l;s.y=u;s.setZ(c,v);var f=s.getSymbolPath().getTextContent();if(f){f.zlevel=c;f.z=v;f.z2=this._polyline.z2+1}s.__temp=true;i.setItemGraphicEl(n,s);s.stopSymbolAnimation(true);this.group.add(s)}s.highlight()}else{_c.prototype.highlight.call(this,e,t,r,a)}};r.prototype.downplay=function(e,t,r,a){var i=e.getData();var n=pr(i,a);this._changePolyState("normal");if(n!=null&&n>=0){var o=i.getItemGraphicEl(n);if(o){if(o.__temp){i.setItemGraphicEl(n,null);this.group.remove(o)}else{o.downplay()}}}else{_c.prototype.downplay.call(this,e,t,r,a)}};r.prototype._changePolyState=function(e){var t=this._polygon;_a(this._polyline,e);t&&_a(t,e)};r.prototype._newPolyline=function(e){var t=this._polyline;if(t){this._lineGroup.remove(t)}t=new $y({shape:{points:e},segmentIgnoreThreshold:2,z2:10});this._lineGroup.add(t);this._polyline=t;return t};r.prototype._newPolygon=function(e,t){var r=this._polygon;if(r){this._lineGroup.remove(r)}r=new em({shape:{points:e,stackedOnPoints:t},segmentIgnoreThreshold:2});this._lineGroup.add(r);this._polygon=r;return r};r.prototype._initSymbolLabelAnimation=function(e,t,r){var i;var n;var o=t.getBaseAxis();var s=o.inverse;if(t.type==="cartesian2d"){i=o.isHorizontal();n=false}else if(t.type==="polar"){i=o.dim==="angle";n=true}var l=e.hostModel;var u=l.get("animationDuration");if(a.isFunction(u)){u=u(null)}var c=l.get("animationDelay")||0;var v=a.isFunction(c)?c(null):c;e.eachItemGraphicEl((function(e,o){var l=e;if(l){var f=[e.x,e.y];var h=void 0;var d=void 0;var p=void 0;if(r){if(n){var g=r;var y=t.pointToCoord(f);if(i){h=g.startAngle;d=g.endAngle;p=-y[1]/180*Math.PI}else{h=g.r0;d=g.r;p=y[0]}}else{var m=r;if(i){h=m.x;d=m.x+m.width;p=e.x}else{h=m.y+m.height;d=m.y;p=e.y}}}var x=d===h?0:(p-h)/(d-h);if(s){x=1-x}var _=a.isFunction(c)?c(o):u*x+v;var b=l.getSymbolPath();var S=b.getTextContent();l.attr({scaleX:0,scaleY:0});l.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:true,delay:_});if(S){S.animateFrom({style:{opacity:0}},{duration:300,delay:_})}b.disableLabelAnimation=true}}))};r.prototype._initOrUpdateEndLabel=function(e,t,r){var a=e.getModel("endLabel");if(xm(e)){var i=e.getData();var n=this._polyline;var o=i.getLayout("points");if(!o){n.removeTextContent();this._endLabel=null;return}var s=this._endLabel;if(!s){s=this._endLabel=new U({z2:200});s.ignoreClip=true;n.setTextContent(this._endLabel);n.disableLabelAnimation=true}var l=gm(o);if(l>=0){Qi(n,en(e,"endLabel"),{inheritColor:r,labelFetcher:e,labelDataIndex:l,defaultText:function(e,t,r){return r!=null?Ry(i,r):Oy(i,e)},enableTextSetter:true},bm(a,t));n.textConfig.position=null}}else if(this._endLabel){this._polyline.removeTextContent();this._endLabel=null}};r.prototype._endLabelOnDuring=function(e,t,r,a,i,n,o){var s=this._endLabel;var l=this._polyline;if(s){if(e<1&&a.originalX==null){a.originalX=s.x;a.originalY=s.y}var u=r.getLayout("points");var c=r.hostModel;var v=c.get("connectNulls");var f=n.get("precision");var h=n.get("distance")||0;var d=o.getBaseAxis();var p=d.isHorizontal();var g=d.inverse;var y=t.shape;var m=g?p?y.x:y.y+y.height:p?y.x+y.width:y.y;var x=(p?h:0)*(g?-1:1);var _=(p?0:-h)*(g?-1:1);var b=p?"x":"y";var S=mm(u,m,b);var w=S.range;var M=w[1]-w[0];var I=void 0;if(M>=1){if(M>1&&!v){var D=ym(u,w[0]);s.attr({x:D[0]+x,y:D[1]+_});i&&(I=c.getRawValue(w[0]))}else{var D=l.getPointOn(m,b);D&&s.attr({x:D[0]+x,y:D[1]+_});var T=c.getRawValue(w[0]);var C=c.getRawValue(w[1]);i&&(I=Tr(r,f,T,C,S.t))}a.lastFrameIndex=w[0]}else{var A=e===1||a.lastFrameIndex>0?w[0]:0;var D=ym(u,A);i&&(I=c.getRawValue(A));s.attr({x:D[0]+x,y:D[1]+_})}if(i){var L=vn(s);if(typeof L.setLabelText==="function"){L.setLabelText(I)}}}};r.prototype._doUpdateAnimation=function(e,t,r,a,i,n,o){var s=this._polyline;var l=this._polygon;var u=e.hostModel;var c=Xy(this._data,e,this._stackedOnPoints,t,this._coordSys,r,this._valueOrigin);var v=c.current;var f=c.stackedOnCurrent;var h=c.next;var d=c.stackedOnNext;if(i){v=cm(c.current,r,i,o);f=cm(c.stackedOnCurrent,r,i,o);h=cm(c.next,r,i,o);d=cm(c.stackedOnNext,r,i,o)}if(sm(v,h)>3e3||l&&sm(f,d)>3e3){s.stopAnimation();s.setShape({points:h});if(l){l.stopAnimation();l.setShape({points:h,stackedOnPoints:d})}return}s.shape.__points=c.current;s.shape.points=v;var p={shape:{points:h}};if(c.current!==v){p.shape.__points=c.next}s.stopAnimation();ui(s,p,u);if(l){l.setShape({points:v,stackedOnPoints:f});l.stopAnimation();ui(l,{shape:{stackedOnPoints:d}},u);if(s.shape.points!==l.shape.points){l.shape.points=s.shape.points}}var g=[];var y=c.status;for(var m=0;m<y.length;m++){var x=y[m].cmd;if(x==="="){var _=e.getItemGraphicEl(y[m].idx1);if(_){g.push({el:_,ptIdx:m})}}}if(s.animators&&s.animators.length){s.animators[0].during((function(){l&&l.dirtyShape();var e=s.shape.__points;for(var t=0;t<g.length;t++){var r=g[t].el;var a=g[t].ptIdx*2;r.x=e[a];r.y=e[a+1];r.markRedraw()}}))}};r.prototype.remove=function(e){var t=this.group;var r=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(true);r&&r.eachItemGraphicEl((function(e,a){if(e.__temp){t.remove(e);r.setItemGraphicEl(a,null)}}));this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null};r.type="line";return r}(_c);function wm(e,t){return{seriesType:e,plan:yc(),reset:function(e){var r=e.getData();var a=e.coordinateSystem;var i=e.pipelineContext;var n=t||i.large;if(!a){return}var o=f(a.dimensions,(function(e){return r.mapDimension(e)})).slice(0,2);var s=o.length;var l=r.getCalculationInfo("stackResultDimension");if(Id(r,o[0])){o[0]=l}if(Id(r,o[1])){o[1]=l}var u=r.getStore();var c=r.getDimensionIndex(o[0]);var v=r.getDimensionIndex(o[1]);return s&&{progress:function(e,t){var r=e.end-e.start;var i=n&&Kd(r*s);var o=[];var l=[];for(var f=e.start,h=0;f<e.end;f++){var d=void 0;if(s===1){var p=u.get(c,f);d=a.dataToPoint(p,null,l)}else{o[0]=u.get(c,f);o[1]=u.get(v,f);d=a.dataToPoint(o,null,l)}if(n){i[h++]=d[0];i[h++]=d[1]}else{t.setItemLayout(f,d.slice())}}n&&t.setLayout("points",i)}}}}}var Mm={average:function(e){var t=0;var r=0;for(var a=0;a<e.length;a++){if(!isNaN(e[a])){t+=e[a];r++}}return r===0?NaN:t/r},sum:function(e){var t=0;for(var r=0;r<e.length;r++){t+=e[r]||0}return t},max:function(e){var t=-Infinity;for(var r=0;r<e.length;r++){e[r]>t&&(t=e[r])}return isFinite(t)?t:NaN},min:function(e){var t=Infinity;for(var r=0;r<e.length;r++){e[r]<t&&(t=e[r])}return isFinite(t)?t:NaN},minmax:function(e){var t=-Infinity;var r=-Infinity;for(var a=0;a<e.length;a++){var i=e[a];var n=Math.abs(i);if(n>t){t=n;r=i}}return isFinite(r)?r:NaN},nearest:function(e){return e[0]}};var Im=function(e){return Math.round(e.length/2)};function Dm(e){return{seriesType:e,reset:function(e,t,r){var a=e.getData();var i=e.get("sampling");var n=e.coordinateSystem;var o=a.count();if(o>10&&n.type==="cartesian2d"&&i){var s=n.getBaseAxis();var l=n.getOtherAxis(s);var c=s.getExtent();var v=r.getDevicePixelRatio();var f=Math.abs(c[1]-c[0])*(v||1);var h=Math.round(o/f);if(isFinite(h)&&h>1){if(i==="lttb"){e.setData(a.lttbDownSample(a.mapDimension(l.dim),1/h))}var d=void 0;if(u(i)){d=Mm[i]}else if(m(i)){d=i}if(d){e.setData(a.downSample(a.mapDimension(l.dim),1/h,d,Im))}}}}}}function Tm(e){e.registerChartView(Sm);e.registerSeriesModel(Ny);e.registerLayout(wm("line",true));e.registerVisual({seriesType:"line",reset:function(e){var t=e.getData();var r=e.getModel("lineStyle").getLineStyle();if(r&&!r.stroke){r.stroke=t.getVisual("style").fill}t.setVisual("legendLineStyle",r)}});e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Dm("line"))}var Cm=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.getInitialData=function(e,t){return Ad(null,this,{useEncodeDefaulter:true})};r.prototype.getMarkerPosition=function(e,t,r){var a=this.coordinateSystem;if(a&&a.clampData){var i=a.clampData(e);var n=a.dataToPoint(i);if(r){s(a.getAxes(),(function(e,r){if(e.type==="category"&&t!=null){var a=e.getTicksCoords();var o=e.getTickModel().get("alignWithLabel");var s=i[r];var l=t[r]==="x1"||t[r]==="y1";if(l&&!o){s+=1}if(a.length<2){return}else if(a.length===2){n[r]=e.toGlobalCoord(e.getExtent()[l?1:0]);return}var u=void 0;var c=void 0;var v=1;for(var f=0;f<a.length;f++){var h=a[f].coord;var d=f===a.length-1?a[f-1].tickValue+v:a[f].tickValue;if(d===s){c=h;break}else if(d<s){u=h}else if(u!=null&&d>s){c=(h+u)/2;break}if(f===1){v=d-a[0].tickValue}}if(c==null){if(!u){c=a[0].coord}else if(u){c=a[a.length-1].coord}}n[r]=e.toGlobalCoord(c)}}))}else{var o=this.getData();var l=o.getLayout("offset");var u=o.getLayout("size");var c=a.getBaseAxis().isHorizontal()?0:1;n[c]+=l+u/2}return n}return[NaN,NaN]};r.type="series.__base_bar__";r.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,barMinHeight:0,barMinAngle:0,large:false,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"};return r}(sc);sc.registerClass(Cm);var Am=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.getInitialData=function(){return Ad(null,this,{useEncodeDefaulter:true,createInvertedIndices:!!this.get("realtimeSort",true)||null})};r.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):false};r.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold");var t=this.get("largeThreshold");if(t>e){e=t}return e};r.prototype.brushSelector=function(e,t,r){return r.rect(t.getItemLayout(e))};r.type="series.bar";r.dependencies=["grid","polar"];r.defaultOption=An(Cm.defaultOption,{clip:true,roundCap:false,showBackground:false,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:false});return r}(Cm);var Lm=function(){function e(){this.cx=0;this.cy=0;this.r0=0;this.r=0;this.startAngle=0;this.endAngle=Math.PI*2;this.clockwise=true}return e}();var km=function(t){e(r,t);function r(e){var r=t.call(this,e)||this;r.type="sausage";return r}r.prototype.getDefaultShape=function(){return new Lm};r.prototype.buildPath=function(e,t){var r=t.cx;var a=t.cy;var i=Math.max(t.r0||0,0);var n=Math.max(t.r,0);var o=(n-i)*.5;var s=i+o;var l=t.startAngle;var u=t.endAngle;var c=t.clockwise;var v=Math.PI*2;var f=c?u-l<v:l-u<v;if(!f){l=u-(c?v:-v)}var h=Math.cos(l);var d=Math.sin(l);var p=Math.cos(u);var g=Math.sin(u);if(f){e.moveTo(h*i+r,d*i+a);e.arc(h*s+r,d*s+a,o,-Math.PI+l,l,!c)}else{e.moveTo(h*n+r,d*n+a)}e.arc(r,a,n,l,u,!c);e.arc(p*s+r,g*s+a,o,u-Math.PI*2,u-Math.PI,!c);if(i!==0){e.arc(r,a,i,u,l,c)}};return r}(Q);function Pm(e,t){t=t||{};var r=t.isRoundCap;return function(t,a,i){var n=a.position;if(!n||n instanceof Array){return Oe(t,a,i)}var o=e(n);var s=a.distance!=null?a.distance:5;var l=this.shape;var u=l.cx;var c=l.cy;var v=l.r;var f=l.r0;var h=(v+f)/2;var d=l.startAngle;var p=l.endAngle;var g=(d+p)/2;var y=r?Math.abs(v-f)/2:0;var m=Math.cos;var x=Math.sin;var _=u+v*m(d);var b=c+v*x(d);var S="left";var w="top";switch(o){case"startArc":_=u+(f-s)*m(g);b=c+(f-s)*x(g);S="center";w="top";break;case"insideStartArc":_=u+(f+s)*m(g);b=c+(f+s)*x(g);S="center";w="bottom";break;case"startAngle":_=u+h*m(d)+Om(d,s+y,false);b=c+h*x(d)+Rm(d,s+y,false);S="right";w="middle";break;case"insideStartAngle":_=u+h*m(d)+Om(d,-s+y,false);b=c+h*x(d)+Rm(d,-s+y,false);S="left";w="middle";break;case"middle":_=u+h*m(g);b=c+h*x(g);S="center";w="middle";break;case"endArc":_=u+(v+s)*m(g);b=c+(v+s)*x(g);S="center";w="bottom";break;case"insideEndArc":_=u+(v-s)*m(g);b=c+(v-s)*x(g);S="center";w="top";break;case"endAngle":_=u+h*m(p)+Om(p,s+y,true);b=c+h*x(p)+Rm(p,s+y,true);S="left";w="middle";break;case"insideEndAngle":_=u+h*m(p)+Om(p,-s+y,true);b=c+h*x(p)+Rm(p,-s+y,true);S="right";w="middle";break;default:return Oe(t,a,i)}t=t||{};t.x=_;t.y=b;t.align=S;t.verticalAlign=w;return t}}function Nm(e,t,r,a){if(c(a)){e.setTextConfig({rotation:a});return}else if(n(t)){e.setTextConfig({rotation:0});return}var i=e.shape;var o=i.clockwise?i.startAngle:i.endAngle;var s=i.clockwise?i.endAngle:i.startAngle;var l=(o+s)/2;var u;var v=r(t);switch(v){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":u=l;break;case"startAngle":case"insideStartAngle":u=o;break;case"endAngle":case"insideEndAngle":u=s;break;default:e.setTextConfig({rotation:0});return}var f=Math.PI*1.5-u;if(v==="middle"&&f>Math.PI/2&&f<Math.PI*1.5){f-=Math.PI}e.setTextConfig({rotation:f})}function Om(e,t,r){return t*Math.sin(e)*(r?-1:1)}function Rm(e,t,r){return t*Math.cos(e)*(r?1:-1)}function Em(e,t,r){var a=e.get("borderRadius");if(a==null){return r?{cornerRadius:0}:null}if(!n(a)){a=[a,a,a,a]}var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:f(a,(function(e){return Re(e,i)}))}}var zm=Math.max;var Vm=Math.min;function Bm(e,t){var r=e.getArea&&e.getArea();if(im(e,"cartesian2d")){var a=e.getBaseAxis();if(a.type!=="category"||!a.onBand){var i=t.getLayout("bandWidth");if(a.isHorizontal()){r.x-=i;r.width+=i*2}else{r.y-=i;r.height+=i*2}}}return r}var Gm=function(t){e(r,t);function r(){var e=t.call(this)||this;e.type=r.type;e._isFirstFrame=true;return e}r.prototype.render=function(e,t,r,a){this._model=e;this._removeOnRenderedListener(r);this._updateDrawMode(e);var i=e.get("coordinateSystem");if(i==="cartesian2d"||i==="polar"){this._progressiveEls=null;this._isLargeDraw?this._renderLarge(e,t,r):this._renderNormal(e,t,r,a)}};r.prototype.incrementalPrepareRender=function(e){this._clear();this._updateDrawMode(e);this._updateLargeClip(e)};r.prototype.incrementalRender=function(e,t){this._progressiveEls=[];this._incrementalRenderLarge(e,t)};r.prototype.eachRendered=function(e){ji(this._progressiveEls||this.group,e)};r.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;if(this._isLargeDraw==null||t!==this._isLargeDraw){this._isLargeDraw=t;this._clear()}};r.prototype._renderNormal=function(e,t,r,a){var i=this.group;var n=e.getData();var o=this._data;var s=e.coordinateSystem;var l=s.getBaseAxis();var u;if(s.type==="cartesian2d"){u=l.isHorizontal()}else if(s.type==="polar"){u=l.dim==="angle"}var c=e.isAnimationEnabled()?e:null;var v=Wm(e,s);if(v){this._enableRealtimeSort(v,n,r)}var f=e.get("clip",true)||v;var h=Bm(s,n);i.removeClipPath();var d=e.get("roundCap",true);var p=e.get("showBackground",true);var g=e.getModel("backgroundStyle");var y=g.get("borderRadius")||0;var m=[];var x=this._backgroundEls;var _=a&&a.isInitSort;var b=a&&a.type==="changeAxisOrder";function S(e){var t=qm[s.type](n,e);var r=ox(s,u,t);r.useStyle(g.getItemStyle());if(s.type==="cartesian2d"){r.setShape("r",y)}else{r.setShape("cornerRadius",y)}m[e]=r;return r}n.diff(o).add((function(t){var r=n.getItemModel(t);var a=qm[s.type](n,t,r);if(p){S(t)}if(!n.hasValue(t)||!jm[s.type](a)){return}var o=false;if(f){o=Fm[s.type](h,a)}var g=Hm[s.type](e,n,t,a,u,c,l.model,false,d);if(v){g.forceLabelAnimation=true}$m(g,n,t,r,a,e,u,s.type==="polar");if(_){g.attr({shape:a})}else if(v){Um(v,c,g,a,t,u,false,false)}else{ci(g,{shape:a},e,t)}n.setItemGraphicEl(t,g);i.add(g);g.ignore=o})).update((function(t,r){var a=n.getItemModel(t);var w=qm[s.type](n,t,a);if(p){var M=void 0;if(x.length===0){M=S(r)}else{M=x[r];M.useStyle(g.getItemStyle());if(s.type==="cartesian2d"){M.setShape("r",y)}else{M.setShape("cornerRadius",y)}m[t]=M}var I=qm[s.type](n,t);var D=nx(u,I,s);ui(M,{shape:D},c,t)}var T=o.getItemGraphicEl(r);if(!n.hasValue(t)||!jm[s.type](w)){i.remove(T);return}var C=false;if(f){C=Fm[s.type](h,w);if(C){i.remove(T)}}if(!T){T=Hm[s.type](e,n,t,w,u,c,l.model,!!T,d)}else{pi(T)}if(v){T.forceLabelAnimation=true}if(b){var A=T.getTextContent();if(A){var L=vn(A);if(L.prevValue!=null){L.prevValue=L.value}}}else{$m(T,n,t,a,w,e,u,s.type==="polar")}if(_){T.attr({shape:w})}else if(v){Um(v,c,T,w,t,u,true,b)}else{ui(T,{shape:w},e,t,null)}n.setItemGraphicEl(t,T);T.ignore=C;i.add(T)})).remove((function(t){var r=o.getItemGraphicEl(t);r&&di(r,e,t)})).execute();var w=this._backgroundGroup||(this._backgroundGroup=new ue);w.removeAll();for(var M=0;M<m.length;++M){w.add(m[M])}i.add(w);this._backgroundEls=m;this._data=n};r.prototype._renderLarge=function(e,t,r){this._clear();rx(e,this.group);this._updateLargeClip(e)};r.prototype._incrementalRenderLarge=function(e,t){this._removeBackground();rx(t,this.group,this._progressiveEls,true)};r.prototype._updateLargeClip=function(e){var t=e.get("clip",true)&&am(e.coordinateSystem,false,e);var r=this.group;if(t){r.setClipPath(t)}else{r.removeClipPath()}};r.prototype._enableRealtimeSort=function(e,t,r){var a=this;if(!t.count()){return}var i=e.baseAxis;if(this._isFirstFrame){this._dispatchInitSort(t,e,r);this._isFirstFrame=false}else{var n=function(e){var r=t.getItemGraphicEl(e);var a=r&&r.shape;return a&&Math.abs(i.isHorizontal()?a.height:a.width)||0};this._onRendered=function(){a._updateSortWithinSameData(t,n,i,r)};r.getZr().on("rendered",this._onRendered)}};r.prototype._dataSort=function(e,t,r){var a=[];e.each(e.mapDimension(t.dim),(function(e,t){var i=r(t);i=i==null?NaN:i;a.push({dataIndex:t,mappedValue:i,ordinalNumber:e})}));a.sort((function(e,t){return t.mappedValue-e.mappedValue}));return{ordinalNumbers:f(a,(function(e){return e.ordinalNumber}))}};r.prototype._isOrderChangedWithinSameData=function(e,t,r){var a=r.scale;var i=e.mapDimension(r.dim);var n=Number.MAX_VALUE;for(var o=0,s=a.getOrdinalMeta().categories.length;o<s;++o){var l=e.rawIndexOf(i,a.getRawOrdinalNumber(o));var u=l<0?Number.MIN_VALUE:t(e.indexOfRawIndex(l));if(u>n){return true}n=u}return false};r.prototype._isOrderDifferentInView=function(e,t){var r=t.scale;var a=r.getExtent();var i=Math.max(0,a[0]);var n=Math.min(a[1],r.getOrdinalMeta().categories.length-1);for(;i<=n;++i){if(e.ordinalNumbers[i]!==r.getRawOrdinalNumber(i)){return true}}};r.prototype._updateSortWithinSameData=function(e,t,r,a){if(!this._isOrderChangedWithinSameData(e,t,r)){return}var i=this._dataSort(e,r,t);if(this._isOrderDifferentInView(i,r)){this._removeOnRenderedListener(a);a.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:i})}};r.prototype._dispatchInitSort=function(e,t,r){var a=t.baseAxis;var i=this._dataSort(e,a,(function(r){return e.get(e.mapDimension(t.otherAxis.dim),r)}));r.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:true,axisId:a.index,sortInfo:i})};r.prototype.remove=function(e,t){this._clear(this._model);this._removeOnRenderedListener(t)};r.prototype.dispose=function(e,t){this._removeOnRenderedListener(t)};r.prototype._removeOnRenderedListener=function(e){if(this._onRendered){e.getZr().off("rendered",this._onRendered);this._onRendered=null}};r.prototype._clear=function(e){var t=this.group;var r=this._data;if(e&&e.isAnimationEnabled()&&r&&!this._isLargeDraw){this._removeBackground();this._backgroundEls=[];r.eachItemGraphicEl((function(t){di(t,e,Xr(t).dataIndex)}))}else{t.removeAll()}this._data=null;this._isFirstFrame=true};r.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup);this._backgroundGroup=null};r.type="bar";return r}(_c);var Fm={cartesian2d:function(e,t){var r=t.width<0?-1:1;var a=t.height<0?-1:1;if(r<0){t.x+=t.width;t.width=-t.width}if(a<0){t.y+=t.height;t.height=-t.height}var i=e.x+e.width;var n=e.y+e.height;var o=zm(t.x,e.x);var s=Vm(t.x+t.width,i);var l=zm(t.y,e.y);var u=Vm(t.y+t.height,n);var c=s<o;var v=u<l;t.x=c&&o>i?s:o;t.y=v&&l>n?u:l;t.width=c?0:s-o;t.height=v?0:u-l;if(r<0){t.x+=t.width;t.width=-t.width}if(a<0){t.y+=t.height;t.height=-t.height}return c||v},polar:function(e,t){var r=t.r0<=t.r?1:-1;if(r<0){var a=t.r;t.r=t.r0;t.r0=a}var i=Vm(t.r,e.r);var n=zm(t.r0,e.r0);t.r=i;t.r0=n;var o=i-n<0;if(r<0){var a=t.r;t.r=t.r0;t.r0=a}return o}};var Hm={cartesian2d:function(e,t,r,a,i,n,o,s,l){var u=new ge({shape:d({},a),z2:1});u.__dataIndex=r;u.name="item";if(n){var c=u.shape;var v=i?"height":"width";c[v]=0}return u},polar:function(e,t,r,a,i,n,o,s,l){var u=!i&&l?km:fe;var c=new u({shape:a,z2:1});c.name="item";var v=Jm(i);c.calculateTextPosition=Pm(v,{isRoundCap:u===km});if(n){var f=c.shape;var h=i?"r":"endAngle";var d={};f[h]=i?a.r0:a.startAngle;d[h]=a[h];(s?ui:ci)(c,{shape:d},n)}return c}};function Wm(e,t){var r=e.get("realtimeSort",true);var a=t.getBaseAxis();if(r&&a.type==="category"&&t.type==="cartesian2d"){return{baseAxis:a,otherAxis:t.getOtherAxis(a)}}}function Um(e,t,r,a,i,n,o,s){var l;var u;if(n){u={x:a.x,width:a.width};l={y:a.y,height:a.height}}else{u={y:a.y,height:a.height};l={x:a.x,width:a.width}}if(!s){(o?ui:ci)(r,{shape:l},t,i,null)}var c=t?e.baseAxis.model:null;(o?ui:ci)(r,{shape:u},c,i)}function Ym(e,t){for(var r=0;r<t.length;r++){if(!isFinite(e[t[r]])){return true}}return false}var Xm=["x","y","width","height"];var Zm=["cx","cy","r","startAngle","endAngle"];var jm={cartesian2d:function(e){return!Ym(e,Xm)},polar:function(e){return!Ym(e,Zm)}};var qm={cartesian2d:function(e,t,r){var a=e.getItemLayout(t);var i=r?Qm(r,a):0;var n=a.width>0?1:-1;var o=a.height>0?1:-1;return{x:a.x+n*i/2,y:a.y+o*i/2,width:a.width-n*i,height:a.height-o*i}},polar:function(e,t,r){var a=e.getItemLayout(t);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}}};function Km(e){return e.startAngle!=null&&e.endAngle!=null&&e.startAngle===e.endAngle}function Jm(e){return function(e){var t=e?"Arc":"Angle";return function(e){switch(e){case"start":case"insideStart":case"end":case"insideEnd":return e+t;default:return e}}}(e)}function $m(e,t,r,a,i,n,o,l){var u=t.getItemVisual(r,"style");if(!l){var c=a.get(["itemStyle","borderRadius"])||0;e.setShape("r",c)}else if(!n.get("roundCap")){var v=e.shape;var f=Em(a.getModel("itemStyle"),v,true);d(v,f);e.setShape(v)}e.useStyle(u);var h=a.getShallow("cursor");h&&e.attr("cursor",h);var p=l?o?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":o?i.height>=0?"bottom":"top":i.width>=0?"right":"left";var g=en(a);Qi(e,g,{labelFetcher:n,labelDataIndex:r,defaultText:Oy(n.getData(),r),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:p});var y=e.getTextContent();if(l&&y){var m=a.get(["label","position"]);e.textConfig.inside=m==="middle"?true:null;Nm(e,m==="outside"?p:m,Jm(o),a.get(["label","rotate"]))}fn(y,g,n.getRawValue(r),(function(e){return Ry(t,e)}));var x=a.getModel(["emphasis"]);ja(e,x.get("focus"),x.get("blurScope"),x.get("disabled"));$a(e,a);if(Km(i)){e.style.fill="none";e.style.stroke="none";s(e.states,(function(e){if(e.style){e.style.fill=e.style.stroke="none"}}))}}function Qm(e,t){var r=e.get(["itemStyle","borderColor"]);if(!r||r==="none"){return 0}var a=e.get(["itemStyle","borderWidth"])||0;var i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width);var n=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(a,i,n)}var ex=function(){function e(){}return e}();var tx=function(t){e(r,t);function r(e){var r=t.call(this,e)||this;r.type="largeBar";return r}r.prototype.getDefaultShape=function(){return new ex};r.prototype.buildPath=function(e,t){var r=t.points;var a=this.baseDimIdx;var i=1-this.baseDimIdx;var n=[];var o=[];var s=this.barWidth;for(var l=0;l<r.length;l+=3){o[a]=s;o[i]=r[l+2];n[a]=r[l+a];n[i]=r[l+i];e.rect(n[0],n[1],o[0],o[1])}};return r}(Q);function rx(e,t,r,a){var i=e.getData();var n=i.getLayout("valueAxisHorizontal")?1:0;var o=i.getLayout("largeDataIndices");var s=i.getLayout("size");var l=e.getModel("backgroundStyle");var u=i.getLayout("largeBackgroundPoints");if(u){var c=new tx({shape:{points:u},incremental:!!a,silent:true,z2:0});c.baseDimIdx=n;c.largeDataIndices=o;c.barWidth=s;c.useStyle(l.getItemStyle());t.add(c);r&&r.push(c)}var v=new tx({shape:{points:i.getLayout("largePoints")},incremental:!!a,ignoreCoarsePointer:true,z2:1});v.baseDimIdx=n;v.largeDataIndices=o;v.barWidth=s;t.add(v);v.useStyle(i.getVisual("style"));Xr(v).seriesIndex=e.seriesIndex;if(!e.get("silent")){v.on("mousedown",ax);v.on("mousemove",ax)}r&&r.push(v)}var ax=Ac((function(e){var t=this;var r=ix(t,e.offsetX,e.offsetY);Xr(t).dataIndex=r>=0?r:null}),30,false);function ix(e,t,r){var a=e.baseDimIdx;var i=1-a;var n=e.shape.points;var o=e.largeDataIndices;var s=[];var l=[];var u=e.barWidth;for(var c=0,v=n.length/3;c<v;c++){var f=c*3;l[a]=u;l[i]=n[f+2];s[a]=n[f+a];s[i]=n[f+i];if(l[i]<0){s[i]+=l[i];l[i]=-l[i]}if(t>=s[0]&&t<=s[0]+l[0]&&r>=s[1]&&r<=s[1]+l[1]){return o[c]}}return-1}function nx(e,t,r){if(im(r,"cartesian2d")){var a=t;var i=r.getArea();return{x:e?a.x:i.x,y:e?i.y:a.y,width:e?a.width:i.width,height:e?i.height:a.height}}else{var i=r.getArea();var n=t;return{cx:i.cx,cy:i.cy,r0:e?i.r0:n.r0,r:e?i.r:n.r,startAngle:e?n.startAngle:0,endAngle:e?n.endAngle:Math.PI*2}}}function ox(e,t,r){var a=e.type==="polar"?fe:ge;return new a({shape:nx(t,r,e),silent:true,z2:0})}function sx(e){e.registerChartView(Gm);e.registerSeriesModel(Am);e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,a.curry(op,"bar"));e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,sp("bar"));e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Dm("bar"));e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(e,t){var r=e.componentType||"series";t.eachComponent({mainType:r,query:e},(function(t){if(e.sortInfo){t.axis.setCategorySortInfo(e.sortInfo)}}))}))}var lx=Math.PI*2;var ux=Math.PI/180;function cx(e,t){return Fo(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function vx(e,t){var r=cx(e,t);var i=e.get("center");var n=e.get("radius");if(!a.isArray(n)){n=[0,n]}var o=pt(r.width,t.getWidth());var s=pt(r.height,t.getHeight());var l=Math.min(o,s);var u=pt(n[0],l/2);var c=pt(n[1],l/2);var v;var f;var h=e.coordinateSystem;if(h){var d=h.dataToPoint(i);v=d[0]||0;f=d[1]||0}else{if(!a.isArray(i)){i=[i,i]}v=pt(i[0],o)+r.x;f=pt(i[1],s)+r.y}return{cx:v,cy:f,r0:u,r:c}}function fx(e,t,r){t.eachSeriesByType(e,(function(e){var t=e.getData();var a=t.mapDimension("value");var i=cx(e,r);var n=vx(e,r),o=n.cx,s=n.cy,l=n.r,u=n.r0;var c=-e.get("startAngle")*ux;var v=e.get("endAngle");var f=e.get("padAngle")*ux;v=v==="auto"?c-lx:-v*ux;var h=e.get("minAngle")*ux;var d=h+f;var p=0;t.each(a,(function(e){!isNaN(e)&&p++}));var g=t.getSum(a);var y=Math.PI/(g||p)*2;var m=e.get("clockwise");var x=e.get("roseType");var _=e.get("stillShowZeroSum");var b=t.getDataExtent(a);b[0]=0;var S=m?1:-1;var w=[c,v];var M=S*f/2;Fe(w,!m);c=w[0],v=w[1];var I=hx(e);I.startAngle=c;I.endAngle=v;I.clockwise=m;var D=Math.abs(v-c);var T=D;var C=0;var A=c;t.setLayout({viewRect:i,r:l});t.each(a,(function(e,r){var a;if(isNaN(e)){t.setItemLayout(r,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:m,cx:o,cy:s,r0:u,r:x?NaN:l});return}if(x!=="area"){a=g===0&&_?y:e*y}else{a=D/p}if(a<d){a=d;T-=d}else{C+=e}var i=A+S*a;var n=0;var c=0;if(f>a){n=A+S*a/2;c=n}else{n=A+M;c=i-M}t.setItemLayout(r,{angle:a,startAngle:n,endAngle:c,clockwise:m,cx:o,cy:s,r0:u,r:x?dt(e,b,[u,l]):l});A=i}));if(T<lx&&p){if(T<=.001){var L=D/p;t.each(a,(function(e,r){if(!isNaN(e)){var a=t.getItemLayout(r);a.angle=L;var i=0;var n=0;if(L<f){i=c+S*(r+1/2)*L;n=i}else{i=c+S*r*L+M;n=c+S*(r+1)*L-M}a.startAngle=i;a.endAngle=n}}))}else{y=T/C;A=c;t.each(a,(function(e,r){if(!isNaN(e)){var a=t.getItemLayout(r);var i=a.angle===d?d:e*y;var n=0;var o=0;if(i<f){n=A+S*i/2;o=n}else{n=A+M;o=A+S*i-M}a.startAngle=n;a.endAngle=o;A+=S*i}}))}}}))}var hx=gr();function dx(e){return{seriesType:e,reset:function(e,t){var r=t.findComponents({mainType:"legend"});if(!r||!r.length){return}var a=e.getData();a.filterSelf((function(e){var t=a.getName(e);for(var i=0;i<r.length;i++){if(!r[i].isSelected(t)){return false}}return true}))}}}var px=Math.PI/180;function gx(e,t,r,a,i,n,o,s,l,u){if(e.length<2){return}function c(e){var n=e.rB;var o=n*n;for(var s=0;s<e.list.length;s++){var l=e.list[s];var u=Math.abs(l.label.y-r);var c=a+l.len;var v=c*c;var f=Math.sqrt((1-Math.abs(u*u/o))*v);var h=t+(f+l.len2)*i;var d=h-l.label.x;var p=l.targetTextWidth-d*i;mx(l,p,true);l.label.x=h}}function v(e){var n={list:[],maxY:0};var o={list:[],maxY:0};for(var s=0;s<e.length;s++){if(e[s].labelAlignTo!=="none"){continue}var l=e[s];var u=l.label.y>r?o:n;var v=Math.abs(l.label.y-r);if(v>=u.maxY){var f=l.label.x-t-l.len2*i;var h=a+l.len;var d=Math.abs(f)<h?Math.sqrt(v*v/(1-f*f/h/h)):h;u.rB=d;u.maxY=v}u.list.push(l)}c(n);c(o)}var f=e.length;for(var h=0;h<f;h++){if(e[h].position==="outer"&&e[h].labelAlignTo==="labelLine"){var d=e[h].label.x-u;e[h].linePoints[1][0]+=d;e[h].label.x=u}}if(my(e,l,l+o)){v(e)}}function yx(e,t,r,a,i,n,o,s){var l=[];var u=[];var c=Number.MAX_VALUE;var v=-Number.MAX_VALUE;for(var f=0;f<e.length;f++){var h=e[f].label;if(xx(e[f])){continue}if(h.x<t){c=Math.min(c,h.x);l.push(e[f])}else{v=Math.max(v,h.x);u.push(e[f])}}for(var f=0;f<e.length;f++){var d=e[f];if(!xx(d)&&d.linePoints){if(d.labelStyleWidth!=null){continue}var h=d.label;var p=d.linePoints;var g=void 0;if(d.labelAlignTo==="edge"){if(h.x<t){g=p[2][0]-d.labelDistance-o-d.edgeDistance}else{g=o+i-d.edgeDistance-p[2][0]-d.labelDistance}}else if(d.labelAlignTo==="labelLine"){if(h.x<t){g=c-o-d.bleedMargin}else{g=o+i-v-d.bleedMargin}}else{if(h.x<t){g=h.x-o-d.bleedMargin}else{g=o+i-h.x-d.bleedMargin}}d.targetTextWidth=g;mx(d,g)}}gx(u,t,r,a,1,i,n,o,s,v);gx(l,t,r,a,-1,i,n,o,s,c);for(var f=0;f<e.length;f++){var d=e[f];if(!xx(d)&&d.linePoints){var h=d.label;var p=d.linePoints;var y=d.labelAlignTo==="edge";var m=h.style.padding;var x=m?m[1]+m[3]:0;var _=h.style.backgroundColor?0:x;var b=d.rect.width+_;var S=p[1][0]-p[2][0];if(y){if(h.x<t){p[2][0]=o+d.edgeDistance+b+d.labelDistance}else{p[2][0]=o+i-d.edgeDistance-b-d.labelDistance}}else{if(h.x<t){p[2][0]=h.x+d.labelDistance}else{p[2][0]=h.x-d.labelDistance}p[1][0]=p[2][0]+S}p[1][1]=p[2][1]=h.y}}}function mx(e,t,r){if(r===void 0){r=false}if(e.labelStyleWidth!=null){return}var a=e.label;var i=a.style;var n=e.rect;var o=i.backgroundColor;var s=i.padding;var l=s?s[1]+s[3]:0;var u=i.overflow;var c=n.width+(o?0:l);if(t<c||r){var v=n.height;if(u&&u.match("break")){a.setStyle("backgroundColor",null);a.setStyle("width",t-l);var f=a.getBoundingRect();a.setStyle("width",Math.ceil(f.width));a.setStyle("backgroundColor",o)}else{var h=t-l;var d=t<c?h:r?h>e.unconstrainedWidth?null:h:null;a.setStyle("width",d)}var p=a.getBoundingRect();n.width=p.width;var g=(a.style.margin||0)+2.1;n.height=p.height+g;n.y-=(n.height-v)/2}}function xx(e){return e.position==="center"}function _x(e){var t=e.getData();var r=[];var a;var i;var n=false;var o=(e.get("minShowLabelAngle")||0)*px;var l=t.getLayout("viewRect");var u=t.getLayout("r");var v=l.width;var f=l.x;var h=l.y;var d=l.height;function p(e){e.ignore=true}function g(e){if(!e.ignore){return true}for(var t in e.states){if(e.states[t].ignore===false){return true}}return false}t.each((function(e){var l=t.getItemGraphicEl(e);var h=l.shape;var d=l.getTextContent();var y=l.getTextGuideLine();var m=t.getItemModel(e);var x=m.getModel("label");var _=x.get("position")||m.get(["emphasis","label","position"]);var b=x.get("distanceToLabelLine");var S=x.get("alignTo");var w=pt(x.get("edgeDistance"),v);var M=x.get("bleedMargin");var I=m.getModel("labelLine");var D=I.get("length");D=pt(D,v);var T=I.get("length2");T=pt(T,v);if(Math.abs(h.endAngle-h.startAngle)<o){s(d.states,p);d.ignore=true;if(y){s(y.states,p);y.ignore=true}return}if(!g(d)){return}var C=(h.startAngle+h.endAngle)/2;var A=Math.cos(C);var L=Math.sin(C);var k;var P;var N;var O;a=h.cx;i=h.cy;var R=_==="inside"||_==="inner";if(_==="center"){k=h.cx;P=h.cy;O="center"}else{var E=(R?(h.r+h.r0)/2*A:h.r*A)+a;var z=(R?(h.r+h.r0)/2*L:h.r*L)+i;k=E+A*3;P=z+L*3;if(!R){var V=E+A*(D+u-h.r);var B=z+L*(D+u-h.r);var G=V+(A<0?-1:1)*T;var F=B;if(S==="edge"){k=A<0?f+w:f+v-w}else{k=G+(A<0?-b:b)}P=F;N=[[E,z],[V,B],[G,F]]}O=R?"center":S==="edge"?A>0?"right":"left":A>0?"left":"right"}var H=Math.PI;var W=0;var U=x.get("rotate");if(c(U)){W=U*(H/180)}else if(_==="center"){W=0}else if(U==="radial"||U===true){var Y=A<0?-C+H:-C;W=Y}else if(U==="tangential"&&_!=="outside"&&_!=="outer"){var X=Math.atan2(A,L);if(X<0){X=H*2+X}var Z=L>0;if(Z){X=H+X}W=X-H}n=!!W;d.x=k;d.y=P;d.rotation=W;d.setStyle({verticalAlign:"middle"});if(!R){var j=d.getBoundingRect().clone();j.applyTransform(d.getComputedTransform());var q=(d.style.margin||0)+2.1;j.y-=q/2;j.height+=q;r.push({label:d,labelLine:y,position:_,len:D,len2:T,minTurnAngle:I.get("minTurnAngle"),maxSurfaceAngle:I.get("maxSurfaceAngle"),surfaceNormal:new Ie(A,L),linePoints:N,textAlign:O,labelDistance:b,labelAlignTo:S,edgeDistance:w,bleedMargin:M,rect:j,unconstrainedWidth:j.width,labelStyleWidth:d.style.width})}else{d.setStyle({align:O});var K=d.states.select;if(K){K.x+=d.x;K.y+=d.y}}l.setTextConfig({inside:R})}));if(!n&&e.get("avoidLabelOverlap")){yx(r,a,i,u,v,d,f,h)}for(var y=0;y<r.length;y++){var m=r[y];var x=m.label;var _=m.labelLine;var b=isNaN(x.x)||isNaN(x.y);if(x){x.setStyle({align:m.textAlign});if(b){s(x.states,p);x.ignore=true}var S=x.states.select;if(S){S.x+=x.x;S.y+=x.y}}if(_){var w=m.linePoints;if(b||!w){s(_.states,p);_.ignore=true}else{uy(w,m.minTurnAngle);cy(w,m.surfaceNormal,m.maxSurfaceAngle);_.setShape({points:w});x.__hostTarget.textGuideLineConfig={anchor:new Ie(w[0][0],w[0][1])}}}}}var bx=function(t){e(r,t);function r(e,r,a){var i=t.call(this)||this;i.z2=2;var n=new U;i.setTextContent(n);i.updateData(e,r,a,true);return i}r.prototype.updateData=function(e,t,r,a){var i=this;var n=e.hostModel;var o=e.getItemModel(t);var s=o.getModel("emphasis");var l=e.getItemLayout(t);var u=d(Em(o.getModel("itemStyle"),l,true),l);if(isNaN(u.startAngle)){i.setShape(u);return}if(a){i.setShape(u);var c=n.getShallow("animationType");if(n.ecModel.ssr){ci(i,{scaleX:0,scaleY:0},n,{dataIndex:t,isFrom:true});i.originX=u.cx;i.originY=u.cy}else if(c==="scale"){i.shape.r=l.r0;ci(i,{shape:{r:l.r}},n,t)}else{if(r!=null){i.setShape({startAngle:r,endAngle:r});ci(i,{shape:{startAngle:l.startAngle,endAngle:l.endAngle}},n,t)}else{i.shape.endAngle=l.startAngle;ui(i,{shape:{endAngle:l.endAngle}},n,t)}}}else{pi(i);ui(i,{shape:u},n,t)}i.useStyle(e.getItemVisual(t,"style"));$a(i,o);var v=(l.startAngle+l.endAngle)/2;var f=n.get("selectedOffset");var h=Math.cos(v)*f;var p=Math.sin(v)*f;var g=o.getShallow("cursor");g&&i.attr("cursor",g);this._updateLabel(n,e,t);i.ensureState("emphasis").shape=d({r:l.r+(s.get("scale")?s.get("scaleSize")||0:0)},Em(s.getModel("itemStyle"),l));d(i.ensureState("select"),{x:h,y:p,shape:Em(o.getModel(["select","itemStyle"]),l)});d(i.ensureState("blur"),{shape:Em(o.getModel(["blur","itemStyle"]),l)});var y=i.getTextGuideLine();var m=i.getTextContent();y&&d(y.ensureState("select"),{x:h,y:p});d(m.ensureState("select"),{x:h,y:p});ja(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))};r.prototype._updateLabel=function(e,t,r){var a=this;var i=t.getItemModel(r);var n=i.getModel("labelLine");var o=t.getItemVisual(r,"style");var s=o&&o.fill;var l=o&&o.opacity;Qi(a,en(i),{labelFetcher:t.hostModel,labelDataIndex:r,inheritColor:s,defaultOpacity:l,defaultText:e.getFormattedLabel(r,"normal")||t.getName(r)});var u=a.getTextContent();a.setTextConfig({position:null,rotation:null});u.attr({z2:10});var c=e.get(["label","position"]);if(c!=="outside"&&c!=="outer"){a.removeTextGuideLine()}else{var v=this.getTextGuideLine();if(!v){v=new pe;this.setTextGuideLine(v)}hy(this,dy(i),{stroke:s,opacity:O(n.get(["lineStyle","opacity"]),l,1)})}};return r}(fe);var Sx=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.ignoreLabelLineUpdate=true;return e}r.prototype.render=function(e,t,r,a){var i=e.getData();var n=this._data;var o=this.group;var s;if(!n&&i.count()>0){var l=i.getItemLayout(0);for(var u=1;isNaN(l&&l.startAngle)&&u<i.count();++u){l=i.getItemLayout(u)}if(l){s=l.startAngle}}if(this._emptyCircleSector){o.remove(this._emptyCircleSector)}if(i.count()===0&&e.get("showEmptyCircle")){var c=hx(e);var v=new fe({shape:d(vx(e,r),c)});v.useStyle(e.getModel("emptyCircleStyle").getItemStyle());this._emptyCircleSector=v;o.add(v)}i.diff(n).add((function(e){var t=new bx(i,e,s);i.setItemGraphicEl(e,t);o.add(t)})).update((function(e,t){var r=n.getItemGraphicEl(t);r.updateData(i,e,s);r.off("click");o.add(r);i.setItemGraphicEl(e,r)})).remove((function(t){var r=n.getItemGraphicEl(t);di(r,e,t)})).execute();_x(e);if(e.get("animationTypeUpdate")!=="expansion"){this._data=i}};r.prototype.dispose=function(){};r.prototype.containPoint=function(e,t){var r=t.getData();var a=r.getItemLayout(0);if(a){var i=e[0]-a.cx;var n=e[1]-a.cy;var o=Math.sqrt(i*i+n*n);return o<=a.r&&o>=a.r0}};r.type="pie";return r}(_c);function wx(e,t,r){t=n(t)&&{coordDimensions:t}||d({encodeDefine:e.getEncode()},t);var a=e.getSource();var i=pd(a,t).dimensions;var o=new hd(i,e);o.initData(a,r);return o}var Mx=function(){function e(e,t){this._getDataWithEncodedVisual=e;this._getRawData=t}e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)};e.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0};e.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)};e.prototype.getItemVisual=function(e,t){var r=this._getDataWithEncodedVisual();return r.getItemVisual(e,t)};return e}();var Ix=gr();var Dx=function(t){e(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}r.prototype.init=function(e){t.prototype.init.apply(this,arguments);this.legendVisualProvider=new Mx(a.bind(this.getData,this),a.bind(this.getRawData,this));this._defaultLabelLine(e)};r.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)};r.prototype.getInitialData=function(){return wx(this,{coordDimensions:["value"],encodeDefaulter:a.curry(hs,this)})};r.prototype.getDataParams=function(e){var r=this.getData();var a=Ix(r);var i=a.seats;if(!i){var n=[];r.each(r.mapDimension("value"),(function(e){n.push(e)}));i=a.seats=St(n,r.hostModel.get("percentPrecision"))}var o=t.prototype.getDataParams.call(this,e);o.percent=i[e]||0;o.$vars.push("percent");return o};r.prototype._defaultLabelLine=function(e){qt(e,"labelLine",["show"]);var t=e.labelLine;var r=e.emphasis.labelLine;t.show=t.show&&e.label.show;r.show=r.show&&e.emphasis.label.show};r.type="series.pie";r.defaultOption={z:2,legendHoverLink:true,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:true,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:true,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:true,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:true,length:15,length2:15,smooth:false,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:true,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:true},emphasis:{scale:true,scaleSize:5},avoidLabelOverlap:true,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"};return r}(sc);function Tx(e){return{seriesType:e,reset:function(e,t){var r=e.getData();r.filterSelf((function(e){var t=r.mapDimension("value");var a=r.get(t,e);if(c(a)&&!isNaN(a)&&a<0){return false}return true}))}}}function Cx(e){e.registerChartView(Sx);e.registerSeriesModel(Dx);xv("pie",e.registerAction);e.registerLayout(N(fx,"pie"));e.registerProcessor(dx("pie"));e.registerProcessor(Tx("pie"))}var Ax=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.hasSymbolVisual=true;return e}r.prototype.getInitialData=function(e,t){return Ad(null,this,{useEncodeDefaulter:true})};r.prototype.getProgressive=function(){var e=this.option.progressive;if(e==null){return this.option.large?5e3:this.get("progressive")}return e};r.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;if(e==null){return this.option.large?1e4:this.get("progressiveThreshold")}return e};r.prototype.brushSelector=function(e,t,r){return r.point(t.getItemLayout(e))};r.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""};r.type="series.scatter";r.dependencies=["grid","polar","geo","singleAxis","calendar"];r.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:true,symbolSize:10,large:false,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:true},clip:true,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}};return r}(sc);var Lx=4;var kx=function(){function e(){}return e}();var Px=function(t){e(r,t);function r(e){var r=t.call(this,e)||this;r._off=0;r.hoverDataIdx=-1;return r}r.prototype.getDefaultShape=function(){return new kx};r.prototype.reset=function(){this.notClear=false;this._off=0};r.prototype.buildPath=function(e,t){var r=t.points;var a=t.size;var i=this.symbolProxy;var n=i.shape;var o=e.getContext?e.getContext():e;var s=o&&a[0]<Lx;var l=this.softClipShape;var u;if(s){this._ctx=o;return}this._ctx=null;for(u=this._off;u<r.length;){var c=r[u++];var v=r[u++];if(isNaN(c)||isNaN(v)){continue}if(l&&!l.contain(c,v)){continue}n.x=c-a[0]/2;n.y=v-a[1]/2;n.width=a[0];n.height=a[1];i.buildPath(e,n,true)}if(this.incremental){this._off=u;this.notClear=true}};r.prototype.afterBrush=function(){var e=this.shape;var t=e.points;var r=e.size;var a=this._ctx;var i=this.softClipShape;var n;if(!a){return}for(n=this._off;n<t.length;){var o=t[n++];var s=t[n++];if(isNaN(o)||isNaN(s)){continue}if(i&&!i.contain(o,s)){continue}a.fillRect(o-r[0]/2,s-r[1]/2,r[0],r[1])}if(this.incremental){this._off=n;this.notClear=true}};r.prototype.findDataIndex=function(e,t){var r=this.shape;var a=r.points;var i=r.size;var n=Math.max(i[0],4);var o=Math.max(i[1],4);for(var s=a.length/2-1;s>=0;s--){var l=s*2;var u=a[l]-n/2;var c=a[l+1]-o/2;if(e>=u&&t>=c&&e<=u+n&&t<=c+o){return s}}return-1};r.prototype.contain=function(e,t){var r=this.transformCoordToLocal(e,t);var a=this.getBoundingRect();e=r[0];t=r[1];if(a.contain(e,t)){var i=this.hoverDataIdx=this.findDataIndex(e,t);return i>=0}this.hoverDataIdx=-1;return false};r.prototype.getBoundingRect=function(){var e=this._rect;if(!e){var t=this.shape;var r=t.points;var a=t.size;var i=a[0];var n=a[1];var o=Infinity;var s=Infinity;var l=-Infinity;var u=-Infinity;for(var c=0;c<r.length;){var v=r[c++];var f=r[c++];o=Math.min(v,o);l=Math.max(v,l);s=Math.min(f,s);u=Math.max(f,u)}e=this._rect=new we(o-i/2,s-n/2,l-o+i,u-s+n)}return e};return r}(Q);var Nx=function(){function e(){this.group=new ue}e.prototype.updateData=function(e,t){this._clear();var r=this._create();r.setShape({points:e.getLayout("points")});this._setCommon(r,e,t)};e.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild((function(e){if(e.startIndex!=null){var r=(e.endIndex-e.startIndex)*2;var a=e.startIndex*4*2;t=new Float32Array(t.buffer,a,r)}e.setShape("points",t);e.reset()}))};e.prototype.incrementalPrepareUpdate=function(e){this._clear()};e.prototype.incrementalUpdate=function(e,t,r){var a=this._newAdded[0];var i=t.getLayout("points");var n=a&&a.shape.points;if(n&&n.length<2e4){var o=n.length;var s=new Float32Array(o+i.length);s.set(n);s.set(i,o);a.endIndex=e.end;a.setShape({points:s})}else{this._newAdded=[];var l=this._create();l.startIndex=e.start;l.endIndex=e.end;l.incremental=true;l.setShape({points:i});this._setCommon(l,t,r)}};e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])};e.prototype._create=function(){var e=new Px({cursor:"default"});e.ignoreCoarsePointer=true;this.group.add(e);this._newAdded.push(e);return e};e.prototype._setCommon=function(e,t,r){var a=t.hostModel;r=r||{};var i=t.getVisual("symbolSize");e.setShape("size",i instanceof Array?i:[i,i]);e.softClipShape=r.clipShape||null;e.symbolProxy=Pv(t.getVisual("symbol"),0,0,0,0);e.setColor=e.symbolProxy.setColor;var n=e.shape.size[0]<Lx;e.useStyle(a.getModel("itemStyle").getItemStyle(n?["color","shadowBlur","shadowColor"]:["color"]));var o=t.getVisual("style");var s=o&&o.fill;if(s){e.setColor(s)}var l=Xr(e);l.seriesIndex=a.seriesIndex;e.on("mousemove",(function(t){l.dataIndex=null;var r=e.hoverDataIdx;if(r>=0){l.dataIndex=r+(e.startIndex||0)}}))};e.prototype.remove=function(){this._clear()};e.prototype._clear=function(){this._newAdded=[];this.group.removeAll()};return e}();var Ox=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.render=function(e,t,r){var a=e.getData();var i=this._updateSymbolDraw(a,e);i.updateData(a,{clipShape:this._getClipShape(e)});this._finished=true};r.prototype.incrementalPrepareRender=function(e,t,r){var a=e.getData();var i=this._updateSymbolDraw(a,e);i.incrementalPrepareUpdate(a);this._finished=false};r.prototype.incrementalRender=function(e,t,r){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)});this._finished=e.end===t.getData().count()};r.prototype.updateTransform=function(e,t,r){var a=e.getData();this.group.dirty();if(!this._finished||a.count()>1e4){return{update:true}}else{var i=wm("").reset(e,t,r);if(i.progress){i.progress({start:0,end:a.count(),count:a.count()},a)}this._symbolDraw.updateLayout(a)}};r.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)};r.prototype._getClipShape=function(e){if(!e.get("clip",true)){return}var t=e.coordinateSystem;return t&&t.getArea&&t.getArea(.1)};r.prototype._updateSymbolDraw=function(e,t){var r=this._symbolDraw;var a=t.pipelineContext;var i=a.large;if(!r||i!==this._isLargeDraw){r&&r.remove();r=this._symbolDraw=i?new Nx:new Fy;this._isLargeDraw=i;this.group.removeAll()}this.group.add(r.group);return r};r.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(true);this._symbolDraw=null};r.prototype.dispose=function(){};r.type="scatter";return r}(_c);var Rx=function(t){e(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}r.type="grid";r.dependencies=["xAxis","yAxis"];r.layoutMode="box";r.defaultOption={show:false,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:false,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"};return r}(qo);var Ex=function(t){e(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}r.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",_r).models[0]};r.type="cartesian2dAxis";return r}(qo);a.mixin(Ex,Kp);var zx={show:true,z:0,inverse:false,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:false,triggerEvent:false,tooltip:{show:false},axisPointer:{},axisLine:{show:true,onZero:true,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:true,inside:false,length:5,lineStyle:{width:1}},axisLabel:{show:true,inside:false,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:true,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}};var Vx=a.merge({boundaryGap:true,deduplication:null,splitLine:{show:false},axisTick:{alignWithLabel:false,interval:"auto"},axisLabel:{interval:"auto"}},zx);var Bx=a.merge({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:false,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:false,lineStyle:{color:"#F4F7FD",width:1}}},zx);var Gx=a.merge({splitNumber:6,axisLabel:{showMinLabel:false,showMaxLabel:false,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:false}},Bx);var Fx=a.defaults({logBase:10},Bx);var Hx={category:Vx,value:Bx,time:Gx,log:Fx};var Wx={value:1,category:1,time:1,log:1};function Ux(t,r,a,i){s(Wx,(function(n,o){var s=S(S({},Hx[o],true),i,true);var l=function(t){e(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r+"Axis."+o;return e}a.prototype.mergeDefaultAndTheme=function(e,t){var r=Uo(this);var a=r?Xo(e):{};var i=t.getTheme();S(e,i.get(o+"Axis"));S(e,this.getDefaultOption());e.type=Yx(e);if(r){Yo(e,a,r)}};a.prototype.optionUpdated=function(){var e=this.option;if(e.type==="category"){this.__ordinalMeta=Od.createByAxisModel(this)}};a.prototype.getCategories=function(e){var t=this.option;if(t.type==="category"){if(e){return t.data}return this.__ordinalMeta.categories}};a.prototype.getOrdinalMeta=function(){return this.__ordinalMeta};a.type=r+"Axis."+o;a.defaultOption=s;return a}(a);t.registerComponentModel(l)}));t.registerSubTypeDefaulter(r+"Axis",Yx)}function Yx(e){return e.type||(e.data?"category":"value")}var Xx=function(){function e(e){this.type="cartesian";this._dimList=[];this._axes={};this.name=e||""}e.prototype.getAxis=function(e){return this._axes[e]};e.prototype.getAxes=function(){return a.map(this._dimList,(function(e){return this._axes[e]}),this)};e.prototype.getAxesByScale=function(e){e=e.toLowerCase();return a.filter(this.getAxes(),(function(t){return t.scale.type===e}))};e.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e;this._dimList.push(t)};return e}();var Zx=["x","y"];function jx(e){return e.type==="interval"||e.type==="time"}var qx=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type="cartesian2d";e.dimensions=Zx;return e}r.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale;var t=this.getAxis("y").scale;if(!jx(e)||!jx(t)){return}var r=e.getExtent();var a=t.getExtent();var i=this.dataToPoint([r[0],a[0]]);var n=this.dataToPoint([r[1],a[1]]);var o=r[1]-r[0];var s=a[1]-a[0];if(!o||!s){return}var l=(n[0]-i[0])/o;var u=(n[1]-i[1])/s;var c=i[0]-r[0]*l;var v=i[1]-a[0]*u;var f=this._transform=[l,0,0,u,c,v];this._invTransform=ae([],f)};r.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")};r.prototype.containPoint=function(e){var t=this.getAxis("x");var r=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&r.contain(r.toLocalCoord(e[1]))};r.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])};r.prototype.containZone=function(e,t){var r=this.dataToPoint(e);var a=this.dataToPoint(t);var i=this.getArea();var n=new we(r[0],r[1],a[0]-r[0],a[1]-r[1]);return i.intersect(n)};r.prototype.dataToPoint=function(e,t,r){r=r||[];var a=e[0];var i=e[1];if(this._transform&&a!=null&&isFinite(a)&&i!=null&&isFinite(i)){return ne(r,e,this._transform)}var n=this.getAxis("x");var o=this.getAxis("y");r[0]=n.toGlobalCoord(n.dataToCoord(a,t));r[1]=o.toGlobalCoord(o.dataToCoord(i,t));return r};r.prototype.clampData=function(e,t){var r=this.getAxis("x").scale;var a=this.getAxis("y").scale;var i=r.getExtent();var n=a.getExtent();var o=r.parse(e[0]);var s=a.parse(e[1]);t=t||[];t[0]=Math.min(Math.max(Math.min(i[0],i[1]),o),Math.max(i[0],i[1]));t[1]=Math.min(Math.max(Math.min(n[0],n[1]),s),Math.max(n[0],n[1]));return t};r.prototype.pointToData=function(e,t){var r=[];if(this._invTransform){return ne(r,e,this._invTransform)}var a=this.getAxis("x");var i=this.getAxis("y");r[0]=a.coordToData(a.toLocalCoord(e[0]),t);r[1]=i.coordToData(i.toLocalCoord(e[1]),t);return r};r.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")};r.prototype.getArea=function(e){e=e||0;var t=this.getAxis("x").getGlobalExtent();var r=this.getAxis("y").getGlobalExtent();var a=Math.min(t[0],t[1])-e;var i=Math.min(r[0],r[1])-e;var n=Math.max(t[0],t[1])-a+e;var o=Math.max(r[0],r[1])-i+e;return new we(a,i,n,o)};return r}(Xx);var Kx=function(t){e(r,t);function r(e,r,a,i,n){var o=t.call(this,e,r,a)||this;o.index=0;o.type=i||"value";o.position=n||"bottom";return o}r.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"};r.prototype.getGlobalExtent=function(e){var t=this.getExtent();t[0]=this.toGlobalCoord(t[0]);t[1]=this.toGlobalCoord(t[1]);e&&t[0]>t[1]&&t.reverse();return t};r.prototype.pointToData=function(e,t){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),t)};r.prototype.setCategorySortInfo=function(e){if(this.type!=="category"){return false}this.model.option.categorySortInfo=e;this.scale.setSortInfo(e)};return r}(Vg);function Jx(e,t,r){r=r||{};var i=e.coordinateSystem;var n=t.axis;var o={};var s=n.getAxesOnZeroOf()[0];var l=n.position;var u=s?"onZero":l;var c=n.dim;var v=i.getRect();var f=[v.x,v.x+v.width,v.y,v.y+v.height];var h={left:0,right:1,top:0,bottom:1,onZero:2};var d=t.get("offset")||0;var p=c==="x"?[f[2]-d,f[3]+d]:[f[0]-d,f[1]+d];if(s){var g=s.toGlobalCoord(s.dataToCoord(0));p[h.onZero]=Math.max(Math.min(g,p[1]),p[0])}o.position=[c==="y"?p[h[u]]:f[0],c==="x"?p[h[u]]:f[3]];o.rotation=Math.PI/2*(c==="x"?0:1);var y={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=y[l];o.labelOffset=s?p[h[l]]-p[h.onZero]:0;if(t.get(["axisTick","inside"])){o.tickDirection=-o.tickDirection}if(a.retrieve(r.labelInside,t.get(["axisLabel","inside"]))){o.labelDirection=-o.labelDirection}var m=t.get(["axisLabel","rotate"]);o.labelRotate=u==="top"?-m:m;o.z2=1;return o}function $x(e){return e.get("coordinateSystem")==="cartesian2d"}function Qx(e){var t={xAxisModel:null,yAxisModel:null};a.each(t,(function(r,a){var i=a.replace(/Model$/,"");var n=e.getReferringComponents(i,_r).models[0];t[a]=n}));return t}var e_=Math.log;function t_(e,t,r){var a=Zd.prototype;var i=a.getTicks.call(r);var n=a.getTicks.call(r,true);var o=i.length-1;var s=a.getInterval.call(r);var l=zp(e,t);var u=l.extent;var c=l.fixMin;var v=l.fixMax;if(e.type==="log"){var f=e_(e.base);u=[e_(u[0])/f,e_(u[1])/f]}e.setExtent(u[0],u[1]);e.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:v});var h=a.getExtent.call(e);if(c){u[0]=h[0]}if(v){u[1]=h[1]}var d=a.getInterval.call(e);var p=u[0];var g=u[1];if(c&&v){d=(g-p)/o}else if(c){g=u[0]+d*o;while(g<u[1]&&isFinite(g)&&isFinite(u[1])){d=Vd(d);g=u[0]+d*o}}else if(v){p=u[1]-d*o;while(p>u[0]&&isFinite(p)&&isFinite(u[0])){d=Vd(d);p=u[1]-d*o}}else{var y=e.getTicks().length-1;if(y>o){d=Vd(d)}var m=d*o;g=Math.ceil(u[1]/d)*d;p=gt(g-m);if(p<0&&u[0]>=0){p=0;g=gt(m)}else if(g>0&&u[1]<=0){g=0;p=-gt(m)}}var x=(i[0].value-n[0].value)/s;var _=(i[o].value-n[o].value)/s;a.setExtent.call(e,p+d*x,g+d*_);a.setInterval.call(e,d);if(x||_){a.setNiceExtent.call(e,p+d,g-d)}}var r_=function(){function e(e,t,r){this.type="grid";this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this.axisPointerEnabled=true;this.dimensions=Zx;this._initCartesian(e,t,r);this.model=e}e.prototype.getRect=function(){return this._rect};e.prototype.update=function(e,t){var r=this._axesMap;this._updateScale(e,this.model);function a(e){var t;var r=g(e);var a=r.length;if(!a){return}var i=[];for(var n=a-1;n>=0;n--){var o=+r[n];var l=e[o];var u=l.model;var c=l.scale;if(Ed(c)&&u.get("alignTicks")&&u.get("interval")==null){i.push(l)}else{Bp(c,u);if(Ed(c)){t=l}}}if(i.length){if(!t){t=i.pop();Bp(t.scale,t.model)}s(i,(function(e){t_(e.scale,e.model,t.scale)}))}}a(r.x);a(r.y);var i={};s(r.x,(function(e){i_(r,"y",e,i)}));s(r.y,(function(e){i_(r,"x",e,i)}));this.resize(this.model,t)};e.prototype.resize=function(e,t,r){var a=e.getBoxLayoutParams();var i=!r&&e.get("containLabel");var n=Fo(a,{width:t.getWidth(),height:t.getHeight()});this._rect=n;var o=this._axesList;l();if(i){s(o,(function(e){if(!e.model.get(["axisLabel","inside"])){var t=Up(e);if(t){var r=e.isHorizontal()?"height":"width";var a=e.model.get(["axisLabel","margin"]);n[r]-=t[r]+a;if(e.position==="top"){n.y+=t.height+a}else if(e.position==="left"){n.x+=t.width+a}}}}));l()}s(this._coordsList,(function(e){e.calcAffineTransform()}));function l(){s(o,(function(e){var t=e.isHorizontal();var r=t?[0,n.width]:[0,n.height];var a=e.inverse?1:0;e.setExtent(r[a],r[1-a]);o_(e,t?n.x:n.y)}))}};e.prototype.getAxis=function(e,t){var r=this._axesMap[e];if(r!=null){return r[t||0]}};e.prototype.getAxes=function(){return this._axesList.slice()};e.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var r="x"+e+"y"+t;return this._coordsMap[r]}if(i(e)){t=e.yAxisIndex;e=e.xAxisIndex}for(var a=0,n=this._coordsList;a<n.length;a++){if(n[a].getAxis("x").index===e||n[a].getAxis("y").index===t){return n[a]}}};e.prototype.getCartesians=function(){return this._coordsList.slice()};e.prototype.convertToPixel=function(e,t,r){var a=this._findConvertTarget(t);return a.cartesian?a.cartesian.dataToPoint(r):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(r)):null};e.prototype.convertFromPixel=function(e,t,r){var a=this._findConvertTarget(t);return a.cartesian?a.cartesian.pointToData(r):a.axis?a.axis.coordToData(a.axis.toLocalCoord(r)):null};e.prototype._findConvertTarget=function(e){var t=e.seriesModel;var r=e.xAxisModel||t&&t.getReferringComponents("xAxis",_r).models[0];var a=e.yAxisModel||t&&t.getReferringComponents("yAxis",_r).models[0];var i=e.gridModel;var n=this._coordsList;var o;var s;if(t){o=t.coordinateSystem;h(n,o)<0&&(o=null)}else if(r&&a){o=this.getCartesian(r.componentIndex,a.componentIndex)}else if(r){s=this.getAxis("x",r.componentIndex)}else if(a){s=this.getAxis("y",a.componentIndex)}else if(i){var l=i.coordinateSystem;if(l===this){o=this._coordsList[0]}}return{cartesian:o,axis:s}};e.prototype.containPoint=function(e){var t=this._coordsList[0];if(t){return t.containPoint(e)}};e.prototype._initCartesian=function(e,t,r){var a=this;var i=this;var n={left:false,right:false,top:false,bottom:false};var o={x:{},y:{}};var l={x:0,y:0};t.eachComponent("xAxis",u("x"),this);t.eachComponent("yAxis",u("y"),this);if(!l.x||!l.y){this._axesMap={};this._axesList=[];return}this._axesMap=o;s(o.x,(function(t,r){s(o.y,(function(i,n){var o="x"+r+"y"+n;var s=new qx(o);s.master=a;s.model=e;a._coordsMap[o]=s;a._coordsList.push(s);s.addAxis(t);s.addAxis(i)}))}));function u(t){return function(r,a){if(!a_(r,e)){return}var s=r.get("position");if(t==="x"){if(s!=="top"&&s!=="bottom"){s=n.bottom?"top":"bottom"}}else{if(s!=="left"&&s!=="right"){s=n.left?"right":"left"}}n[s]=true;var u=new Kx(t,Gp(r),[0,0],r.get("type"),s);var c=u.type==="category";u.onBand=c&&r.get("boundaryGap");u.inverse=r.get("inverse");r.axis=u;u.model=r;u.grid=i;u.index=a;i._axesList.push(u);o[t][a]=u;l[t]++}}};e.prototype._updateScale=function(e,t){s(this._axesList,(function(e){e.scale.setExtent(Infinity,-Infinity);if(e.type==="category"){var t=e.model.get("categorySortInfo");e.scale.setSortInfo(t)}}));e.eachSeries((function(e){if($x(e)){var a=Qx(e);var i=a.xAxisModel;var n=a.yAxisModel;if(!a_(i,t)||!a_(n,t)){return}var o=this.getCartesian(i.componentIndex,n.componentIndex);var s=e.getData();var l=o.getAxis("x");var u=o.getAxis("y");r(s,l);r(s,u)}}),this);function r(e,t){s(jp(e,t.dim),(function(r){t.scale.unionExtentFromData(e,r)}))}};e.prototype.getTooltipAxes=function(e){var t=[];var r=[];s(this.getCartesians(),(function(a){var i=e!=null&&e!=="auto"?a.getAxis(e):a.getBaseAxis();var n=a.getOtherAxis(i);h(t,i)<0&&t.push(i);h(r,n)<0&&r.push(n)}));return{baseAxes:t,otherAxes:r}};e.create=function(t,r){var a=[];t.eachComponent("grid",(function(i,n){var o=new e(i,t,r);o.name="grid_"+n;o.resize(i,r,true);i.coordinateSystem=o;a.push(o)}));t.eachSeries((function(e){if(!$x(e)){return}var t=Qx(e);var r=t.xAxisModel;var a=t.yAxisModel;var i=r.getCoordSysModel();var n=i.coordinateSystem;e.coordinateSystem=n.getCartesian(r.componentIndex,a.componentIndex)}));return a};e.dimensions=Zx;return e}();function a_(e,t){return e.getCoordSysModel()===t}function i_(e,t,r,a){r.getAxesOnZeroOf=function(){return n?[n]:[]};var i=e[t];var n;var o=r.model;var s=o.get(["axisLine","onZero"]);var l=o.get(["axisLine","onZeroAxisIndex"]);if(!s){return}if(l!=null){if(n_(i[l])){n=i[l]}}else{for(var u in i){if(i.hasOwnProperty(u)&&n_(i[u])&&!a[c(i[u])]){n=i[u];break}}}if(n){a[c(n)]=true}function c(e){return e.dim+"_"+e.index}}function n_(e){return e&&e.type!=="category"&&e.type!=="time"&&Fp(e)}function o_(e,t){var r=e.getExtent();var a=r[0]+r[1];e.toGlobalCoord=e.dim==="x"?function(e){return e+t}:function(e){return a-e+t};e.toLocalCoord=e.dim==="x"?function(e){return e-t}:function(e){return a-e+t}}var s_=Math.PI;var l_=function(){function e(e,t){this.group=new ue;this.opt=t;this.axisModel=e;x(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:true,handleAutoShown:function(){return true}});var r=new ue({x:t.position[0],y:t.position[1],rotation:t.rotation});r.updateTransform();this._transformGroup=r}e.prototype.hasBuilder=function(e){return!!u_[e]};e.prototype.add=function(e){u_[e](this.opt,this.axisModel,this.group,this._transformGroup)};e.prototype.getGroup=function(){return this.group};e.innerTextLayout=function(e,t,r){var a=It(t-e);var i;var n;if(Dt(a)){n=r>0?"top":"bottom";i="center"}else if(Dt(a-s_)){n=r>0?"bottom":"top";i="center"}else{n="middle";if(a>0&&a<s_){i=r>0?"right":"left"}else{i=r>0?"left":"right"}}return{rotation:a,textAlign:i,textVerticalAlign:n}};e.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};t[e.mainType+"Index"]=e.componentIndex;return t};e.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)};return e}();var u_={axisLine:function(e,t,r,a){var i=t.get(["axisLine","show"]);if(i==="auto"&&e.handleAutoShown){i=e.handleAutoShown("axisLine")}if(!i){return}var n=t.axis.getExtent();var o=a.transform;var l=[n[0],0];var v=[n[1],0];var f=l[0]>v[0];if(o){ne(l,l,o);ne(v,v,o)}var h=d({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle());var p=new ye({shape:{x1:l[0],y1:l[1],x2:v[0],y2:v[1]},style:h,strokeContainThreshold:e.strokeContainThreshold||5,silent:true,z2:1});Li(p.shape,p.style.lineWidth);p.anid="line";r.add(p);var g=t.get(["axisLine","symbol"]);if(g!=null){var y=t.get(["axisLine","symbolSize"]);if(u(g)){g=[g,g]}if(u(y)||c(y)){y=[y,y]}var m=Ov(t.get(["axisLine","symbolOffset"])||0,y);var x=y[0];var _=y[1];s([{rotate:e.rotation+Math.PI/2,offset:m[0],r:0},{rotate:e.rotation-Math.PI/2,offset:m[1],r:Math.sqrt((l[0]-v[0])*(l[0]-v[0])+(l[1]-v[1])*(l[1]-v[1]))}],(function(t,a){if(g[a]!=="none"&&g[a]!=null){var i=Pv(g[a],-x/2,-_/2,x,_,h.stroke,true);var n=t.r+t.offset;var o=f?v:l;i.attr({rotation:t.rotate,x:o[0]+n*Math.cos(e.rotation),y:o[1]-n*Math.sin(e.rotation),silent:true,z2:11});r.add(i)}}))}},axisTickLabel:function(e,t,r,a){var i=g_(r,a,t,e);var n=m_(r,a,t,e);v_(t,n,i);y_(r,a,t,e.tickDirection);if(t.get(["axisLabel","hideOverlap"])){var o=py(f(n,(function(e){return{label:e,priority:e.z2,defaultAttr:{ignore:e.ignore}}})));xy(o)}},axisName:function(e,t,r,a){var i=R(e.axisName,t.get("name"));if(!i){return}var n=t.get("nameLocation");var o=e.nameDirection;var s=t.getModel("nameTextStyle");var l=t.get("nameGap")||0;var u=t.axis.getExtent();var c=u[0]>u[1]?-1:1;var v=[n==="start"?u[0]-c*l:n==="end"?u[1]+c*l:(u[0]+u[1])/2,d_(n)?e.labelOffset+o*l:0];var f;var h=t.get("nameRotate");if(h!=null){h=h*s_/180}var d;if(d_(n)){f=l_.innerTextLayout(e.rotation,h!=null?h:e.rotation,o)}else{f=c_(e.rotation,n,h||0,u);d=e.axisNameAvailableWidth;if(d!=null){d=Math.abs(d/Math.sin(f.rotation));!isFinite(d)&&(d=null)}}var p=s.getFont();var g=t.get("nameTruncate",true)||{};var y=g.ellipsis;var m=R(e.nameTruncateMaxWidth,g.maxWidth,d);var x=new U({x:v[0],y:v[1],rotation:f.rotation,silent:l_.isLabelSilent(t),style:tn(s,{text:i,font:p,overflow:"truncate",width:m,ellipsis:y,fill:s.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:s.get("align")||f.textAlign,verticalAlign:s.get("verticalAlign")||f.textVerticalAlign}),z2:1});Xi({el:x,componentModel:t,itemName:i});x.__fullText=i;x.anid="name";if(t.get("triggerEvent")){var _=l_.makeAxisEventDataBase(t);_.targetType="axisName";_.name=i;Xr(x).eventData=_}a.add(x);x.updateTransform();r.add(x);x.decomposeTransform()}};function c_(e,t,r,a){var i=It(r-e);var n;var o;var s=a[0]>a[1];var l=t==="start"&&!s||t!=="start"&&s;if(Dt(i-s_/2)){o=l?"bottom":"top";n="center"}else if(Dt(i-s_*1.5)){o=l?"top":"bottom";n="center"}else{o="middle";if(i<s_*1.5&&i>s_/2){n=l?"left":"right"}else{n=l?"right":"left"}}return{rotation:i,textAlign:n,textVerticalAlign:o}}function v_(e,t,r){if(Zp(e.axis)){return}var a=e.get(["axisLabel","showMinLabel"]);var i=e.get(["axisLabel","showMaxLabel"]);t=t||[];r=r||[];var n=t[0];var o=t[1];var s=t[t.length-1];var l=t[t.length-2];var u=r[0];var c=r[1];var v=r[r.length-1];var f=r[r.length-2];if(a===false){f_(n);f_(u)}else if(h_(n,o)){if(a){f_(o);f_(c)}else{f_(n);f_(u)}}if(i===false){f_(s);f_(v)}else if(h_(l,s)){if(i){f_(l);f_(f)}else{f_(s);f_(v)}}}function f_(e){e&&(e.ignore=true)}function h_(e,t){var r=e&&e.getBoundingRect().clone();var a=t&&t.getBoundingRect().clone();if(!r||!a){return}var i=re.identity([]);re.rotate(i,i,-e.rotation);r.applyTransform(re.mul([],i,e.getLocalTransform()));a.applyTransform(re.mul([],i,t.getLocalTransform()));return r.intersect(a)}function d_(e){return e==="middle"||e==="center"}function p_(e,t,r,a,i){var n=[];var o=[];var s=[];for(var l=0;l<e.length;l++){var u=e[l].coord;o[0]=u;o[1]=0;s[0]=u;s[1]=r;if(t){ne(o,o,t);ne(s,s,t)}var c=new ye({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:a,z2:2,autoBatch:true,silent:true});Li(c.shape,c.style.lineWidth);c.anid=i+"_"+e[l].tickValue;n.push(c)}return n}function g_(e,t,r,a){var i=r.axis;var n=r.getModel("axisTick");var o=n.get("show");if(o==="auto"&&a.handleAutoShown){o=a.handleAutoShown("axisTick")}if(!o||i.scale.isBlank()){return}var s=n.getModel("lineStyle");var l=a.tickDirection*n.get("length");var u=i.getTicksCoords();var c=p_(u,t.transform,l,x(s.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks");for(var v=0;v<c.length;v++){e.add(c[v])}return c}function y_(e,t,r,a){var i=r.axis;var n=r.getModel("minorTick");if(!n.get("show")||i.scale.isBlank()){return}var o=i.getMinorTicksCoords();if(!o.length){return}var s=n.getModel("lineStyle");var l=a*n.get("length");var u=x(s.getLineStyle(),x(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}));for(var c=0;c<o.length;c++){var v=p_(o[c],t.transform,l,u,"minorticks_"+c);for(var f=0;f<v.length;f++){e.add(v[f])}}}function m_(e,t,r,a){var n=r.axis;var o=R(a.axisLabelShow,r.get(["axisLabel","show"]));if(!o||n.scale.isBlank()){return}var l=r.getModel("axisLabel");var u=l.get("margin");var c=n.getViewLabels();var v=(R(a.labelRotate,l.get("rotate"))||0)*s_/180;var f=l_.innerTextLayout(a.rotation,v,a.labelDirection);var h=r.getCategories&&r.getCategories(true);var d=[];var p=l_.isLabelSilent(r);var g=r.get("triggerEvent");s(c,(function(o,s){var v=n.scale.type==="ordinal"?n.scale.getRawOrdinalNumber(o.tickValue):o.tickValue;var x=o.formattedLabel;var _=o.rawLabel;var b=l;if(h&&h[v]){var S=h[v];if(i(S)&&S.textStyle){b=new Mn(S.textStyle,l,r.ecModel)}}var w=b.getTextColor()||r.get(["axisLine","lineStyle","color"]);var M=n.dataToCoord(v);var I=b.getShallow("align",true)||f.textAlign;var D=y(b.getShallow("alignMinLabel",true),I);var T=y(b.getShallow("alignMaxLabel",true),I);var C=b.getShallow("verticalAlign",true)||b.getShallow("baseline",true)||f.textVerticalAlign;var A=y(b.getShallow("verticalAlignMinLabel",true),C);var L=y(b.getShallow("verticalAlignMaxLabel",true),C);var k=new U({x:M,y:a.labelOffset+a.labelDirection*u,rotation:f.rotation,silent:p,z2:10+(o.level||0),style:tn(b,{text:x,align:s===0?D:s===c.length-1?T:I,verticalAlign:s===0?A:s===c.length-1?L:C,fill:m(w)?w(n.type==="category"?_:n.type==="value"?v+"":v,s):w})});k.anid="label_"+v;if(g){var P=l_.makeAxisEventDataBase(r);P.targetType="axisLabel";P.value=_;P.tickIndex=s;if(n.type==="category"){P.dataIndex=v}Xr(k).eventData=P}t.add(k);k.updateTransform();d.push(k);e.add(k);k.decomposeTransform()}));return d}function x_(e,t){var r={axesInfo:{},seriesInvolved:false,coordSysAxesInfo:{},coordSysMap:{}};__(r,e,t);r.seriesInvolved&&S_(r,e);return r}function __(e,t,r){var a=t.getComponent("tooltip");var i=t.getComponent("axisPointer");var n=i.get("link",true)||[];var o=[];s(r.getCoordinateSystems(),(function(r){if(!r.axisPointerEnabled){return}var l=A_(r.model);var u=e.coordSysAxesInfo[l]={};e.coordSysMap[l]=r;var c=r.model;var v=c.getModel("tooltip",a);s(r.getAxes(),N(p,false,null));if(r.getTooltipAxes&&a&&v.get("show")){var f=v.get("trigger")==="axis";var h=v.get(["axisPointer","type"])==="cross";var d=r.getTooltipAxes(v.get(["axisPointer","axis"]));if(f||h){s(d.baseAxes,N(p,h?"cross":true,f))}if(h){s(d.otherAxes,N(p,"cross",false))}}function p(a,s,l){var c=l.model.getModel("axisPointer",i);var f=c.get("show");if(!f||f==="auto"&&!a&&!C_(c)){return}if(s==null){s=c.get("triggerTooltip")}c=a?b_(l,v,i,t,a,s):c;var h=c.get("snap");var d=c.get("triggerEmphasis");var p=A_(l.model);var g=s||h||l.type==="category";var y=e.axesInfo[p]={key:p,axis:l,coordSys:r,axisPointerModel:c,triggerTooltip:s,triggerEmphasis:d,involveSeries:g,snap:h,useHandle:C_(c),seriesModels:[],linkGroup:null};u[p]=y;e.seriesInvolved=e.seriesInvolved||g;var m=w_(n,l);if(m!=null){var x=o[m]||(o[m]={axesInfo:{}});x.axesInfo[p]=y;x.mapper=n[m].mapper;y.linkGroup=x}}}))}function b_(e,t,r,a,i,n){var o=t.getModel("axisPointer");var l=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"];var u={};s(l,(function(e){u[e]=w(o.get(e))}));u.snap=e.type!=="category"&&!!n;if(o.get("type")==="cross"){u.type="line"}var c=u.label||(u.label={});c.show==null&&(c.show=false);if(i==="cross"){var v=o.get(["label","show"]);c.show=v!=null?v:true;if(!n){var f=u.lineStyle=o.get("crossStyle");f&&x(c,f.textStyle)}}return e.model.getModel("axisPointer",new Mn(u,r,a))}function S_(e,t){t.eachSeries((function(t){var r=t.coordinateSystem;var a=t.get(["tooltip","trigger"],true);var i=t.get(["tooltip","show"],true);if(!r||a==="none"||a===false||a==="item"||i===false||t.get(["axisPointer","show"],true)===false){return}s(e.coordSysAxesInfo[A_(r.model)],(function(e){var a=e.axis;if(r.getAxis(a.dim)===a){e.seriesModels.push(t);e.seriesDataCount==null&&(e.seriesDataCount=0);e.seriesDataCount+=t.getData().count()}}))}))}function w_(e,t){var r=t.model;var a=t.dim;for(var i=0;i<e.length;i++){var n=e[i]||{};if(M_(n[a+"AxisId"],r.id)||M_(n[a+"AxisIndex"],r.componentIndex)||M_(n[a+"AxisName"],r.name)){return i}}}function M_(e,t){return e==="all"||n(e)&&h(e,t)>=0||e===t}function I_(e){var t=D_(e);if(!t){return}var r=t.axisPointerModel;var a=t.axis.scale;var i=r.option;var n=r.get("status");var o=r.get("value");if(o!=null){o=a.parse(o)}var s=C_(r);if(n==null){i.status=s?"show":"hide"}var l=a.getExtent().slice();l[0]>l[1]&&l.reverse();if(o==null||o>l[1]){o=l[1]}if(o<l[0]){o=l[0]}i.value=o;if(s){i.status=t.axis.scale.isBlank()?"hide":"show"}}function D_(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[A_(e)]}function T_(e){var t=D_(e);return t&&t.axisPointerModel}function C_(e){return!!e.get(["handle","show"])}function A_(e){return e.type+"||"+e.id}var L_={};var k_=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.render=function(e,r,a,i){this.axisPointerClass&&I_(e);t.prototype.render.apply(this,arguments);this._doUpdateAxisPointerClass(e,a,true)};r.prototype.updateAxisPointer=function(e,t,r,a){this._doUpdateAxisPointerClass(e,r,false)};r.prototype.remove=function(e,t){var r=this._axisPointer;r&&r.remove(t)};r.prototype.dispose=function(e,r){this._disposeAxisPointer(r);t.prototype.dispose.apply(this,arguments)};r.prototype._doUpdateAxisPointerClass=function(e,t,a){var i=r.getAxisPointerClass(this.axisPointerClass);if(!i){return}var n=T_(e);n?(this._axisPointer||(this._axisPointer=new i)).render(e,n,t,a):this._disposeAxisPointer(t)};r.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e);this._axisPointer=null};r.registerAxisPointerClass=function(e,t){L_[e]=t};r.getAxisPointerClass=function(e){return e&&L_[e]};r.type="axis";return r}(gc);var P_=gr();function N_(e,t,r,i){var n=r.axis;if(n.scale.isBlank()){return}var o=r.getModel("splitArea");var s=o.getModel("areaStyle");var l=s.get("color");var u=i.coordinateSystem.getRect();var c=n.getTicksCoords({tickModel:o,clamp:true});if(!c.length){return}var v=l.length;var f=P_(e).splitAreaColors;var h=a.createHashMap();var d=0;if(f){for(var p=0;p<c.length;p++){var g=f.get(c[p].tickValue);if(g!=null){d=(g+(v-1)*p)%v;break}}}var y=n.toGlobalCoord(c[0].coord);var m=s.getAreaStyle();l=a.isArray(l)?l:[l];for(var p=1;p<c.length;p++){var x=n.toGlobalCoord(c[p].coord);var _=void 0;var b=void 0;var S=void 0;var w=void 0;if(n.isHorizontal()){_=y;b=u.y;S=x-_;w=u.height;y=_+S}else{_=u.x;b=y;S=u.width;w=x-b;y=b+w}var M=c[p-1].tickValue;M!=null&&h.set(M,d);t.add(new ge({anid:M!=null?"area_"+M:null,shape:{x:_,y:b,width:S,height:w},style:a.defaults({fill:l[d]},m),autoBatch:true,silent:true}));d=(d+1)%v}P_(e).splitAreaColors=h}function O_(e){P_(e).splitAreaColors=null}var R_=["axisLine","axisTickLabel","axisName"];var E_=["splitArea","splitLine","minorSplitLine"];var z_=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.axisPointerClass="CartesianAxisPointer";return e}r.prototype.render=function(e,r,i,n){this.group.removeAll();var o=this._axisGroup;this._axisGroup=new ue;this.group.add(this._axisGroup);if(!e.get("show")){return}var s=e.getCoordSysModel();var l=Jx(s,e);var u=new l_(e,a.extend({handleAutoShown:function(t){var r=s.coordinateSystem.getCartesians();for(var a=0;a<r.length;a++){if(Ed(r[a].getOtherAxis(e.axis).scale)){return true}}return false}},l));a.each(R_,u.add,u);this._axisGroup.add(u.getGroup());a.each(E_,(function(t){if(e.get([t,"show"])){V_[t](this,this._axisGroup,e,s)}}),this);var c=n&&n.type==="changeAxisOrder"&&n.isInitSort;if(!c){Vi(o,this._axisGroup,e)}t.prototype.render.call(this,e,r,i,n)};r.prototype.remove=function(){O_(this)};r.type="cartesianAxis";return r}(k_);var V_={splitLine:function(e,t,r,i){var n=r.axis;if(n.scale.isBlank()){return}var o=r.getModel("splitLine");var s=o.getModel("lineStyle");var l=s.get("color");l=a.isArray(l)?l:[l];var u=i.coordinateSystem.getRect();var c=n.isHorizontal();var v=0;var f=n.getTicksCoords({tickModel:o});var h=[];var d=[];var p=s.getLineStyle();for(var g=0;g<f.length;g++){var y=n.toGlobalCoord(f[g].coord);if(c){h[0]=y;h[1]=u.y;d[0]=y;d[1]=u.y+u.height}else{h[0]=u.x;h[1]=y;d[0]=u.x+u.width;d[1]=y}var m=v++%l.length;var x=f[g].tickValue;var _=new ye({anid:x!=null?"line_"+f[g].tickValue:null,autoBatch:true,shape:{x1:h[0],y1:h[1],x2:d[0],y2:d[1]},style:a.defaults({stroke:l[m]},p),silent:true});Li(_.shape,p.lineWidth);t.add(_)}},minorSplitLine:function(e,t,r,a){var i=r.axis;var n=r.getModel("minorSplitLine");var o=n.getModel("lineStyle");var s=a.coordinateSystem.getRect();var l=i.isHorizontal();var u=i.getMinorTicksCoords();if(!u.length){return}var c=[];var v=[];var f=o.getLineStyle();for(var h=0;h<u.length;h++){for(var d=0;d<u[h].length;d++){var p=i.toGlobalCoord(u[h][d].coord);if(l){c[0]=p;c[1]=s.y;v[0]=p;v[1]=s.y+s.height}else{c[0]=s.x;c[1]=p;v[0]=s.x+s.width;v[1]=p}var g=new ye({anid:"minor_line_"+u[h][d].tickValue,autoBatch:true,shape:{x1:c[0],y1:c[1],x2:v[0],y2:v[1]},style:f,silent:true});Li(g.shape,f.lineWidth);t.add(g)}}},splitArea:function(e,t,r,a){N_(e,t,r,a)}};var B_=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.type="xAxis";return r}(z_);var G_=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=B_.type;return e}r.type="yAxis";return r}(z_);var F_=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type="grid";return e}r.prototype.render=function(e,t){this.group.removeAll();if(e.get("show")){this.group.add(new ge({shape:e.coordinateSystem.getRect(),style:x({fill:e.get("backgroundColor")},e.getItemStyle()),silent:true,z2:-1}))}};r.type="grid";return r}(gc);var H_={offset:0};function W_(e){e.registerComponentView(F_);e.registerComponentModel(Rx);e.registerCoordinateSystem("cartesian2d",r_);Ux(e,"x",Ex,H_);Ux(e,"y",Ex,H_);e.registerComponentView(B_);e.registerComponentView(G_);e.registerPreprocessor((function(e){if(e.xAxis&&e.yAxis&&!e.grid){e.grid={}}}))}function U_(e){Eh(W_);e.registerSeriesModel(Ax);e.registerChartView(Ox);e.registerLayout(wm("scatter"))}function Y_(e){e.eachSeriesByType("radar",(function(e){var t=e.getData();var r=[];var i=e.coordinateSystem;if(!i){return}var n=i.getIndicatorAxes();a.each(n,(function(e,a){t.each(t.mapDimension(n[a].dim),(function(e,t){r[t]=r[t]||[];var n=i.dataToPoint(e,a);r[t][a]=X_(n)?n:Z_(i)}))}));t.each((function(e){var n=a.find(r[e],(function(e){return X_(e)}))||Z_(i);r[e].push(n.slice());t.setItemLayout(e,r[e])}))}))}function X_(e){return!isNaN(e[0])&&!isNaN(e[1])}function Z_(e){return[e.cx,e.cy]}function j_(e){var t=e.polar;if(t){if(!a.isArray(t)){t=[t]}var r=[];a.each(t,(function(t,i){if(t.indicator){if(t.type&&!t.shape){t.shape=t.type}e.radar=e.radar||[];if(!a.isArray(e.radar)){e.radar=[e.radar]}e.radar.push(t)}else{r.push(t)}}));e.polar=r}a.each(e.series,(function(e){if(e&&e.type==="radar"&&e.polarIndex){e.radarIndex=e.polarIndex}}))}var q_=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.render=function(e,t,r){var i=e.coordinateSystem;var n=this.group;var o=e.getData();var s=this._data;function l(e,t){var r=e.getItemVisual(t,"symbol")||"circle";if(r==="none"){return}var a=Nv(e.getItemVisual(t,"symbolSize"));var i=Pv(r,-1,-1,2,2);var n=e.getItemVisual(t,"symbolRotate")||0;i.attr({style:{strokeNoScale:true},z2:100,scaleX:a[0]/2,scaleY:a[1]/2,rotation:n*Math.PI/180||0});return i}function u(t,r,a,i,n,o){a.removeAll();for(var s=0;s<r.length-1;s++){var u=l(i,n);if(u){u.__dimIdx=s;if(t[s]){u.setPosition(t[s]);qi[o?"initProps":"updateProps"](u,{x:r[s][0],y:r[s][1]},e,n)}else{u.setPosition(r[s])}a.add(u)}}}function c(e){return a.map(e,(function(e){return[i.cx,i.cy]}))}o.diff(s).add((function(t){var r=o.getItemLayout(t);if(!r){return}var a=new de;var i=new pe;var n={shape:{points:r}};a.shape.points=c(r);i.shape.points=c(r);ci(a,n,e,t);ci(i,n,e,t);var s=new ue;var l=new ue;s.add(i);s.add(a);s.add(l);u(i.shape.points,r,l,o,t,true);o.setItemGraphicEl(t,s)})).update((function(t,r){var a=s.getItemGraphicEl(r);var i=a.childAt(0);var n=a.childAt(1);var l=a.childAt(2);var c={shape:{points:o.getItemLayout(t)}};if(!c.shape.points){return}u(i.shape.points,c.shape.points,l,o,t,false);pi(n);pi(i);ui(i,c,e);ui(n,c,e);o.setItemGraphicEl(t,a)})).remove((function(e){n.remove(s.getItemGraphicEl(e))})).execute();o.eachItemGraphicEl((function(e,t){var r=o.getItemModel(t);var i=e.childAt(0);var s=e.childAt(1);var l=e.childAt(2);var u=o.getItemVisual(t,"style");var c=u.fill;n.add(e);i.useStyle(a.defaults(r.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:c}));$a(i,r,"lineStyle");$a(s,r,"areaStyle");var v=r.getModel("areaStyle");var f=v.isEmpty()&&v.parentModel.isEmpty();s.ignore=f;a.each(["emphasis","select","blur"],(function(e){var t=r.getModel([e,"areaStyle"]);var a=t.isEmpty()&&t.parentModel.isEmpty();s.ensureState(e).ignore=a&&f}));s.useStyle(a.defaults(v.getAreaStyle(),{fill:c,opacity:.7,decal:u.decal}));var h=r.getModel("emphasis");var d=h.getModel("itemStyle").getItemStyle();l.eachChild((function(e){if(e instanceof le){var i=e.style;e.useStyle(a.extend({image:i.image,x:i.x,y:i.y,width:i.width,height:i.height},u))}else{e.useStyle(u);e.setColor(c);e.style.strokeNoScale=true}var n=e.ensureState("emphasis");n.style=a.clone(d);var s=o.getStore().get(o.getDimensionIndex(e.__dimIdx),t);(s==null||isNaN(s))&&(s="");Qi(e,en(r),{labelFetcher:o.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:s,inheritColor:c,defaultOpacity:u.opacity})}));ja(e,h.get("focus"),h.get("blurScope"),h.get("disabled"))}));this._data=o};r.prototype.remove=function(){this.group.removeAll();this._data=null};r.type="radar";return r}(_c);var K_=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.hasSymbolVisual=true;return e}r.prototype.init=function(e){t.prototype.init.apply(this,arguments);this.legendVisualProvider=new Mx(a.bind(this.getData,this),a.bind(this.getRawData,this))};r.prototype.getInitialData=function(e,t){return wx(this,{generateCoord:"indicator_",generateCoordCount:Infinity})};r.prototype.formatTooltip=function(e,t,r){var i=this.getData();var n=this.coordinateSystem;var o=n.getIndicatorAxes();var s=this.getData().getName(e);var l=s===""?this.name:s;var u=Qu(this,e);return Gu("section",{header:l,sortBlocks:true,blocks:a.map(o,(function(t){var r=i.get(i.mapDimension(t.dim),e);return Gu("nameValue",{markerType:"subItem",markerColor:u,name:t.name,value:r,sortParam:r})}))})};r.prototype.getTooltipPosition=function(e){if(e!=null){var t=this.getData();var r=this.coordinateSystem;var i=t.getValues(a.map(r.dimensions,(function(e){return t.mapDimension(e)})),e);for(var n=0,o=i.length;n<o;n++){if(!isNaN(i[n])){var s=r.getIndicatorAxes();return r.coordToPoint(s[n].dataToCoord(i[n]),n)}}}};r.type="series.radar";r.dependencies=["radar"];r.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:true,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8};return r}(sc);var J_=Hx.value;function $_(e,t){return a.defaults({show:t},e)}var Q_=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.optionUpdated=function(){var e=this.get("boundaryGap");var t=this.get("splitNumber");var r=this.get("scale");var i=this.get("axisLine");var n=this.get("axisTick");var o=this.get("axisLabel");var s=this.get("axisName");var l=this.get(["axisName","show"]);var u=this.get(["axisName","formatter"]);var c=this.get("axisNameGap");var v=this.get("triggerEvent");var f=a.map(this.get("indicator")||[],(function(f){if(f.max!=null&&f.max>0&&!f.min){f.min=0}else if(f.min!=null&&f.min<0&&!f.max){f.max=0}var h=s;if(f.color!=null){h=a.defaults({color:f.color},s)}var d=a.merge(a.clone(f),{boundaryGap:e,splitNumber:t,scale:r,axisLine:i,axisTick:n,axisLabel:o,name:f.text,showName:l,nameLocation:"end",nameGap:c,nameTextStyle:h,triggerEvent:v},false);if(a.isString(u)){var p=d.name;d.name=u.replace("{value}",p!=null?p:"")}else if(a.isFunction(u)){d.name=u(d.name,d)}var g=new Mn(d,null,this.ecModel);a.mixin(g,Kp.prototype);g.mainType="radar";g.componentIndex=this.componentIndex;return g}),this);this._indicatorModels=f};r.prototype.getIndicatorModels=function(){return this._indicatorModels};r.type="radar";r.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:true},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:false,shape:"polygon",axisLine:a.merge({lineStyle:{color:"#bbb"}},J_.axisLine),axisLabel:$_(J_.axisLabel,false),axisTick:$_(J_.axisTick,false),splitLine:$_(J_.splitLine,true),splitArea:$_(J_.splitArea,true),indicator:[]};return r}(qo);var eb=["axisLine","axisTickLabel","axisName"];var tb=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.render=function(e,t,r){var a=this.group;a.removeAll();this._buildAxes(e);this._buildSplitLineAndArea(e)};r.prototype._buildAxes=function(e){var t=e.coordinateSystem;var r=t.getIndicatorAxes();var i=a.map(r,(function(e){var r=e.model.get("showName")?e.name:"";var a=new l_(e.model,{axisName:r,position:[t.cx,t.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return a}));a.each(i,(function(e){a.each(eb,e.add,e);this.group.add(e.getGroup())}),this)};r.prototype._buildSplitLineAndArea=function(e){var t=e.coordinateSystem;var r=t.getIndicatorAxes();if(!r.length){return}var i=e.get("shape");var n=e.getModel("splitLine");var o=e.getModel("splitArea");var s=n.getModel("lineStyle");var l=o.getModel("areaStyle");var u=n.get("show");var c=o.get("show");var v=s.get("color");var f=l.get("color");var h=a.isArray(v)?v:[v];var d=a.isArray(f)?f:[f];var p=[];var g=[];function y(e,t,r){var a=r%t.length;e[a]=e[a]||[];return a}if(i==="circle"){var m=r[0].getTicksCoords();var x=t.cx;var _=t.cy;for(var b=0;b<m.length;b++){if(u){var S=y(p,h,b);p[S].push(new ce({shape:{cx:x,cy:_,r:m[b].coord}}))}if(c&&b<m.length-1){var S=y(g,d,b);g[S].push(new he({shape:{cx:x,cy:_,r0:m[b].coord,r:m[b+1].coord}}))}}}else{var w;var M=a.map(r,(function(e,r){var i=e.getTicksCoords();w=w==null?i.length-1:Math.min(i.length-1,w);return a.map(i,(function(e){return t.coordToPoint(e.coord,r)}))}));var I=[];for(var b=0;b<=w;b++){var D=[];for(var T=0;T<r.length;T++){D.push(M[T][b])}if(D[0]){D.push(D[0].slice())}if(u){var S=y(p,h,b);p[S].push(new pe({shape:{points:D}}))}if(c&&I){var S=y(g,d,b-1);g[S].push(new de({shape:{points:D.concat(I)}}))}I=D.slice().reverse()}}var C=s.getLineStyle();var A=l.getAreaStyle();a.each(g,(function(e,t){this.group.add(Ci(e,{style:a.defaults({stroke:"none",fill:d[t%d.length]},A),silent:true}))}),this);a.each(p,(function(e,t){this.group.add(Ci(e,{style:a.defaults({fill:"none",stroke:h[t%h.length]},C),silent:true}))}),this)};r.type="radar";return r}(gc);var rb=function(t){e(r,t);function r(e,r,a){var i=t.call(this,e,r,a)||this;i.type="value";i.angle=0;i.name="";return i}return r}(Vg);var ab=function(){function e(e,t,r){this.dimensions=[];this._model=e;this._indicatorAxes=f(e.getIndicatorModels(),(function(e,t){var r="indicator_"+t;var a=new rb(r,new Zd);a.name=e.get("name");a.model=e;e.axis=a;this.dimensions.push(r);return a}),this);this.resize(e,r)}e.prototype.getIndicatorAxes=function(){return this._indicatorAxes};e.prototype.dataToPoint=function(e,t){var r=this._indicatorAxes[t];return this.coordToPoint(r.dataToCoord(e),t)};e.prototype.coordToPoint=function(e,t){var r=this._indicatorAxes[t];var a=r.angle;var i=this.cx+e*Math.cos(a);var n=this.cy-e*Math.sin(a);return[i,n]};e.prototype.pointToData=function(e){var t=e[0]-this.cx;var r=e[1]-this.cy;var a=Math.sqrt(t*t+r*r);t/=a;r/=a;var i=Math.atan2(-r,t);var n=Infinity;var o;var s=-1;for(var l=0;l<this._indicatorAxes.length;l++){var u=this._indicatorAxes[l];var c=Math.abs(i-u.angle);if(c<n){o=u;s=l;n=c}}return[s,+(o&&o.coordToData(a))]};e.prototype.resize=function(e,t){var r=e.get("center");var a=t.getWidth();var i=t.getHeight();var n=Math.min(a,i)/2;this.cx=pt(r[0],a);this.cy=pt(r[1],i);this.startAngle=e.get("startAngle")*Math.PI/180;var o=e.get("radius");if(u(o)||c(o)){o=[0,o]}this.r0=pt(o[0],n);this.r=pt(o[1],n);s(this._indicatorAxes,(function(e,t){e.setExtent(this.r0,this.r);var r=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;r=Math.atan2(Math.sin(r),Math.cos(r));e.angle=r}),this)};e.prototype.update=function(e,t){var r=this._indicatorAxes;var a=this._model;s(r,(function(e){e.scale.setExtent(Infinity,-Infinity)}));e.eachSeriesByType("radar",(function(t,i){if(t.get("coordinateSystem")!=="radar"||e.getComponent("radar",t.get("radarIndex"))!==a){return}var n=t.getData();s(r,(function(e){e.scale.unionExtentFromData(n,n.mapDimension(e.dim))}))}),this);var i=a.get("splitNumber");var n=new Zd;n.setExtent(0,i);n.setInterval(1);s(r,(function(e,t){t_(e.scale,e.model,n)}))};e.prototype.convertToPixel=function(e,t,r){console.warn("Not implemented.");return null};e.prototype.convertFromPixel=function(e,t,r){console.warn("Not implemented.");return null};e.prototype.containPoint=function(e){console.warn("Not implemented.");return false};e.create=function(t,r){var a=[];t.eachComponent("radar",(function(i){var n=new e(i,t,r);a.push(n);i.coordinateSystem=n}));t.eachSeriesByType("radar",(function(e){if(e.get("coordinateSystem")==="radar"){e.coordinateSystem=a[e.get("radarIndex")||0]}}));return a};e.dimensions=[];return e}();function ib(e){e.registerCoordinateSystem("radar",ab);e.registerComponentModel(Q_);e.registerComponentView(tb);e.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each((function(e){t.setItemVisual(e,"legendIcon","roundRect")}));t.setVisual("legendIcon","roundRect")}})}function nb(e){Eh(ib);e.registerChartView(q_);e.registerSeriesModel(K_);e.registerLayout(Y_);e.registerProcessor(dx("radar"));e.registerPreprocessor(j_)}var ob="\0_ec_interaction_mutex";function sb(e,t,r){var a=cb(e);a[t]=r}function lb(e,t,r){var a=cb(e);var i=a[t];if(i===r){a[t]=null}}function ub(e,t){return!!cb(e)[t]}function cb(e){return e[ob]||(e[ob]={})}bh({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},L);var vb=function(t){e(r,t);function r(e){var r=t.call(this)||this;r._zr=e;var a=C(r._mousedownHandler,r);var i=C(r._mousemoveHandler,r);var n=C(r._mouseupHandler,r);var o=C(r._mousewheelHandler,r);var s=C(r._pinchHandler,r);r.enable=function(t,r){this.disable();this._opt=x(w(r)||{},{zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:false,preventDefaultMouseMove:true});if(t==null){t=true}if(t===true||t==="move"||t==="pan"){e.on("mousedown",a);e.on("mousemove",i);e.on("mouseup",n)}if(t===true||t==="scale"||t==="zoom"){e.on("mousewheel",o);e.on("pinch",s)}};r.disable=function(){e.off("mousedown",a);e.off("mousemove",i);e.off("mouseup",n);e.off("mousewheel",o);e.off("pinch",s)};return r}r.prototype.isDragging=function(){return this._dragging};r.prototype.isPinching=function(){return this._pinching};r.prototype.setPointerChecker=function(e){this.pointerChecker=e};r.prototype.dispose=function(){this.disable()};r.prototype._mousedownHandler=function(e){if(Ke.isMiddleOrRightButtonOnMouseUpDown(e)){return}var t=e.target;while(t){if(t.draggable){return}t=t.__hostTarget||t.parent}var r=e.offsetX;var a=e.offsetY;if(this.pointerChecker&&this.pointerChecker(e,r,a)){this._x=r;this._y=a;this._dragging=true}};r.prototype._mousemoveHandler=function(e){if(!this._dragging||!db("moveOnMouseMove",e,this._opt)||e.gestureEvent==="pinch"||ub(this._zr,"globalPan")){return}var t=e.offsetX;var r=e.offsetY;var a=this._x;var i=this._y;var n=t-a;var o=r-i;this._x=t;this._y=r;this._opt.preventDefaultMouseMove&&Ke.stop(e.event);hb(this,"pan","moveOnMouseMove",e,{dx:n,dy:o,oldX:a,oldY:i,newX:t,newY:r,isAvailableBehavior:null})};r.prototype._mouseupHandler=function(e){if(!Ke.isMiddleOrRightButtonOnMouseUpDown(e)){this._dragging=false}};r.prototype._mousewheelHandler=function(e){var t=db("zoomOnMouseWheel",e,this._opt);var r=db("moveOnMouseWheel",e,this._opt);var a=e.wheelDelta;var i=Math.abs(a);var n=e.offsetX;var o=e.offsetY;if(a===0||!t&&!r){return}if(t){var s=i>3?1.4:i>1?1.2:1.1;var l=a>0?s:1/s;fb(this,"zoom","zoomOnMouseWheel",e,{scale:l,originX:n,originY:o,isAvailableBehavior:null})}if(r){var u=Math.abs(a);var c=(a>0?1:-1)*(u>3?.4:u>1?.15:.05);fb(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:c,originX:n,originY:o,isAvailableBehavior:null})}};r.prototype._pinchHandler=function(e){if(ub(this._zr,"globalPan")){return}var t=e.pinchScale>1?1.1:1/1.1;fb(this,"zoom",null,e,{scale:t,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})};return r}(W);function fb(e,t,r,a,i){if(e.pointerChecker&&e.pointerChecker(a,i.originX,i.originY)){Ke.stop(a.event);hb(e,t,r,a,i)}}function hb(e,t,r,a,i){i.isAvailableBehavior=C(db,null,r,a);e.trigger(t,i)}function db(e,t,r){var a=r[e];return!e||a&&(!u(a)||t.event[a+"Key"])}function pb(e,t,r){var a=e.target;a.x+=t;a.y+=r;a.dirty()}function gb(e,t,r,a){var i=e.target;var n=e.zoomLimit;var o=e.zoom=e.zoom||1;o*=t;if(n){var s=n.min||0;var l=n.max||Infinity;o=Math.max(Math.min(l,o),s)}var u=o/e.zoom;e.zoom=o;i.x-=(r-i.x)*(u-1);i.y-=(a-i.y)*(u-1);i.scaleX*=u;i.scaleY*=u;i.dirty()}var yb={axisPointer:1,tooltip:1,brush:1};function mb(e,t,r){var a=t.getComponentByElement(e.topTarget);var i=a&&a.coordinateSystem;return a&&a!==r&&!yb.hasOwnProperty(a.mainType)&&i&&i.model!==r}var xb=o(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]);var _b=function(){function e(e,t){this.type="geoSVG";this._usedGraphicMap=o();this._freedGraphics=[];this._mapName=e;this._parsedXML=tt(t)}e.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML);this._freedGraphics.push(e);this._boundingRect=this._firstGraphic.boundingRect.clone();var t=Sb(e.named),r=t.regions,a=t.regionsMap;this._regions=r;this._regionsMap=a}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}};e.prototype._buildGraphic=function(e){var t;var r;try{t=e&&Qe(e,{ignoreViewBox:true,ignoreRootClip:true})||{};r=t.root;l(r!=null)}catch(e){throw new Error("Invalid svg format\n"+e.message)}var a=new ue;a.add(r);a.isGeoSVGGraphicRoot=true;var i=t.width;var n=t.height;var o=t.viewBoxRect;var u=this._boundingRect;if(!u){var c=void 0;var v=void 0;var f=void 0;var h=void 0;if(i!=null){c=0;f=i}else if(o){c=o.x;f=o.width}if(n!=null){v=0;h=n}else if(o){v=o.y;h=o.height}if(c==null||v==null){var d=r.getBoundingRect();if(c==null){c=d.x;f=d.width}if(v==null){v=d.y;h=d.height}}u=this._boundingRect=new we(c,v,f,h)}if(o){var p=et(o,u);r.scaleX=r.scaleY=p.scale;r.x=p.x;r.y=p.y}a.setClipPath(new ge({shape:u.plain()}));var g=[];s(t.named,(function(e){if(xb.get(e.svgNodeTagLower)!=null){g.push(e);bb(e.el)}}));return{root:a,boundingRect:u,named:g}};e.prototype.useGraphic=function(e){var t=this._usedGraphicMap;var r=t.get(e);if(r){return r}r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML);t.set(e,r);return r};e.prototype.freeGraphic=function(e){var t=this._usedGraphicMap;var r=t.get(e);if(r){t.removeKey(e);this._freedGraphics.push(r)}};return e}();function bb(e){e.silent=false;if(e.isGroup){e.traverse((function(e){e.silent=false}))}}function Sb(e){var t=[];var r=o();s(e,(function(e){if(e.namedFrom!=null){return}var a=new vg(e.name,e.el);t.push(a);r.set(e.name,a)}));return{regions:t,regionsMap:r}}var wb=[126,25];var Mb="南海诸岛";var Ib=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var Db=0;Db<Ib.length;Db++){for(var Tb=0;Tb<Ib[Db].length;Tb++){Ib[Db][Tb][0]/=10.5;Ib[Db][Tb][1]/=-10.5/.75;Ib[Db][Tb][0]+=wb[0];Ib[Db][Tb][1]+=wb[1]}}function Cb(e,t){if(e==="china"){for(var r=0;r<t.length;r++){if(t[r].name===Mb){return}}t.push(new cg(Mb,a.map(Ib,(function(e){return{type:"polygon",exterior:e}})),wb))}}var Ab={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};function Lb(e,t){if(e==="china"){var r=Ab[t.name];if(r){var a=t.getCenter();a[0]+=r[0]/10.5;a[1]+=-r[1]/(10.5/.75);t.setCenter(a)}}}var kb=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function Pb(e,t){if(e==="china"&&t.name==="台湾"){t.geometries.push({type:"polygon",exterior:kb[0]})}}var Nb="name";var Ob=function(){function e(e,t,r){this.type="geoJSON";this._parsedMap=o();this._mapName=e;this._specialAreas=r;this._geoJSON=Eb(t)}e.prototype.load=function(e,t){t=t||Nb;var r=this._parsedMap.get(t);if(!r){var a=this._parseToRegions(t);r=this._parsedMap.set(t,{regions:a,boundingRect:Rb(a)})}var i=o();var n=[];s(r.regions,(function(t){var r=t.name;if(e&&_(e,r)){t=t.cloneShallow(r=e[r])}n.push(t);i.set(r,t)}));return{regions:n,boundingRect:r.boundingRect||new we(0,0,0,0),regionsMap:i}};e.prototype._parseToRegions=function(e){var t=this._mapName;var r=this._geoJSON;var a;try{a=r?pg(r,e):[]}catch(e){throw new Error("Invalid geoJson format\n"+e.message)}Cb(t,a);s(a,(function(e){var r=e.name;Lb(t,e);Pb(t,e);var a=this._specialAreas&&this._specialAreas[r];if(a){e.transformTo(a.left,a.top,a.width,a.height)}}),this);return a};e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}};return e}();function Rb(e){var t;for(var r=0;r<e.length;r++){var a=e[r].getBoundingRect();t=t||a.clone();t.union(a)}return t}function Eb(e){return!u(e)?e:typeof JSON!=="undefined"&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")()}var zb=o();var Vb={registerMap:function(e,t,r){if(t.svg){var a=new _b(e,t.svg);zb.set(e,a)}else{var i=t.geoJson||t.geoJSON;if(i&&!t.features){r=t.specialAreas}else{i=t}var a=new Ob(e,i,r);zb.set(e,a)}},getGeoResource:function(e){return zb.get(e)},getMapForUser:function(e){var t=zb.get(e);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(e,t,r){var a=zb.get(e);if(!a){return}return a.load(t,r)}};var Bb=["rect","circle","line","ellipse","polygon","polyline","path"];var Gb=a.createHashMap(Bb);var Fb=a.createHashMap(Bb.concat(["g"]));var Hb=a.createHashMap(Bb.concat(["g"]));var Wb=gr();function Ub(e){var t=e.getItemStyle();var r=e.get("areaColor");if(r!=null){t.fill=r}return t}function Yb(e){var t=e.style;if(t){t.stroke=t.stroke||t.fill;t.fill=null}}var Xb=function(){function e(e){var t=new ue;this.uid=Dn("ec_map_draw");this._controller=new vb(e.getZr());this._controllerHost={target:t};this.group=t;t.add(this._regionsGroup=new ue);t.add(this._svgGroup=new ue)}e.prototype.draw=function(e,t,r,a,i){var n=e.mainType==="geo";var o=e.getData&&e.getData();n&&t.eachComponent({mainType:"series",subType:"map"},(function(t){if(!o&&t.getHostGeoModel()===e){o=t.getData()}}));var s=e.coordinateSystem;var l=this._regionsGroup;var u=this.group;var c=s.getTransformInfo();var v=c.raw;var f=c.roam;var h=!l.childAt(0)||i;if(h){u.x=f.x;u.y=f.y;u.scaleX=f.scaleX;u.scaleY=f.scaleY;u.dirty()}else{ui(u,f,e)}var d=o&&o.getVisual("visualMeta")&&o.getVisual("visualMeta").length>0;var p={api:r,geo:s,mapOrGeoModel:e,data:o,isVisualEncodedByVisualMap:d,isGeo:n,transformInfoRaw:v};if(s.resourceType==="geoJSON"){this._buildGeoJSON(p)}else if(s.resourceType==="geoSVG"){this._buildSVG(p)}this._updateController(e,t,r);this._updateMapSelectHandler(e,l,r,a)};e.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=a.createHashMap();var r=a.createHashMap();var i=this._regionsGroup;var n=e.transformInfoRaw;var o=e.mapOrGeoModel;var s=e.data;var l=e.geo.projection;var u=l&&l.stream;function c(e,t){if(t){e=t(e)}return e&&[e[0]*n.scaleX+n.x,e[1]*n.scaleY+n.y]}function v(e){var t=[];var r=!u&&l&&l.project;for(var a=0;a<e.length;++a){var i=c(e[a],r);i&&t.push(i)}return t}function f(e){return{shape:{points:v(e)}}}i.removeAll();a.each(e.geo.regions,(function(n){var v=n.name;var h=t.get(v);var d=r.get(v)||{},p=d.dataIdx,g=d.regionModel;if(!h){h=t.set(v,new ue);i.add(h);p=s?s.indexOfName(v):null;g=e.isGeo?o.getRegionModel(v):s?s.getItemModel(p):null;r.set(v,{dataIdx:p,regionModel:g})}var y=[];var m=[];a.each(n.geometries,(function(e){if(e.type==="polygon"){var t=[e.exterior].concat(e.interiors||[]);if(u){t=$b(t,u)}a.each(t,(function(e){y.push(new de(f(e)))}))}else{var r=e.points;if(u){r=$b(r,u,true)}a.each(r,(function(e){m.push(new pe(f(e)))}))}}));var x=c(n.getCenter(),l&&l.project);function _(t,r){if(!t.length){return}var i=new _e({culling:true,segmentIgnoreThreshold:1,shape:{paths:t}});h.add(i);Zb(e,i,p,g);jb(e,i,v,g,o,p,x);if(r){Yb(i);a.each(i.states,Yb)}}_(y);_(m,true)}));t.each((function(t,a){var i=r.get(a),n=i.dataIdx,s=i.regionModel;qb(e,t,a,s,o,n);Kb(e,t,a,s,o);Jb(e,t,a,s,o)}),this)};e.prototype._buildSVG=function(e){var t=e.geo.map;var r=e.transformInfoRaw;this._svgGroup.x=r.x;this._svgGroup.y=r.y;this._svgGroup.scaleX=r.scaleX;this._svgGroup.scaleY=r.scaleY;if(this._svgResourceChanged(t)){this._freeSVG();this._useSVG(t)}var i=this._svgDispatcherMap=a.createHashMap();var n=false;a.each(this._svgGraphicRecord.named,(function(t){var r=t.name;var a=e.mapOrGeoModel;var o=e.data;var s=t.svgNodeTagLower;var l=t.el;var u=o?o.indexOfName(r):null;var c=a.getRegionModel(r);if(Gb.get(s)!=null&&l instanceof rt){Zb(e,l,u,c)}if(l instanceof rt){l.culling=true}l.z2EmphasisLift=0;if(!t.namedFrom){if(Hb.get(s)!=null){jb(e,l,r,c,a,u,null)}qb(e,l,r,c,a,u);Kb(e,l,r,c,a);if(Fb.get(s)!=null){var v=Jb(e,l,r,c,a);if(v==="self"){n=true}var f=i.get(r)||i.set(r,[]);f.push(l)}}}),this);this._enableBlurEntireSVG(n,e)};e.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var r=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle();var a=r.opacity;this._svgGraphicRecord.root.traverse((function(e){if(!e.isGroup){Da(e);var t=e.ensureState("blur").style||{};if(t.opacity==null&&a!=null){t.opacity=a}e.ensureState("emphasis")}}))}};e.prototype.remove=function(){this._regionsGroup.removeAll();this._regionsGroupByName=null;this._svgGroup.removeAll();this._freeSVG();this._controller.dispose();this._controllerHost=null};e.prototype.findHighDownDispatchers=function(e,t){if(e==null){return[]}var r=t.coordinateSystem;if(r.resourceType==="geoJSON"){var a=this._regionsGroupByName;if(a){var i=a.get(e);return i?[i]:[]}}else if(r.resourceType==="geoSVG"){return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]}};e.prototype._svgResourceChanged=function(e){return this._svgMapName!==e};e.prototype._useSVG=function(e){var t=Vb.getGeoResource(e);if(t&&t.type==="geoSVG"){var r=t.useGraphic(this.uid);this._svgGroup.add(r.root);this._svgGraphicRecord=r;this._svgMapName=e}};e.prototype._freeSVG=function(){var e=this._svgMapName;if(e==null){return}var t=Vb.getGeoResource(e);if(t&&t.type==="geoSVG"){t.freeGraphic(this.uid)}this._svgGraphicRecord=null;this._svgDispatcherMap=null;this._svgGroup.removeAll();this._svgMapName=null};e.prototype._updateController=function(e,t,r){var i=e.coordinateSystem;var n=this._controller;var o=this._controllerHost;o.zoomLimit=e.get("scaleLimit");o.zoom=i.getZoom();n.enable(e.get("roam")||false);var s=e.mainType;function l(){var t={type:"geoRoam",componentType:s};t[s+"Id"]=e.id;return t}n.off("pan").on("pan",(function(e){this._mouseDownFlag=false;pb(o,e.dx,e.dy);r.dispatchAction(a.extend(l(),{dx:e.dx,dy:e.dy,animation:{duration:0}}))}),this);n.off("zoom").on("zoom",(function(e){this._mouseDownFlag=false;gb(o,e.scale,e.originX,e.originY);r.dispatchAction(a.extend(l(),{totalZoom:o.zoom,zoom:e.scale,originX:e.originX,originY:e.originY,animation:{duration:0}}))}),this);n.setPointerChecker((function(t,a,n){return i.containPoint([a,n])&&!mb(t,r,e)}))};e.prototype.resetForLabelLayout=function(){this.group.traverse((function(e){var t=e.getTextContent();if(t){t.ignore=Wb(t).ignore}}))};e.prototype._updateMapSelectHandler=function(e,t,r,a){var i=this;t.off("mousedown");t.off("click");if(e.get("selectedMode")){t.on("mousedown",(function(){i._mouseDownFlag=true}));t.on("click",(function(e){if(!i._mouseDownFlag){return}i._mouseDownFlag=false}))}};return e}();function Zb(e,t,r,a){var i=a.getModel("itemStyle");var n=a.getModel(["emphasis","itemStyle"]);var o=a.getModel(["blur","itemStyle"]);var s=a.getModel(["select","itemStyle"]);var l=Ub(i);var u=Ub(n);var c=Ub(s);var v=Ub(o);var f=e.data;if(f){var h=f.getItemVisual(r,"style");var d=f.getItemVisual(r,"decal");if(e.isVisualEncodedByVisualMap&&h.fill){l.fill=h.fill}if(d){l.decal=Vv(d,e.api)}}t.setStyle(l);t.style.strokeNoScale=true;t.ensureState("emphasis").style=u;t.ensureState("select").style=c;t.ensureState("blur").style=v;Da(t)}function jb(e,t,r,a,i,n,o){var s=e.data;var l=e.isGeo;var u=s&&isNaN(s.get(s.mapDimension("value"),n));var c=s&&s.getItemLayout(n);if(l||u||c&&c.showLabel){var v=!l?n:r;var f=void 0;if(!s||n>=0){f=i}var h=o?{normal:{align:"center",verticalAlign:"middle"}}:null;Qi(t,en(a),{labelFetcher:f,labelDataIndex:v,defaultText:r},h);var d=t.getTextContent();if(d){Wb(d).ignore=d.ignore;if(t.textConfig&&o){var p=t.getBoundingRect().clone();t.textConfig.layoutRect=p;t.textConfig.position=[(o[0]-p.x)/p.width*100+"%",(o[1]-p.y)/p.height*100+"%"]}}t.disableLabelAnimation=true}else{t.removeTextContent();t.removeTextConfig();t.disableLabelAnimation=null}}function qb(e,t,r,a,i,n){if(e.data){e.data.setItemGraphicEl(n,t)}else{Xr(t).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:r,region:a&&a.option||{}}}}function Kb(e,t,r,a,i){if(!e.data){Xi({el:t,componentModel:i,itemName:r,itemTooltipOption:a.get("tooltip")})}}function Jb(e,t,r,a,i){t.highDownSilentOnTouch=!!i.get("selectedMode");var n=a.getModel("emphasis");var o=n.get("focus");ja(t,o,n.get("blurScope"),n.get("disabled"));if(e.isGeo){ti(t,i,r)}return o}function $b(e,t,r){var i=[];var n;function o(){n=[]}function s(){if(n.length){i.push(n);n=[]}}var l=t({polygonStart:o,polygonEnd:s,lineStart:o,lineEnd:s,point:function(e,t){if(isFinite(e)&&isFinite(t)){n.push([e,t])}},sphere:function(){}});!r&&l.polygonStart();a.each(e,(function(e){l.lineStart();for(var t=0;t<e.length;t++){l.point(e[t][0],e[t][1])}l.lineEnd()}));!r&&l.polygonEnd();return i}var Qb=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.render=function(e,t,r,a){if(a&&a.type==="mapToggleSelect"&&a.from===this.uid){return}var i=this.group;i.removeAll();if(e.getHostGeoModel()){return}if(this._mapDraw&&a&&a.type==="geoRoam"){this._mapDraw.resetForLabelLayout()}if(!(a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===e.id)){if(e.needsDrawMap){var n=this._mapDraw||new Xb(r);i.add(n.group);n.draw(e,t,r,this,a);this._mapDraw=n}else{this._mapDraw&&this._mapDraw.remove();this._mapDraw=null}}else{var n=this._mapDraw;n&&i.add(n.group)}e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,r)};r.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()};r.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null};r.prototype._renderSymbols=function(e,t,r){var a=e.originalData;var i=this.group;a.each(a.mapDimension("value"),(function(t,r){if(isNaN(t)){return}var n=a.getItemLayout(r);if(!n||!n.point){return}var o=n.point;var s=n.offset;var l=new ce({style:{fill:e.getData().getVisual("style").fill},shape:{cx:o[0]+s*9,cy:o[1],r:3},silent:true,z2:8+(!s?aa+1:0)});if(!s){var u=e.mainSeries.getData();var c=a.getName(r);var v=u.indexOfName(c);var f=a.getItemModel(r);var h=f.getModel("label");var d=u.getItemGraphicEl(v);Qi(l,en(f),{labelFetcher:{getFormattedLabel:function(t,r){return e.getFormattedLabel(v,r)}},defaultText:c});l.disableLabelAnimation=true;if(!h.get("position")){l.setTextConfig({position:"bottom"})}d.onHoverStateChange=function(e){_a(l,e)}}i.add(l)}))};r.type="map";return r}(_c);var eS=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.needsDrawMap=false;e.seriesGroup=[];e.getTooltipPosition=function(e){if(e!=null){var t=this.getData().getName(e);var r=this.coordinateSystem;var a=r.getRegion(t);return a&&r.dataToPoint(a.getCenter())}};return e}r.prototype.getInitialData=function(e){var t=wx(this,{coordDimensions:["value"],encodeDefaulter:a.curry(hs,this)});var r=a.createHashMap();var i=[];for(var n=0,o=t.count();n<o;n++){var s=t.getName(n);r.set(s,true)}var l=Vb.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);a.each(l.regions,(function(e){var t=e.name;if(!r.get(t)){i.push(t)}}));t.appendValues([],i);return t};r.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return e!=null?this.ecModel.getComponent("geo",e):null};r.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map};r.prototype.getRawValue=function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)};r.prototype.getRegionModel=function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))};r.prototype.formatTooltip=function(e,t,r){var a=this.getData();var i=this.getRawValue(e);var n=a.getName(e);var o=this.seriesGroup;var s=[];for(var l=0;l<o.length;l++){var u=o[l].originalData.indexOfName(n);var c=a.mapDimension("value");if(!isNaN(o[l].originalData.get(c,u))){s.push(o[l].name)}}return Gu("section",{header:s.join(", "),noHeader:!s.length,blocks:[Gu("nameValue",{name:n,value:i})]})};r.prototype.setZoom=function(e){this.option.zoom=e};r.prototype.setCenter=function(e){this.option.center=e};r.prototype.getLegendIcon=function(e){var t=e.icon||"roundRect";var r=Pv(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);r.setStyle(e.itemStyle);r.style.stroke="none";if(t.indexOf("empty")>-1){r.style.stroke=r.style.fill;r.style.fill="#fff";r.style.lineWidth=2}return r};r.type="series.map";r.dependencies=["geo"];r.layoutMode="box";r.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:true,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:true,label:{show:false,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"};return r}(sc);function tS(e,t){var r={};a.each(e,(function(e){e.each(e.mapDimension("value"),(function(t,a){var i="ec-"+e.getName(a);r[i]=r[i]||[];if(!isNaN(t)){r[i].push(t)}}))}));return e[0].map(e[0].mapDimension("value"),(function(a,i){var n="ec-"+e[0].getName(i);var o=0;var s=Infinity;var l=-Infinity;var u=r[n].length;for(var c=0;c<u;c++){s=Math.min(s,r[n][c]);l=Math.max(l,r[n][c]);o+=r[n][c]}var v;if(t==="min"){v=s}else if(t==="max"){v=l}else if(t==="average"){v=o/u}else{v=o}return u===0?NaN:v}))}function rS(e){var t={};e.eachSeriesByType("map",(function(e){var r=e.getHostGeoModel();var a=r?"o"+r.id:"i"+e.getMapType();(t[a]=t[a]||[]).push(e)}));a.each(t,(function(e,t){var r=tS(a.map(e,(function(e){return e.getData()})),e[0].get("mapValueCalculation"));for(var i=0;i<e.length;i++){e[i].originalData=e[i].getData()}for(var i=0;i<e.length;i++){e[i].seriesGroup=e;e[i].needsDrawMap=i===0&&!e[i].getHostGeoModel();e[i].setData(r.cloneShallow());e[i].mainSeries=e[0]}}))}function aS(e){var t={};e.eachSeriesByType("map",(function(r){var i=r.getMapType();if(r.getHostGeoModel()||t[i]){return}var n={};a.each(r.seriesGroup,(function(t){var r=t.coordinateSystem;var a=t.originalData;if(t.get("showLegendSymbol")&&e.getComponent("legend")){a.each(a.mapDimension("value"),(function(e,t){var i=a.getName(t);var o=r.getRegion(i);if(!o||isNaN(e)){return}var s=n[i]||0;var l=r.dataToPoint(o.getCenter());n[i]=s+1;a.setItemLayout(t,{point:l,offset:s})}))}}));var o=r.getData();o.each((function(e){var t=o.getName(e);var r=o.getItemLayout(e)||{};r.showLabel=!n[t];o.setItemLayout(e,r)}));t[i]=true}))}var iS=ie.applyTransform;var nS=function(t){e(r,t);function r(e){var r=t.call(this)||this;r.type="view";r.dimensions=["x","y"];r._roamTransformable=new oe;r._rawTransformable=new oe;r.name=e;return r}r.prototype.setBoundingRect=function(e,t,r,a){this._rect=new we(e,t,r,a);return this._rect};r.prototype.getBoundingRect=function(){return this._rect};r.prototype.setViewRect=function(e,t,r,a){this._transformTo(e,t,r,a);this._viewRect=new we(e,t,r,a)};r.prototype._transformTo=function(e,t,r,a){var i=this.getBoundingRect();var n=this._rawTransformable;n.transform=i.calculateTransform(new we(e,t,r,a));var o=n.parent;n.parent=null;n.decomposeTransform();n.parent=o;this._updateTransform()};r.prototype.setCenter=function(e,t){if(!e){return}this._center=[pt(e[0],t.getWidth()),pt(e[1],t.getHeight())];this._updateCenterAndZoom()};r.prototype.setZoom=function(e){e=e||1;var t=this.zoomLimit;if(t){if(t.max!=null){e=Math.min(t.max,e)}if(t.min!=null){e=Math.max(t.min,e)}}this._zoom=e;this._updateCenterAndZoom()};r.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();var t=e.x+e.width/2;var r=e.y+e.height/2;return[t,r]};r.prototype.getCenter=function(){return this._center||this.getDefaultCenter()};r.prototype.getZoom=function(){return this._zoom||1};r.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()};r.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform();var t=this._roamTransformable;var r=this.getDefaultCenter();var a=this.getCenter();var i=this.getZoom();a=ie.applyTransform([],a,e);r=ie.applyTransform([],r,e);t.originX=a[0];t.originY=a[1];t.x=r[0]-a[0];t.y=r[1]-a[1];t.scaleX=t.scaleY=i;this._updateTransform()};r.prototype._updateTransform=function(){var e=this._roamTransformable;var t=this._rawTransformable;t.parent=e;e.updateTransform();t.updateTransform();re.copy(this.transform||(this.transform=[]),t.transform||re.create());this._rawTransform=t.getLocalTransform();this.invTransform=this.invTransform||[];re.invert(this.invTransform,this.transform);this.decomposeTransform()};r.prototype.getTransformInfo=function(){var e=this._rawTransformable;var t=this._roamTransformable;var r=new oe;r.transform=t.transform;r.decomposeTransform();return{roam:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}};r.prototype.getViewRect=function(){return this._viewRect};r.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();e.applyTransform(this.transform);return e};r.prototype.dataToPoint=function(e,t,r){var a=t?this._rawTransform:this.transform;r=r||[];return a?iS(r,e,a):ie.copy(r,e)};r.prototype.pointToData=function(e){var t=this.invTransform;return t?iS([],e,t):[e[0],e[1]]};r.prototype.convertToPixel=function(e,t,r){var a=oS(t);return a===this?a.dataToPoint(r):null};r.prototype.convertFromPixel=function(e,t,r){var a=oS(t);return a===this?a.pointToData(r):null};r.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])};r.dimensions=["x","y"];return r}(oe);function oS(e){var t=e.seriesModel;return t?t.coordinateSystem:null}var sS={geoJSON:{aspectScale:.75,invertLongitute:true},geoSVG:{aspectScale:1,invertLongitute:false}};var lS=["lng","lat"];var uS=function(t){e(r,t);function r(e,r,i){var n=t.call(this,e)||this;n.dimensions=lS;n.type="geo";n._nameCoordMap=a.createHashMap();n.map=r;var o=i.projection;var s=Vb.load(r,i.nameMap,i.nameProperty);var l=Vb.getGeoResource(r);n.resourceType=l?l.type:null;var u=n.regions=s.regions;var c=sS[l.type];n._regionsMap=s.regionsMap;n.regions=s.regions;n.projection=o;var v;if(o){for(var f=0;f<u.length;f++){var h=u[f].getBoundingRect(o);v=v||h.clone();v.union(h)}}else{v=s.boundingRect}n.setBoundingRect(v.x,v.y,v.width,v.height);n.aspectScale=o?1:a.retrieve2(i.aspectScale,c.aspectScale);n._invertLongitute=o?false:c.invertLongitute;return n}r.prototype._transformTo=function(e,t,r,a){var i=this.getBoundingRect();var n=this._invertLongitute;i=i.clone();if(n){i.y=-i.y-i.height}var o=this._rawTransformable;o.transform=i.calculateTransform(new we(e,t,r,a));var s=o.parent;o.parent=null;o.decomposeTransform();o.parent=s;if(n){o.scaleY=-o.scaleY}this._updateTransform()};r.prototype.getRegion=function(e){return this._regionsMap.get(e)};r.prototype.getRegionByCoord=function(e){var t=this.regions;for(var r=0;r<t.length;r++){var a=t[r];if(a.type==="geoJSON"&&a.contain(e)){return t[r]}}};r.prototype.addGeoCoord=function(e,t){this._nameCoordMap.set(e,t)};r.prototype.getGeoCoord=function(e){var t=this._regionsMap.get(e);return this._nameCoordMap.get(e)||t&&t.getCenter()};r.prototype.dataToPoint=function(e,t,r){if(a.isString(e)){e=this.getGeoCoord(e)}if(e){var i=this.projection;if(i){e=i.project(e)}return e&&this.projectedToPoint(e,t,r)}};r.prototype.pointToData=function(e){var t=this.projection;if(t){e=t.unproject(e)}return e&&this.pointToProjected(e)};r.prototype.pointToProjected=function(e){return t.prototype.pointToData.call(this,e)};r.prototype.projectedToPoint=function(e,r,a){return t.prototype.dataToPoint.call(this,e,r,a)};r.prototype.convertToPixel=function(e,t,r){var a=cS(t);return a===this?a.dataToPoint(r):null};r.prototype.convertFromPixel=function(e,t,r){var a=cS(t);return a===this?a.pointToData(r):null};return r}(nS);a.mixin(uS,nS);function cS(e){var t=e.geoModel;var r=e.seriesModel;return t?t.coordinateSystem:r?r.coordinateSystem||(r.getReferringComponents("geo",_r).models[0]||{}).coordinateSystem:null}function vS(e,t){var r=e.get("boundingCoords");if(r!=null){var a=r[0];var i=r[1];if(!(isFinite(a[0])&&isFinite(a[1])&&isFinite(i[0])&&isFinite(i[1])));else{var n=this.projection;if(n){var o=a[0];var s=a[1];var l=i[0];var u=i[1];a=[Infinity,Infinity];i=[-Infinity,-Infinity];var c=function(e,t,r,o){var s=r-e;var l=o-t;for(var u=0;u<=100;u++){var c=u/100;var v=n.project([e+s*c,t+l*c]);ie.min(a,a,v);ie.max(i,i,v)}};c(o,s,l,s);c(l,s,l,u);c(l,u,o,u);c(o,u,l,s)}this.setBoundingRect(a[0],a[1],i[0]-a[0],i[1]-a[1])}}var v=this.getBoundingRect();var f=e.get("layoutCenter");var h=e.get("layoutSize");var d=t.getWidth();var p=t.getHeight();var g=v.width/v.height*this.aspectScale;var y=false;var m;var x;if(f&&h){m=[pt(f[0],d),pt(f[1],p)];x=pt(h,Math.min(d,p));if(!isNaN(m[0])&&!isNaN(m[1])&&!isNaN(x)){y=true}}var _;if(y){_={};if(g>1){_.width=x;_.height=x/g}else{_.height=x;_.width=x*g}_.y=m[1]-_.height/2;_.x=m[0]-_.width/2}else{var b=e.getBoxLayoutParams();b.aspect=g;_=Fo(b,{width:d,height:p})}this.setViewRect(_.x,_.y,_.width,_.height);this.setCenter(e.get("center"),t);this.setZoom(e.get("zoom"))}function fS(e,t){a.each(t.get("geoCoord"),(function(t,r){e.addGeoCoord(r,t)}))}var hS=function(){function e(){this.dimensions=lS}e.prototype.create=function(e,t){var r=[];function i(e){return{nameProperty:e.get("nameProperty"),aspectScale:e.get("aspectScale"),projection:e.get("projection")}}e.eachComponent("geo",(function(e,n){var o=e.get("map");var s=new uS(o+n,o,a.extend({nameMap:e.get("nameMap")},i(e)));s.zoomLimit=e.get("scaleLimit");r.push(s);e.coordinateSystem=s;s.model=e;s.resize=vS;s.resize(e,t)}));e.eachSeries((function(e){var t=e.get("coordinateSystem");if(t==="geo"){var a=e.get("geoIndex")||0;e.coordinateSystem=r[a]}}));var n={};e.eachSeriesByType("map",(function(e){if(!e.getHostGeoModel()){var t=e.getMapType();n[t]=n[t]||[];n[t].push(e)}}));a.each(n,(function(e,n){var o=a.map(e,(function(e){return e.get("nameMap")}));var s=new uS(n,n,a.extend({nameMap:a.mergeAll(o)},i(e[0])));s.zoomLimit=a.retrieve.apply(null,a.map(e,(function(e){return e.get("scaleLimit")})));r.push(s);s.resize=vS;s.resize(e[0],t);a.each(e,(function(e){e.coordinateSystem=s;fS(s,e)}))}));return r};e.prototype.getFilledRegions=function(e,t,r,i){var n=(e||[]).slice();var o=a.createHashMap();for(var s=0;s<n.length;s++){o.set(n[s].name,n[s])}var l=Vb.load(t,r,i);a.each(l.regions,(function(e){var t=e.name;!o.get(t)&&n.push({name:t})}));return n};return e}();var dS=new hS;var pS=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.init=function(e,t,r){var a=Vb.getGeoResource(e.map);if(a&&a.type==="geoJSON"){var i=e.itemStyle=e.itemStyle||{};if(!("color"in i)){i.color="#eee"}}this.mergeDefaultAndTheme(e,r);qt(e,"label",["show"])};r.prototype.optionUpdated=function(){var e=this;var t=this.option;t.regions=dS.getFilledRegions(t.regions,t.map,t.nameMap,t.nameProperty);var r={};this._optionModelMap=a.reduce(t.regions||[],(function(t,a){var i=a.name;if(i){t.set(i,new Mn(a,e,e.ecModel));if(a.selected){r[i]=true}}return t}),a.createHashMap());if(!t.selectedMap){t.selectedMap=r}};r.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Mn(null,this,this.ecModel)};r.prototype.getFormattedLabel=function(e,t){var r=this.getRegionModel(e);var i=t==="normal"?r.get(["label","formatter"]):r.get(["emphasis","label","formatter"]);var n={name:e};if(a.isFunction(i)){n.status=t;return i(n)}else if(a.isString(i)){return i.replace("{a}",e!=null?e:"")}};r.prototype.setZoom=function(e){this.option.zoom=e};r.prototype.setCenter=function(e){this.option.center=e};r.prototype.select=function(e){var t=this.option;var r=t.selectedMode;if(!r){return}if(r!=="multiple"){t.selectedMap=null}var a=t.selectedMap||(t.selectedMap={});a[e]=true};r.prototype.unSelect=function(e){var t=this.option.selectedMap;if(t){t[e]=false}};r.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)};r.prototype.isSelected=function(e){var t=this.option.selectedMap;return!!(t&&t[e])};r.type="geo";r.layoutMode="box";r.defaultOption={z:0,show:true,left:"center",top:"center",aspectScale:null,silent:false,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:false,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]};return r}(qo);function gS(e,t){return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}function yS(e,t,r,a){var i=e.getZoom();var n=e.getCenter();var o=t.zoom;var s=e.projectedToPoint?e.projectedToPoint(n):e.dataToPoint(n);if(t.dx!=null&&t.dy!=null){s[0]-=t.dx;s[1]-=t.dy;e.setCenter(gS(e,s),a)}if(o!=null){if(r){var l=r.min||0;var u=r.max||Infinity;o=Math.max(Math.min(i*o,u),l)/i}e.scaleX*=o;e.scaleY*=o;var c=(t.originX-e.x)*(o-1);var v=(t.originY-e.y)*(o-1);e.x-=c;e.y-=v;e.updateTransform();e.setCenter(gS(e,s),a);e.setZoom(o*i)}return{center:e.getCenter(),zoom:e.getZoom()}}var mS=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.focusBlurEnabled=true;return e}r.prototype.init=function(e,t){this._api=t};r.prototype.render=function(e,t,r,a){this._model=e;if(!e.get("show")){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;return}if(!this._mapDraw){this._mapDraw=new Xb(r)}var i=this._mapDraw;i.draw(e,t,r,this,a);i.group.on("click",this._handleRegionClick,this);i.group.silent=e.get("silent");this.group.add(i.group);this.updateSelectStatus(e,t,r)};r.prototype._handleRegionClick=function(e){var t;Sv(e.target,(function(e){return(t=Xr(e).eventData)!=null}),true);if(t){this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:t.name})}};r.prototype.updateSelectStatus=function(e,t,r){var a=this;this._mapDraw.group.traverse((function(e){var t=Xr(e).eventData;if(t){a._model.isSelected(t.name)?r.enterSelect(e):r.leaveSelect(e);return true}}))};r.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)};r.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()};r.type="geo";return r}(gc);function xS(e,t,r){Vb.registerMap(e,t,r)}function _S(e){e.registerCoordinateSystem("geo",dS);e.registerComponentModel(pS);e.registerComponentView(mS);e.registerImpl("registerMap",xS);e.registerImpl("getMap",(function(e){return Vb.getMapForUser(e)}));function t(t,r){r.update="geo:updateSelectStatus";e.registerAction(r,(function(e,r){var a={};var i=[];r.eachComponent({mainType:"geo",query:e},(function(r){r[t](e.name);var n=r.coordinateSystem;s(n.regions,(function(e){a[e.name]=r.isSelected(e.name)||false}));var o=[];s(a,(function(e,t){a[t]&&o.push(t)}));i.push({geoIndex:r.componentIndex,name:o})}));return{selected:a,allSelected:i,name:e.name}}))}t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});t("select",{type:"geoSelect",event:"geoselected"});t("unSelect",{type:"geoUnSelect",event:"geounselected"});e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(e,t,r){var a=e.componentType||"series";t.eachComponent({mainType:a,query:e},(function(t){var i=t.coordinateSystem;if(i.type!=="geo"){return}var n=yS(i,e,t.get("scaleLimit"),r);t.setCenter&&t.setCenter(n.center);t.setZoom&&t.setZoom(n.zoom);if(a==="series"){s(t.seriesGroup,(function(e){e.setCenter(n.center);e.setZoom(n.zoom)}))}}))}))}function bS(e){Eh(_S);e.registerChartView(Qb);e.registerSeriesModel(eS);e.registerLayout(aS);e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,rS);xv("map",e.registerAction)}function SS(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var r=[t];var a;var i;while(a=r.pop()){i=a.children;if(a.isExpand&&i.length){var n=i.length;for(var o=n-1;o>=0;o--){var s=i[o];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null};r.push(s)}}}}function wS(e,t){var r=e.isExpand?e.children:[];var a=e.parentNode.children;var i=e.hierNode.i?a[e.hierNode.i-1]:null;if(r.length){CS(e);var n=(r[0].hierNode.prelim+r[r.length-1].hierNode.prelim)/2;if(i){e.hierNode.prelim=i.hierNode.prelim+t(e,i);e.hierNode.modifier=e.hierNode.prelim-n}else{e.hierNode.prelim=n}}else if(i){e.hierNode.prelim=i.hierNode.prelim+t(e,i)}e.parentNode.hierNode.defaultAncestor=AS(e,i,e.parentNode.hierNode.defaultAncestor||a[0],t)}function MS(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},true);e.hierNode.modifier+=e.parentNode.hierNode.modifier}function IS(e){return arguments.length?e:OS}function DS(e,t){e-=Math.PI/2;return{x:t*Math.cos(e),y:t*Math.sin(e)}}function TS(e,t){return Fo(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function CS(e){var t=e.children;var r=t.length;var a=0;var i=0;while(--r>=0){var n=t[r];n.hierNode.prelim+=a;n.hierNode.modifier+=a;i+=n.hierNode.change;a+=n.hierNode.shift+i}}function AS(e,t,r,a){if(t){var i=e;var n=e;var o=n.parentNode.children[0];var s=t;var l=i.hierNode.modifier;var u=n.hierNode.modifier;var c=o.hierNode.modifier;var v=s.hierNode.modifier;while(s=LS(s),n=kS(n),s&&n){i=LS(i);o=kS(o);i.hierNode.ancestor=e;var f=s.hierNode.prelim+v-n.hierNode.prelim-u+a(s,n);if(f>0){NS(PS(s,e,r),e,f);u+=f;l+=f}v+=s.hierNode.modifier;u+=n.hierNode.modifier;l+=i.hierNode.modifier;c+=o.hierNode.modifier}if(s&&!LS(i)){i.hierNode.thread=s;i.hierNode.modifier+=v-l}if(n&&!kS(o)){o.hierNode.thread=n;o.hierNode.modifier+=u-c;r=e}}return r}function LS(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function kS(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function PS(e,t,r){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:r}function NS(e,t,r){var a=r/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=a;t.hierNode.shift+=r;t.hierNode.modifier+=r;t.hierNode.prelim+=r;e.hierNode.change+=a}function OS(e,t){return e.parentNode===t.parentNode?1:2}var RS=function(){function e(){this.parentPoint=[];this.childPoints=[]}return e}();var ES=function(t){e(r,t);function r(e){return t.call(this,e)||this}r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};r.prototype.getDefaultShape=function(){return new RS};r.prototype.buildPath=function(e,t){var r=t.childPoints;var a=r.length;var i=t.parentPoint;var n=r[0];var o=r[a-1];if(a===1){e.moveTo(i[0],i[1]);e.lineTo(n[0],n[1]);return}var s=t.orient;var l=s==="TB"||s==="BT"?0:1;var u=1-l;var c=pt(t.forkPosition,1);var v=[];v[l]=i[l];v[u]=i[u]+(o[u]-i[u])*c;e.moveTo(i[0],i[1]);e.lineTo(v[0],v[1]);e.moveTo(n[0],n[1]);v[l]=n[l];e.lineTo(v[0],v[1]);v[l]=o[l];e.lineTo(v[0],v[1]);e.lineTo(o[0],o[1]);for(var f=1;f<a-1;f++){var h=r[f];e.moveTo(h[0],h[1]);v[l]=h[l];e.lineTo(v[0],v[1])}};return r}(Q);var zS=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e._mainGroup=new ue;return e}r.prototype.init=function(e,t){this._controller=new vb(t.getZr());this._controllerHost={target:this.group};this.group.add(this._mainGroup)};r.prototype.render=function(e,t,r){var a=e.getData();var i=e.layoutInfo;var n=this._mainGroup;var o=e.get("layout");if(o==="radial"){n.x=i.x+i.width/2;n.y=i.y+i.height/2}else{n.x=i.x;n.y=i.y}this._updateViewCoordSys(e,r);this._updateController(e,t,r);var s=this._data;a.diff(s).add((function(t){if(VS(a,t)){BS(a,t,null,n,e)}})).update((function(t,r){var i=s.getItemGraphicEl(r);if(!VS(a,t)){i&&WS(s,r,i,n,e);return}BS(a,t,i,n,e)})).remove((function(t){var r=s.getItemGraphicEl(t);if(r){WS(s,t,r,n,e)}})).execute();this._nodeScaleRatio=e.get("nodeScaleRatio");this._updateNodeAndLinkScale(e);if(e.get("expandAndCollapse")===true){a.eachItemGraphicEl((function(t,a){t.off("click").on("click",(function(){r.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:a})}))}))}this._data=a};r.prototype._updateViewCoordSys=function(e,t){var r=e.getData();var a=[];r.each((function(e){var t=r.getItemLayout(e);if(t&&!isNaN(t.x)&&!isNaN(t.y)){a.push([+t.x,+t.y])}}));var i=[];var n=[];at.fromPoints(a,i,n);var o=this._min;var s=this._max;if(n[0]-i[0]===0){i[0]=o?o[0]:i[0]-1;n[0]=s?s[0]:n[0]+1}if(n[1]-i[1]===0){i[1]=o?o[1]:i[1]-1;n[1]=s?s[1]:n[1]+1}var l=e.coordinateSystem=new nS;l.zoomLimit=e.get("scaleLimit");l.setBoundingRect(i[0],i[1],n[0]-i[0],n[1]-i[1]);l.setCenter(e.get("center"),t);l.setZoom(e.get("zoom"));this.group.attr({x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY});this._min=i;this._max=n};r.prototype._updateController=function(e,t,r){var a=this;var i=this._controller;var n=this._controllerHost;var o=this.group;i.setPointerChecker((function(t,a,i){var n=o.getBoundingRect();n.applyTransform(o.transform);return n.contain(a,i)&&!mb(t,r,e)}));i.enable(e.get("roam"));n.zoomLimit=e.get("scaleLimit");n.zoom=e.coordinateSystem.getZoom();i.off("pan").off("zoom").on("pan",(function(t){pb(n,t.dx,t.dy);r.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){gb(n,t.scale,t.originX,t.originY);r.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY});a._updateNodeAndLinkScale(e);r.updateLabelLayout()}))};r.prototype._updateNodeAndLinkScale=function(e){var t=e.getData();var r=this._getNodeGlobalScale(e);t.eachItemGraphicEl((function(e,t){e.setSymbolScale(r)}))};r.prototype._getNodeGlobalScale=function(e){var t=e.coordinateSystem;if(t.type!=="view"){return 1}var r=this._nodeScaleRatio;var a=t.scaleX||1;var i=t.getZoom();var n=(i-1)*r+1;return n/a};r.prototype.dispose=function(){this._controller&&this._controller.dispose();this._controllerHost=null};r.prototype.remove=function(){this._mainGroup.removeAll();this._data=null};r.type="tree";return r}(_c);function VS(e,t){var r=e.getItemLayout(t);return r&&!isNaN(r.x)&&!isNaN(r.y)}function BS(e,t,r,i,n){var o=!r;var s=e.tree.getNodeByDataIndex(t);var l=s.getModel();var u=s.getVisual("style").fill;var c=s.isExpand===false&&s.children.length!==0?u:"#fff";var v=e.tree.root;var f=s.parentNode===v?s:s.parentNode||s;var h=e.getItemGraphicEl(f.dataIndex);var d=f.getLayout();var p=h?{x:h.__oldX,y:h.__oldY,rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:d;var g=s.getLayout();if(o){r=new Ey(e,t,null,{symbolInnerColor:c,useNameLabel:true});r.x=p.x;r.y=p.y}else{r.updateData(e,t,null,{symbolInnerColor:c,useNameLabel:true})}r.__radialOldRawX=r.__radialRawX;r.__radialOldRawY=r.__radialRawY;r.__radialRawX=g.rawX;r.__radialRawY=g.rawY;i.add(r);e.setItemGraphicEl(t,r);r.__oldX=r.x;r.__oldY=r.y;ui(r,{x:g.x,y:g.y},n);var y=r.getSymbolPath();if(n.get("layout")==="radial"){var m=v.children[0];var x=m.getLayout();var _=m.children.length;var b=void 0;var S=void 0;if(g.x===x.x&&s.isExpand===true&&m.children.length){var w={x:(m.children[0].getLayout().x+m.children[_-1].getLayout().x)/2,y:(m.children[0].getLayout().y+m.children[_-1].getLayout().y)/2};b=Math.atan2(w.y-x.y,w.x-x.x);if(b<0){b=Math.PI*2+b}S=w.x<x.x;if(S){b=b-Math.PI}}else{b=Math.atan2(g.y-x.y,g.x-x.x);if(b<0){b=Math.PI*2+b}if(s.children.length===0||s.children.length!==0&&s.isExpand===false){S=g.x<x.x;if(S){b=b-Math.PI}}else{S=g.x>x.x;if(!S){b=b-Math.PI}}}var M=S?"left":"right";var I=l.getModel("label");var D=I.get("rotate");var T=D*(Math.PI/180);var C=y.getTextContent();if(C){y.setTextConfig({position:I.get("position")||M,rotation:D==null?-b:T,origin:"center"});C.setStyle("verticalAlign","middle")}}var A=l.get(["emphasis","focus"]);var L=A==="relative"?a.concatArray(s.getAncestorsIndices(),s.getDescendantIndices()):A==="ancestor"?s.getAncestorsIndices():A==="descendant"?s.getDescendantIndices():null;if(L){Xr(r).focus=L}GS(n,s,v,r,p,d,g,i);if(r.__edge){r.onHoverStateChange=function(t){if(t!=="blur"){var a=s.parentNode&&e.getItemGraphicEl(s.parentNode.dataIndex);if(!(a&&a.hoverState===Qr)){_a(r.__edge,t)}}}}}function GS(e,t,r,i,n,o,s,l){var u=t.getModel();var c=e.get("edgeShape");var v=e.get("layout");var f=e.getOrient();var h=e.get(["lineStyle","curveness"]);var d=e.get("edgeForkPosition");var p=u.getModel("lineStyle").getLineStyle();var g=i.__edge;if(c==="curve"){if(t.parentNode&&t.parentNode!==r){if(!g){g=i.__edge=new me({shape:US(v,f,h,n,n)})}ui(g,{shape:US(v,f,h,o,s)},e)}}else if(c==="polyline"){if(v==="orthogonal"){if(t!==r&&t.children&&t.children.length!==0&&t.isExpand===true){var y=t.children;var m=[];for(var x=0;x<y.length;x++){var _=y[x].getLayout();m.push([_.x,_.y])}if(!g){g=i.__edge=new ES({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:f,forkPosition:d}})}ui(g,{shape:{parentPoint:[s.x,s.y],childPoints:m}},e)}}}if(g&&!(c==="polyline"&&!t.isExpand)){g.useStyle(a.defaults({strokeNoScale:true,fill:null},p));$a(g,u,"lineStyle");Da(g);l.add(g)}}function FS(e,t,r,a,i){var n=t.tree.root;var o=HS(n,e),s=o.source,l=o.sourceLayout;var u=t.getItemGraphicEl(e.dataIndex);if(!u){return}var c=t.getItemGraphicEl(s.dataIndex);var v=c.__edge;var f=u.__edge||(s.isExpand===false||s.children.length===1?v:undefined);var h=a.get("edgeShape");var d=a.get("layout");var p=a.get("orient");var g=a.get(["lineStyle","curveness"]);if(f){if(h==="curve"){fi(f,{shape:US(d,p,g,l,l),style:{opacity:0}},a,{cb:function(){r.remove(f)},removeOpt:i})}else if(h==="polyline"&&a.get("layout")==="orthogonal"){fi(f,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},a,{cb:function(){r.remove(f)},removeOpt:i})}}}function HS(e,t){var r=t.parentNode===e?t:t.parentNode||t;var a;while(a=r.getLayout(),a==null){r=r.parentNode===e?r:r.parentNode||r}return{source:r,sourceLayout:a}}function WS(e,t,r,a,i){var n=e.tree.getNodeByDataIndex(t);var o=e.tree.root;var s=HS(o,n).sourceLayout;var l={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};fi(r,{x:s.x+1,y:s.y+1},i,{cb:function(){a.remove(r);e.setItemGraphicEl(t,null)},removeOpt:l});r.fadeOut(null,e.hostModel,{fadeLabel:true,animation:l});n.children.forEach((function(t){FS(t,e,a,i,l)}));FS(n,e,a,i,l)}function US(e,t,r,a,i){var n;var o;var s;var l;var u;var c;var v;var f;if(e==="radial"){u=a.rawX;v=a.rawY;c=i.rawX;f=i.rawY;var h=DS(u,v);var d=DS(u,v+(f-v)*r);var p=DS(c,f+(v-f)*r);var g=DS(c,f);return{x1:h.x||0,y1:h.y||0,x2:g.x||0,y2:g.y||0,cpx1:d.x||0,cpy1:d.y||0,cpx2:p.x||0,cpy2:p.y||0}}else{u=a.x;v=a.y;c=i.x;f=i.y;if(t==="LR"||t==="RL"){n=u+(c-u)*r;o=v;s=c+(u-c)*r;l=f}if(t==="TB"||t==="BT"){n=u;o=v+(f-v)*r;s=c;l=f+(v-f)*r}}return{x1:u,y1:v,x2:c,y2:f,cpx1:n,cpy1:o,cpx2:s,cpy2:l}}var YS=gr();function XS(e){var t=e.mainData;var r=e.datas;if(!r){r={main:t};e.datasAttr={main:"data"}}e.datas=e.mainData=null;QS(t,r,e);s(r,(function(r){s(t.TRANSFERABLE_METHODS,(function(t){r.wrapMethod(t,N(ZS,e))}))}));t.wrapMethod("cloneShallow",N(qS,e));s(t.CHANGABLE_METHODS,(function(r){t.wrapMethod(r,N(jS,e))}));l(r[t.dataType]===t)}function ZS(e,t){if($S(this)){var r=d({},YS(this).datas);r[this.dataType]=t;QS(t,r,e)}else{ew(t,this.dataType,YS(this).mainData,e)}return t}function jS(e,t){e.struct&&e.struct.update();return t}function qS(e,t){s(YS(t).datas,(function(r,a){r!==t&&ew(r.cloneShallow(),a,t,e)}));return t}function KS(e){var t=YS(this).mainData;return e==null||t==null?t:YS(t).datas[e]}function JS(){var e=YS(this).mainData;return e==null?[{data:e}]:f(g(YS(e).datas),(function(t){return{type:t,data:YS(e).datas[t]}}))}function $S(e){return YS(e).mainData===e}function QS(e,t,r){YS(e).datas={};s(t,(function(t,a){ew(t,a,e,r)}))}function ew(e,t,r,a){YS(r).datas[t]=e;YS(e).mainData=r;e.dataType=t;if(a.struct){e[a.structAttr]=a.struct;a.struct[a.datasAttr[t]]=e}e.getLinkedData=KS;e.getLinkedDataAll=JS}var tw=function(){function e(e,t){this.depth=0;this.height=0;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.isExpand=false;this.name=e||"";this.hostTree=t}e.prototype.isRemoved=function(){return this.dataIndex<0};e.prototype.eachNode=function(e,t,r){if(a.isFunction(e)){r=t;t=e;e=null}e=e||{};if(a.isString(e)){e={order:e}}var i=e.order||"preorder";var n=this[e.attr||"children"];var o;i==="preorder"&&(o=t.call(r,this));for(var s=0;!o&&s<n.length;s++){n[s].eachNode(e,t,r)}i==="postorder"&&t.call(r,this)};e.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var r=0;r<this.children.length;r++){var a=this.children[r];a.updateDepthAndHeight(e+1);if(a.height>t){t=a.height}}this.height=t+1};e.prototype.getNodeById=function(e){if(this.getId()===e){return this}for(var t=0,r=this.children,a=r.length;t<a;t++){var i=r[t].getNodeById(e);if(i){return i}}};e.prototype.contains=function(e){if(e===this){return true}for(var t=0,r=this.children,a=r.length;t<a;t++){var i=r[t].contains(e);if(i){return i}}};e.prototype.getAncestors=function(e){var t=[];var r=e?this:this.parentNode;while(r){t.push(r);r=r.parentNode}t.reverse();return t};e.prototype.getAncestorsIndices=function(){var e=[];var t=this;while(t){e.push(t.dataIndex);t=t.parentNode}e.reverse();return e};e.prototype.getDescendantIndices=function(){var e=[];this.eachNode((function(t){e.push(t.dataIndex)}));return e};e.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)};e.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)};e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)};e.prototype.getModel=function(e){if(this.dataIndex<0){return}var t=this.hostTree;var r=t.data.getItemModel(this.dataIndex);return r.getModel(e)};e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]};e.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)};e.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)};e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)};e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)};e.prototype.getChildIndex=function(){if(this.parentNode){var e=this.parentNode.children;for(var t=0;t<e.length;++t){if(e[t]===this){return t}}return-1}return-1};e.prototype.isAncestorOf=function(e){var t=e.parentNode;while(t){if(t===this){return true}t=t.parentNode}return false};e.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)};return e}();var rw=function(){function e(e){this.type="tree";this._nodes=[];this.hostModel=e}e.prototype.eachNode=function(e,t,r){this.root.eachNode(e,t,r)};e.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]};e.prototype.getNodeById=function(e){return this.root.getNodeById(e)};e.prototype.update=function(){var e=this.data;var t=this._nodes;for(var r=0,a=t.length;r<a;r++){t[r].dataIndex=-1}for(var r=0,a=e.count();r<a;r++){t[e.getRawIndex(r)].dataIndex=r}};e.prototype.clearLayouts=function(){this.data.clearItemLayouts()};e.createTree=function(t,r,i){var n=new e(r);var o=[];var s=1;l(t);function l(e,t){var r=e.value;s=Math.max(s,a.isArray(r)?r.length:1);o.push(e);var i=new tw(lr(e.name,""),n);t?aw(i,t):n.root=i;n._nodes.push(i);var u=e.children;if(u){for(var c=0;c<u.length;c++){l(u[c],i)}}}n.root.updateDepthAndHeight(0);var u=pd(o,{coordDimensions:["value"],dimensionsCount:s}).dimensions;var c=new hd(u,r);c.initData(o);i&&i(c);XS({mainData:c,struct:n,structAttr:"tree"});n.update();return n};return e}();function aw(e,t){var r=t.children;if(e.parentNode===t){return}r.push(e);e.parentNode=t}function iw(e,t,r){if(e&&a.indexOf(t,e.type)>=0){var i=r.getData().tree.root;var n=e.targetNode;if(a.isString(n)){n=i.getNodeById(n)}if(n&&i.contains(n)){return{node:n}}var o=e.targetNodeId;if(o!=null&&(n=i.getNodeById(o))){return{node:n}}}}function nw(e){var t=[];while(e){e=e.parentNode;e&&t.push(e)}return t.reverse()}function ow(e,t){var r=nw(e);return a.indexOf(r,t)>=0}function sw(e,t){var r=[];while(e){var a=e.dataIndex;r.push({name:e.name,dataIndex:a,value:t.getRawValue(a)});e=e.parentNode}r.reverse();return r}var lw=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.hasSymbolVisual=true;e.ignoreStyleOnData=true;return e}r.prototype.getInitialData=function(e){var t={name:e.name,children:e.data};var r=e.leaves||{};var a=new Mn(r,this,this.ecModel);var i=rw.createTree(t,this,n);function n(e){e.wrapMethod("getItemModel",(function(e,t){var r=i.getNodeByDataIndex(t);if(!(r&&r.children.length&&r.isExpand)){e.parentModel=a}return e}))}var o=0;i.eachNode("preorder",(function(e){if(e.depth>o){o=e.depth}}));var s=e.expandAndCollapse;var l=s&&e.initialTreeDepth>=0?e.initialTreeDepth:o;i.root.eachNode("preorder",(function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&t.collapsed!=null?!t.collapsed:e.depth<=l}));return i.data};r.prototype.getOrient=function(){var e=this.get("orient");if(e==="horizontal"){e="LR"}else if(e==="vertical"){e="TB"}return e};r.prototype.setZoom=function(e){this.option.zoom=e};r.prototype.setCenter=function(e){this.option.center=e};r.prototype.formatTooltip=function(e,t,r){var a=this.getData().tree;var i=a.root.children[0];var n=a.getNodeByDataIndex(e);var o=n.getValue();var s=n.name;while(n&&n!==i){s=n.parentNode.name+"."+s;n=n.parentNode}return Gu("nameValue",{name:s,value:o,noValue:isNaN(o)||o==null})};r.prototype.getDataParams=function(e){var r=t.prototype.getDataParams.apply(this,arguments);var a=this.getData().tree.getNodeByDataIndex(e);r.treeAncestors=sw(a,this);r.collapsed=!a.isExpand;return r};r.type="series.tree";r.layoutMode="box";r.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:false,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:true,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:true},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500};return r}(sc);function uw(e,t,r){var a=[e];var i=[];var n;while(n=a.pop()){i.push(n);if(n.isExpand){var o=n.children;if(o.length){for(var s=0;s<o.length;s++){a.push(o[s])}}}}while(n=i.pop()){t(n,r)}}function cw(e,t){var r=[e];var a;while(a=r.pop()){t(a);if(a.isExpand){var i=a.children;if(i.length){for(var n=i.length-1;n>=0;n--){r.push(i[n])}}}}}function vw(e,t){e.eachSeriesByType("tree",(function(e){fw(e,t)}))}function fw(e,t){var r=TS(e,t);e.layoutInfo=r;var a=e.get("layout");var i=0;var n=0;var o=null;if(a==="radial"){i=2*Math.PI;n=Math.min(r.height,r.width)/2;o=IS((function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth}))}else{i=r.width;n=r.height;o=IS()}var s=e.getData().tree.root;var l=s.children[0];if(l){SS(s);uw(l,wS,o);s.hierNode.modifier=-l.hierNode.prelim;cw(l,MS);var u=l;var c=l;var v=l;cw(l,(function(e){var t=e.getLayout().x;if(t<u.getLayout().x){u=e}if(t>c.getLayout().x){c=e}if(e.depth>v.depth){v=e}}));var f=u===c?1:o(u,c)/2;var h=f-u.getLayout().x;var d=0;var p=0;var g=0;var y=0;if(a==="radial"){d=i/(c.getLayout().x+f+h);p=n/(v.depth-1||1);cw(l,(function(e){g=(e.getLayout().x+h)*d;y=(e.depth-1)*p;var t=DS(g,y);e.setLayout({x:t.x,y:t.y,rawX:g,rawY:y},true)}))}else{var m=e.getOrient();if(m==="RL"||m==="LR"){p=n/(c.getLayout().x+f+h);d=i/(v.depth-1||1);cw(l,(function(e){y=(e.getLayout().x+h)*p;g=m==="LR"?(e.depth-1)*d:i-(e.depth-1)*d;e.setLayout({x:g,y:y},true)}))}else if(m==="TB"||m==="BT"){d=i/(c.getLayout().x+f+h);p=n/(v.depth-1||1);cw(l,(function(e){g=(e.getLayout().x+h)*d;y=m==="TB"?(e.depth-1)*p:n-(e.depth-1)*p;e.setLayout({x:g,y:y},true)}))}}}}function hw(e){e.eachSeriesByType("tree",(function(e){var t=e.getData();var r=t.tree;r.eachNode((function(e){var r=e.getModel();var a=r.getModel("itemStyle").getItemStyle();var i=t.ensureUniqueItemVisual(e.dataIndex,"style");d(i,a)}))}))}function dw(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var r=e.dataIndex;var a=t.getData().tree;var i=a.getNodeByDataIndex(r);i.isExpand=!i.isExpand}))}));e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(e,t,r){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var a=t.coordinateSystem;var i=yS(a,e,undefined,r);t.setCenter&&t.setCenter(i.center);t.setZoom&&t.setZoom(i.zoom)}))}))}function pw(e){e.registerChartView(zS);e.registerSeriesModel(lw);e.registerLayout(vw);e.registerVisual(hw);dw(e)}var gw=["treemapZoomToNode","treemapRender","treemapMove"];function yw(e){for(var t=0;t<gw.length;t++){e.registerAction({type:gw[t],update:"updateView"},L)}e.registerAction({type:"treemapRootToNode",update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},r);function r(t,r){var a=["treemapZoomToNode","treemapRootToNode"];var i=iw(e,a,t);if(i){var n=t.getViewRoot();if(n){e.direction=ow(n,i.node)?"rollUp":"drillDown"}t.resetViewRoot(i.node)}}}))}function mw(e){var t=e.getData();var r=t.tree;var a={};r.eachNode((function(t){var r=t;while(r&&r.depth>1){r=r.parentNode}var i=Ms(e.ecModel,r.name||r.dataIndex+"",a);t.setVisual("decal",i)}))}var xw=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.preventUsingHoverLayer=true;return e}r.prototype.getInitialData=function(e,t){var r={name:e.name,children:e.data};_w(r);var i=e.levels||[];var n=this.designatedVisualItemStyle={};var o=new Mn({itemStyle:n},this,t);i=e.levels=bw(i,t);var s=a.map(i||[],(function(e){return new Mn(e,o,t)}),this);var l=rw.createTree(r,this,u);function u(e){e.wrapMethod("getItemModel",(function(e,t){var r=l.getNodeByDataIndex(t);var a=r?s[r.depth]:null;e.parentModel=a||o;return e}))}return l.data};r.prototype.optionUpdated=function(){this.resetViewRoot()};r.prototype.formatTooltip=function(e,t,r){var a=this.getData();var i=this.getRawValue(e);var n=a.getName(e);return Gu("nameValue",{name:n,value:i})};r.prototype.getDataParams=function(e){var r=t.prototype.getDataParams.apply(this,arguments);var a=this.getData().tree.getNodeByDataIndex(e);r.treeAncestors=sw(a,this);r.treePathInfo=r.treeAncestors;return r};r.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{};a.extend(this.layoutInfo,e)};r.prototype.mapIdToIndex=function(e){var t=this._idIndexMap;if(!t){t=this._idIndexMap=a.createHashMap();this._idIndexMapCount=0}var r=t.get(e);if(r==null){t.set(e,r=this._idIndexMapCount++)}return r};r.prototype.getViewRoot=function(){return this._viewRoot};r.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;if(!e||e!==t&&!t.contains(e)){this._viewRoot=t}};r.prototype.enableAriaDecal=function(){mw(this)};r.type="series.treemap";r.layoutMode="box";r.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:true,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:true,nodeClick:"zoomToNode",animation:true,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:true,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:true,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:false,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:true,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]};return r}(sc);function _w(e){var t=0;a.each(e.children,(function(e){_w(e);var r=e.value;a.isArray(r)&&(r=r[0]);t+=r}));var r=e.value;if(a.isArray(r)){r=r[0]}if(r==null||isNaN(r)){r=t}if(r<0){r=0}a.isArray(e.value)?e.value[0]=r:e.value=r}function bw(e,t){var r=jt(t.get("color"));var i=jt(t.get(["aria","decal","decals"]));if(!r){return}e=e||[];var n;var o;a.each(e,(function(e){var t=new Mn(e);var r=t.get("color");var a=t.get("decal");if(t.get(["itemStyle","color"])||r&&r!=="none"){n=true}if(t.get(["itemStyle","decal"])||a&&a!=="none"){o=true}}));var s=e[0]||(e[0]={});if(!n){s.color=r.slice()}if(!o&&i){s.decal=i.slice()}return e}var Sw=8;var ww=8;var Mw=5;var Iw=function(){function e(e){this.group=new ue;e.add(this.group)}e.prototype.render=function(e,t,r,a){var i=e.getModel("breadcrumb");var n=this.group;n.removeAll();if(!i.get("show")||!r){return}var o=i.getModel("itemStyle");var s=i.getModel("emphasis");var l=o.getModel("textStyle");var u=s.getModel(["itemStyle","textStyle"]);var c={pos:{left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(r,c,l);this._renderContent(e,c,o,s,l,u,a);Ho(n,c.pos,c.box)};e.prototype._prepare=function(e,t,r){for(var a=e;a;a=a.parentNode){var i=lr(a.getModel().get("name"),"");var n=r.getTextRect(i);var o=Math.max(n.width+Sw*2,t.emptyItemWidth);t.totalWidth+=o+ww;t.renderList.push({node:a,text:i,width:o})}};e.prototype._renderContent=function(e,t,r,a,i,n,o){var s=0;var l=t.emptyItemWidth;var u=e.get(["breadcrumb","height"]);var c=Go(t.pos,t.box);var v=t.totalWidth;var f=t.renderList;var h=a.getModel("itemStyle").getItemStyle();for(var d=f.length-1;d>=0;d--){var p=f[d];var g=p.node;var y=p.width;var m=p.text;if(v>c.width){v-=y-l;y=l;m=null}var _=new de({shape:{points:Dw(s,0,y,u,d===f.length-1,d===0)},style:x(r.getItemStyle(),{lineJoin:"bevel"}),textContent:new U({style:tn(i,{text:m})}),textConfig:{position:"inside"},z2:aa*1e4,onclick:N(o,g)});_.disableLabelAnimation=true;_.getTextContent().ensureState("emphasis").style=tn(n,{text:m});_.ensureState("emphasis").style=h;ja(_,a.get("focus"),a.get("blurScope"),a.get("disabled"));this.group.add(_);Tw(_,e,g);s+=y+ww}};e.prototype.remove=function(){this.group.removeAll()};return e}();function Dw(e,t,r,a,i,n){var o=[[i?e:e-Mw,t],[e+r,t],[e+r,t+a],[i?e:e-Mw,t+a]];!n&&o.splice(2,0,[e+r+Mw,t+a/2]);!i&&o.push([e,t+a/2]);return o}function Tw(e,t,r){Xr(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&sw(r,t)}}var Cw=function(){function e(){this._storage=[];this._elExistsMap={}}e.prototype.add=function(e,t,r,a,i){if(this._elExistsMap[e.id]){return false}this._elExistsMap[e.id]=true;this._storage.push({el:e,target:t,duration:r,delay:a,easing:i});return true};e.prototype.finished=function(e){this._finishedCallback=e;return this};e.prototype.start=function(){var e=this;var t=this._storage.length;var r=function(){t--;if(t<=0){e._storage.length=0;e._elExistsMap={};e._finishedCallback&&e._finishedCallback()}};for(var a=0,i=this._storage.length;a<i;a++){var n=this._storage[a];n.el.animateTo(n.target,{duration:n.duration,delay:n.delay,easing:n.easing,setToFinal:true,done:r,aborted:r})}return this};return e}();function Aw(){return new Cw}var Lw=ue;var kw=ge;var Pw=3;var Nw="label";var Ow="upperLabel";var Rw=aa*10;var Ew=aa*2;var zw=aa*3;var Vw=Hr([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var Bw=function(e){var t=Vw(e);t.stroke=t.fill=t.lineWidth=null;return t};var Gw=gr();var Fw=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e._state="ready";e._storage=Hw();return e}r.prototype.render=function(e,t,r,a){var i=t.findComponents({mainType:"series",subType:"treemap",query:a});if(h(i,e)<0){return}this.seriesModel=e;this.api=r;this.ecModel=t;var n=["treemapZoomToNode","treemapRootToNode"];var o=iw(a,n,e);var s=a&&a.type;var l=e.layoutInfo;var u=!this._oldTree;var c=this._storage;var v=s==="treemapRootToNode"&&o&&c?{rootNodeGroup:c.nodeGroup[o.node.getRawIndex()],direction:a.direction}:null;var f=this._giveContainerGroup(l);var d=e.get("animation");var p=this._doRender(f,e,v);d&&!u&&(!s||s==="treemapZoomToNode"||s==="treemapRootToNode")?this._doAnimation(f,p,e,v):p.renderFinally();this._resetController(r);this._renderBreadcrumb(e,r,o)};r.prototype._giveContainerGroup=function(e){var t=this._containerGroup;if(!t){t=this._containerGroup=new Lw;this._initEvents(t);this.group.add(t)}t.x=e.x;t.y=e.y;return t};r.prototype._doRender=function(e,t,r){var a=t.getData().tree;var i=this._oldTree;var n=Hw();var o=Hw();var l=this._storage;var u=[];function c(e,a,i,s){return Ww(t,o,l,r,n,u,e,a,i,s)}d(a.root?[a.root]:[],i&&i.root?[i.root]:[],e,a===i||!i,0);var v=p(l);this._oldTree=a;this._storage=o;if(this._controllerHost){var f=this.seriesModel.layoutInfo;var h=a.root.getLayout();if(h.width===f.width&&h.height===f.height){this._controllerHost.zoom=1}}return{lastsForAnimation:n,willDeleteEls:v,renderFinally:g};function d(e,t,r,a,i){if(a){t=e;s(e,(function(e,t){!e.isRemoved()&&o(t,t)}))}else{new Bh(t,e,n,n).add(o).update(o).remove(N(o,null)).execute()}function n(e){return e.getId()}function o(n,o){var s=n!=null?e[n]:null;var l=o!=null?t[o]:null;var u=c(s,l,r,i);u&&d(s&&s.viewChildren||[],l&&l.viewChildren||[],u,a,i+1)}}function p(e){var t=Hw();e&&s(e,(function(e,r){var a=t[r];s(e,(function(e){e&&(a.push(e),Gw(e).willDelete=true)}))}));return t}function g(){s(v,(function(e){s(e,(function(e){e.parent&&e.parent.remove(e)}))}));s(u,(function(e){e.invisible=true;e.dirty()}))}};r.prototype._doAnimation=function(e,t,r,a){var i=r.get("animationDurationUpdate");var n=r.get("animationEasing");var o=(m(i)?0:i)||0;var l=(m(n)?null:n)||"cubicOut";var u=Aw();s(t.willDeleteEls,(function(e,t){s(e,(function(e,r){if(e.invisible){return}var i=e.parent;var n;var s=Gw(i);if(a&&a.direction==="drillDown"){n=i===a.rootNodeGroup?{shape:{x:0,y:0,width:s.nodeWidth,height:s.nodeHeight},style:{opacity:0}}:{style:{opacity:0}}}else{var c=0;var v=0;if(!s.willDelete){c=s.nodeWidth/2;v=s.nodeHeight/2}n=t==="nodeGroup"?{x:c,y:v,style:{opacity:0}}:{shape:{x:c,y:v,width:0,height:0},style:{opacity:0}}}n&&u.add(e,n,o,0,l)}))}));s(this._storage,(function(e,r){s(e,(function(e,a){var i=t.lastsForAnimation[r][a];var n={};if(!i){return}if(e instanceof ue){if(i.oldX!=null){n.x=e.x;n.y=e.y;e.x=i.oldX;e.y=i.oldY}}else{if(i.oldShape){n.shape=d({},e.shape);e.setShape(i.oldShape)}if(i.fadein){e.setStyle("opacity",0);n.style={opacity:1}}else if(e.style.opacity!==1){n.style={opacity:1}}}u.add(e,n,o,0,l)}))}),this);this._state="animating";u.finished(C((function(){this._state="ready";t.renderFinally()}),this)).start()};r.prototype._resetController=function(e){var t=this._controller;var r=this._controllerHost;if(!r){this._controllerHost={target:this.group};r=this._controllerHost}if(!t){t=this._controller=new vb(e.getZr());t.enable(this.seriesModel.get("roam"));r.zoomLimit=this.seriesModel.get("scaleLimit");r.zoom=this.seriesModel.get("zoom");t.on("pan",C(this._onPan,this));t.on("zoom",C(this._onZoom,this))}var a=new we(0,0,e.getWidth(),e.getHeight());t.setPointerChecker((function(e,t,r){return a.contain(t,r)}))};r.prototype._clearController=function(){var e=this._controller;this._controllerHost=null;if(e){e.dispose();e=null}};r.prototype._onPan=function(e){if(this._state!=="animating"&&(Math.abs(e.dx)>Pw||Math.abs(e.dy)>Pw)){var t=this.seriesModel.getData().tree.root;if(!t){return}var r=t.getLayout();if(!r){return}this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+e.dx,y:r.y+e.dy,width:r.width,height:r.height}})}};r.prototype._onZoom=function(e){var t=e.originX;var r=e.originY;var a=e.scale;if(this._state!=="animating"){var i=this.seriesModel.getData().tree.root;if(!i){return}var n=i.getLayout();if(!n){return}var o=new we(n.x,n.y,n.width,n.height);var s=null;var l=this._controllerHost;s=l.zoomLimit;var u=l.zoom=l.zoom||1;u*=a;if(s){var c=s.min||0;var v=s.max||Infinity;u=Math.max(Math.min(v,u),c)}var f=u/l.zoom;l.zoom=u;var h=this.seriesModel.layoutInfo;t-=h.x;r-=h.y;var d=re.create();re.translate(d,d,[-t,-r]);re.scale(d,d,[f,f]);re.translate(d,d,[t,r]);o.applyTransform(d);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}};r.prototype._initEvents=function(e){var t=this;e.on("click",(function(e){if(t._state!=="ready"){return}var r=t.seriesModel.get("nodeClick",true);if(!r){return}var a=t.findTarget(e.offsetX,e.offsetY);if(!a){return}var i=a.node;if(i.getLayout().isLeafRoot){t._rootToNode(a)}else{if(r==="zoomToNode"){t._zoomToNode(a)}else if(r==="link"){var n=i.hostTree.data.getItemModel(i.dataIndex);var o=n.get("link",true);var s=n.get("target",true)||"blank";o&&Oo(o,s)}}}),this)};r.prototype._renderBreadcrumb=function(e,t,r){var a=this;if(!r){r=e.get("leafDepth",true)!=null?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2);if(!r){r={node:e.getData().tree.root}}}(this._breadcrumb||(this._breadcrumb=new Iw(this.group))).render(e,t,r.node,(function(t){if(a._state!=="animating"){ow(e.getViewRoot(),t)?a._rootToNode({node:t}):a._zoomToNode({node:t})}}))};r.prototype.remove=function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage=Hw();this._state="ready";this._breadcrumb&&this._breadcrumb.remove()};r.prototype.dispose=function(){this._clearController()};r.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})};r.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})};r.prototype.findTarget=function(e,t){var r;var a=this.seriesModel.getViewRoot();a.eachNode({attr:"viewChildren",order:"preorder"},(function(a){var i=this._storage.background[a.getRawIndex()];if(i){var n=i.transformCoordToLocal(e,t);var o=i.shape;if(o.x<=n[0]&&n[0]<=o.x+o.width&&o.y<=n[1]&&n[1]<=o.y+o.height){r={node:a,offsetX:n[0],offsetY:n[1]}}else{return false}}}),this);return r};r.type="treemap";return r}(_c);function Hw(){return{nodeGroup:[],background:[],content:[]}}function Ww(e,t,r,a,i,n,o,s,l,u){if(!o){return}var c=o.getLayout();var v=e.getData();var f=o.getModel();v.setItemGraphicEl(o.dataIndex,null);if(!c||!c.isInView){return}var h=c.width;var p=c.height;var g=c.borderWidth;var y=c.invisible;var m=o.getRawIndex();var x=s&&s.getRawIndex();var _=o.viewChildren;var b=c.upperHeight;var S=_&&_.length;var w=f.getModel("itemStyle");var M=f.getModel(["emphasis","itemStyle"]);var I=f.getModel(["blur","itemStyle"]);var D=f.getModel(["select","itemStyle"]);var T=w.get("borderRadius")||0;var C=H("nodeGroup",Lw);if(!C){return}l.add(C);C.x=c.x||0;C.y=c.y||0;C.markRedraw();Gw(C).nodeWidth=h;Gw(C).nodeHeight=p;if(c.isAboveViewRoot){return C}var A=H("background",kw,u,Ew);A&&z(C,A,S&&c.upperLabelHeight);var L=f.getModel("emphasis");var k=L.get("focus");var P=L.get("blurScope");var N=L.get("disabled");var O=k==="ancestor"?o.getAncestorsIndices():k==="descendant"?o.getDescendantIndices():k;if(S){if(ei(C)){Qa(C,false)}if(A){Qa(A,!N);v.setItemGraphicEl(o.dataIndex,A);qa(A,O,P)}}else{var R=H("content",kw,u,zw);R&&V(C,R);A.disableMorphing=true;if(A&&ei(A)){Qa(A,false)}Qa(C,!N);v.setItemGraphicEl(o.dataIndex,C);qa(C,O,P)}return C;function z(t,r,a){var i=Xr(r);i.dataIndex=o.dataIndex;i.seriesIndex=e.seriesIndex;r.setShape({x:0,y:0,width:h,height:p,r:T});if(y){B(r)}else{r.invisible=false;var n=o.getVisual("style");var s=n.stroke;var l=Bw(w);l.fill=s;var u=Vw(M);u.fill=M.get("borderColor");var c=Vw(I);c.fill=I.get("borderColor");var v=Vw(D);v.fill=D.get("borderColor");if(a){var f=h-2*g;G(r,s,n.opacity,{x:g,y:0,width:f,height:b})}else{r.removeTextContent()}r.setStyle(l);r.ensureState("emphasis").style=u;r.ensureState("blur").style=c;r.ensureState("select").style=v;Da(r)}t.add(r)}function V(t,r){var a=Xr(r);a.dataIndex=o.dataIndex;a.seriesIndex=e.seriesIndex;var i=Math.max(h-2*g,0);var n=Math.max(p-2*g,0);r.culling=true;r.setShape({x:g,y:g,width:i,height:n,r:T});if(y){B(r)}else{r.invisible=false;var s=o.getVisual("style");var l=s.fill;var u=Bw(w);u.fill=l;u.decal=s.decal;var c=Vw(M);var v=Vw(I);var f=Vw(D);G(r,l,s.opacity,null);r.setStyle(u);r.ensureState("emphasis").style=c;r.ensureState("blur").style=v;r.ensureState("select").style=f;Da(r)}t.add(r)}function B(e){!e.invisible&&n.push(e)}function G(t,r,a,i){var n=f.getModel(i?Ow:Nw);var s=lr(f.get("name"),null);var l=n.getShallow("show");Qi(t,en(f,i?Ow:Nw),{defaultText:l?s:null,inheritColor:r,defaultOpacity:a,labelFetcher:e,labelDataIndex:o.dataIndex});var u=t.getTextContent();if(!u){return}var v=u.style;var h=E(v.padding||0);if(i){t.setTextConfig({layoutRect:i});u.disableLabelLayout=true}u.beforeUpdate=function(){var e=Math.max((i?i.width:t.shape.width)-h[1]-h[3],0);var r=Math.max((i?i.height:t.shape.height)-h[0]-h[2],0);if(v.width!==e||v.height!==r){u.setStyle({width:e,height:r})}};v.truncateMinChar=2;v.lineOverflow="truncate";F(v,i,c);var d=u.getState("emphasis");F(d?d.style:null,i,c)}function F(t,r,a){var i=t?t.text:null;if(!r&&a.isLeafRoot&&i!=null){var n=e.get("drillDownIcon",true);t.text=n?n+" "+i:i}}function H(e,a,n,o){var s=x!=null&&r[e][x];var l=i[e];if(s){r[e][x]=null;W(l,s)}else if(!y){s=new a;if(s instanceof rt){s.z2=Uw(n,o)}U(l,s)}return t[e][m]=s}function W(e,t){var r=e[m]={};if(t instanceof Lw){r.oldX=t.x;r.oldY=t.y}else{r.oldShape=d({},t.shape)}}function U(e,t){var r=e[m]={};var n=o.parentNode;var s=t instanceof ue;if(n&&(!a||a.direction==="drillDown")){var l=0;var u=0;var c=i.background[n.getRawIndex()];if(!a&&c&&c.oldShape){l=c.oldShape.width;u=c.oldShape.height}if(s){r.oldX=0;r.oldY=u}else{r.oldShape={x:l,y:u,width:0,height:0}}}r.fadein=!s}}function Uw(e,t){return e*Rw+t}var Yw=a.each;var Xw=a.isObject;var Zw=-1;var jw=function(){function e(t){var r=t.mappingMethod;var i=t.type;var n=this.option=a.clone(t);this.type=i;this.mappingMethod=r;this._normalizeData=oM[r];var o=e.visualHandlers[i];this.applyVisual=o.applyVisual;this.getColorMapper=o.getColorMapper;this._normalizedToVisual=o._normalizedToVisual[r];if(r==="piecewise"){Jw(n);qw(n)}else if(r==="category"){n.categories?Kw(n):Jw(n,true)}else{a.assert(r!=="linear"||n.dataExtent);Jw(n)}}e.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)};e.prototype.getNormalizer=function(){return a.bind(this._normalizeData,this)};e.listVisualTypes=function(){return a.keys(e.visualHandlers)};e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)};e.eachVisual=function(e,t,r){if(a.isObject(e)){a.each(e,t,r)}else{t.call(r,e)}};e.mapVisual=function(t,r,i){var n;var o=a.isArray(t)?[]:a.isObject(t)?{}:(n=true,null);e.eachVisual(t,(function(e,t){var a=r.call(i,e,t);n?o=a:o[t]=a}));return o};e.retrieveVisuals=function(t){var r={};var a;t&&Yw(e.visualHandlers,(function(e,i){if(t.hasOwnProperty(i)){r[i]=t[i];a=true}}));return a?r:null};e.prepareVisualTypes=function(e){if(a.isArray(e)){e=e.slice()}else if(Xw(e)){var t=[];Yw(e,(function(e,r){t.push(r)}));e=t}else{return[]}e.sort((function(e,t){return t==="color"&&e!=="color"&&e.indexOf("color")===0?1:-1}));return e};e.dependsOn=function(e,t){return t==="color"?!!(e&&e.indexOf(t)===0):e===t};e.findPieceIndex=function(e,t,r){var i;var n=Infinity;for(var o=0,s=t.length;o<s;o++){var l=t[o].value;if(l!=null){if(l===e||a.isString(l)&&l===e+""){return o}r&&f(l,o)}}for(var o=0,s=t.length;o<s;o++){var u=t[o];var c=u.interval;var v=u.close;if(c){if(c[0]===-Infinity){if(sM(v[1],e,c[1])){return o}}else if(c[1]===Infinity){if(sM(v[0],c[0],e)){return o}}else if(sM(v[0],c[0],e)&&sM(v[1],e,c[1])){return o}r&&f(c[0],o);r&&f(c[1],o)}}if(r){return e===Infinity?t.length-1:e===-Infinity?0:i}function f(t,r){var a=Math.abs(t-e);if(a<n){n=a;i=r}}};e.visualHandlers={color:{applyVisual:eM("color"),getColorMapper:function(){var e=this.option;return a.bind(e.mappingMethod==="category"?function(e,t){!t&&(e=this._normalizeData(e));return tM.call(this,e)}:function(t,r,a){var i=!!a;!r&&(t=this._normalizeData(t));a=Y.fastLerp(t,e.parsedVisual,a);return i?a:Y.stringify(a,"rgba")},this)},_normalizedToVisual:{linear:function(e){return Y.stringify(Y.fastLerp(e,this.option.parsedVisual),"rgba")},category:tM,piecewise:function(e,t){var r=iM.call(this,t);if(r==null){r=Y.stringify(Y.fastLerp(e,this.option.parsedVisual),"rgba")}return r},fixed:rM}},colorHue:$w((function(e,t){return Y.modifyHSL(e,t)})),colorSaturation:$w((function(e,t){return Y.modifyHSL(e,null,t)})),colorLightness:$w((function(e,t){return Y.modifyHSL(e,null,null,t)})),colorAlpha:$w((function(e,t){return Y.modifyAlpha(e,t)})),decal:{applyVisual:eM("decal"),_normalizedToVisual:{linear:null,category:tM,piecewise:null,fixed:null}},opacity:{applyVisual:eM("opacity"),_normalizedToVisual:aM([0,1])},liftZ:{applyVisual:eM("liftZ"),_normalizedToVisual:{linear:rM,category:rM,piecewise:rM,fixed:rM}},symbol:{applyVisual:function(e,t,r){var a=this.mapValueToVisual(e);r("symbol",a)},_normalizedToVisual:{linear:Qw,category:tM,piecewise:function(e,t){var r=iM.call(this,t);if(r==null){r=Qw.call(this,e)}return r},fixed:rM}},symbolSize:{applyVisual:eM("symbolSize"),_normalizedToVisual:aM([0,1])}};return e}();function qw(e){var t=e.pieceList;e.hasSpecialVisual=false;a.each(t,(function(t,r){t.originIndex=r;if(t.visual!=null){e.hasSpecialVisual=true}}))}function Kw(e){var t=e.categories;var r=e.categoryMap={};var i=e.visual;Yw(t,(function(e,t){r[e]=t}));if(!a.isArray(i)){var n=[];if(a.isObject(i)){Yw(i,(function(e,t){var a=r[t];n[a!=null?a:Zw]=e}))}else{n[Zw]=i}i=nM(e,n)}for(var o=t.length-1;o>=0;o--){if(i[o]==null){delete r[t[o]];t.pop()}}}function Jw(e,t){var r=e.visual;var i=[];if(a.isObject(r)){Yw(r,(function(e){i.push(e)}))}else if(r!=null){i.push(r)}var n={color:1,symbol:1};if(!t&&i.length===1&&!n.hasOwnProperty(e.type)){i[1]=i[0]}nM(e,i)}function $w(e){return{applyVisual:function(t,r,a){var i=this.mapValueToVisual(t);a("color",e(r("color"),i))},_normalizedToVisual:aM([0,1])}}function Qw(e){var t=this.option.visual;return t[Math.round(dt(e,[0,1],[0,t.length-1],true))]||{}}function eM(e){return function(t,r,a){a(e,this.mapValueToVisual(t))}}function tM(e){var t=this.option.visual;return t[this.option.loop&&e!==Zw?e%t.length:e]}function rM(){return this.option.visual[0]}function aM(e){return{linear:function(t){return dt(t,e,this.option.visual,true)},category:tM,piecewise:function(t,r){var a=iM.call(this,r);if(a==null){a=dt(t,e,this.option.visual,true)}return a},fixed:rM}}function iM(e){var t=this.option;var r=t.pieceList;if(t.hasSpecialVisual){var a=jw.findPieceIndex(e,r);var i=r[a];if(i&&i.visual){return i.visual[this.type]}}}function nM(e,t){e.visual=t;if(e.type==="color"){e.parsedVisual=a.map(t,(function(e){var t=Y.parse(e);if(!t&&"production"!=="production"){Wt("'"+e+"' is an illegal color, fallback to '#000000'",true)}return t||[0,0,0,1]}))}return t}var oM={linear:function(e){return dt(e,this.option.dataExtent,[0,1],true)},piecewise:function(e){var t=this.option.pieceList;var r=jw.findPieceIndex(e,t,true);if(r!=null){return dt(r,[0,t.length-1],[0,1],true)}},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return t==null?Zw:t},fixed:a.noop};function sM(e,t,r){return e?t<=r:t<r}var lM="itemStyle";var uM=gr();var cM={seriesType:"treemap",reset:function(e){var t=e.getData().tree;var r=t.root;if(r.isRemoved()){return}vM(r,{},e.getViewRoot().getAncestors(),e)}};function vM(e,t,r,a){var i=e.getModel();var n=e.getLayout();var o=e.hostTree.data;if(!n||n.invisible||!n.isInView){return}var l=i.getModel(lM);var u=fM(l,t,a);var c=o.ensureUniqueItemVisual(e.dataIndex,"style");var v=l.get("borderColor");var f=l.get("borderColorSaturation");var h;if(f!=null){h=hM(u);v=dM(f,h)}c.stroke=v;var d=e.viewChildren;if(!d||!d.length){h=hM(u);c.fill=h}else{var p=gM(e,i,n,l,u,d);s(d,(function(e,t){if(e.depth>=r.length||e===r[e.depth]){var n=mM(i,u,e,t,p,a);vM(e,n,r,a)}}))}}function fM(e,t,r){var a=d({},t);var i=r.designatedVisualItemStyle;s(["color","colorAlpha","colorSaturation"],(function(r){i[r]=t[r];var n=e.get(r);i[r]=null;n!=null&&(a[r]=n)}));return a}function hM(e){var t=pM(e,"color");if(t){var r=pM(e,"colorAlpha");var a=pM(e,"colorSaturation");if(a){t=j(t,null,null,a)}if(r){t=q(t,r)}return t}}function dM(e,t){return t!=null?j(t,null,null,e):null}function pM(e,t){var r=e[t];if(r!=null&&r!=="none"){return r}}function gM(e,t,r,a,i,n){if(!n||!n.length){return}var o=yM(t,"color")||i.color!=null&&i.color!=="none"&&(yM(t,"colorAlpha")||yM(t,"colorSaturation"));if(!o){return}var s=t.get("visualMin");var l=t.get("visualMax");var u=r.dataExtent.slice();s!=null&&s<u[0]&&(u[0]=s);l!=null&&l>u[1]&&(u[1]=l);var c=t.get("colorMappingBy");var v={type:o.name,dataExtent:u,visual:o.range};if(v.type==="color"&&(c==="index"||c==="id")){v.mappingMethod="category";v.loop=true}else{v.mappingMethod="linear"}var f=new jw(v);uM(f).drColorMappingBy=c;return f}function yM(e,t){var r=e.get(t);return n(r)&&r.length?{name:t,range:r}:null}function mM(e,t,r,a,i,n){var o=d({},t);if(i){var s=i.type;var l=s==="color"&&uM(i).drColorMappingBy;var u=l==="index"?a:l==="id"?n.mapIdToIndex(r.getId()):r.getValue(e.get("visualDimension"));o[s]=i.mapValueToVisual(u)}return o}var xM=Math.max;var _M=Math.min;var bM=a.retrieve;var SM=a.each;var wM=["itemStyle","borderWidth"];var MM=["itemStyle","gapWidth"];var IM=["upperLabel","show"];var DM=["upperLabel","height"];var TM={seriesType:"treemap",reset:function(e,t,r,i){var n=r.getWidth();var o=r.getHeight();var s=e.option;var l=Fo(e.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()});var u=s.size||[];var c=pt(bM(l.width,u[0]),n);var v=pt(bM(l.height,u[1]),o);var f=i&&i.type;var h=["treemapZoomToNode","treemapRootToNode"];var d=iw(i,h,e);var p=f==="treemapRender"||f==="treemapMove"?i.rootRect:null;var g=e.getViewRoot();var y=nw(g);if(f!=="treemapMove"){var m=f==="treemapZoomToNode"?RM(e,d,g,c,v):p?[p.width,p.height]:[c,v];var x=s.sort;if(x&&x!=="asc"&&x!=="desc"){x="desc"}var _={squareRatio:s.squareRatio,sort:x,leafDepth:s.leafDepth};g.hostTree.clearLayouts();var b={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};g.setLayout(b);CM(g,_,false,0);b=g.getLayout();SM(y,(function(e,t){var r=(y[t+1]||g).getValue();e.setLayout(a.extend({dataExtent:[r,r],borderWidth:0,upperHeight:0},b))}))}var S=e.getData().tree.root;S.setLayout(EM(l,p,d),true);e.setLayoutInfo(l);zM(S,new we(-l.x,-l.y,n,o),y,g,0)}};function CM(e,t,r,a){var i;var n;if(e.isRemoved()){return}var o=e.getLayout();i=o.width;n=o.height;var s=e.getModel();var l=s.get(wM);var u=s.get(MM)/2;var c=VM(s);var v=Math.max(l,c);var f=l-u;var h=v-u;e.setLayout({borderWidth:l,upperHeight:v,upperLabelHeight:c},true);i=xM(i-2*f,0);n=xM(n-f-h,0);var d=i*n;var p=AM(e,s,d,t,r,a);if(!p.length){return}var g={x:f,y:h,width:i,height:n};var y=_M(i,n);var m=Infinity;var x=[];x.area=0;for(var _=0,b=p.length;_<b;){var S=p[_];x.push(S);x.area+=S.getLayout().area;var w=NM(x,y,t.squareRatio);if(w<=m){_++;m=w}else{x.area-=x.pop().getLayout().area;OM(x,y,g,u,false);y=_M(g.width,g.height);x.length=x.area=0;m=Infinity}}if(x.length){OM(x,y,g,u,true)}if(!r){var M=s.get("childrenVisibleMin");if(M!=null&&d<M){r=true}}for(var _=0,b=p.length;_<b;_++){CM(p[_],t,r,a+1)}}function AM(e,t,r,i,n,o){var s=e.children||[];var l=i.sort;l!=="asc"&&l!=="desc"&&(l=null);var u=i.leafDepth!=null&&i.leafDepth<=o;if(n&&!u){return e.viewChildren=[]}s=a.filter(s,(function(e){return!e.isRemoved()}));kM(s,l);var c=PM(t,s,l);if(c.sum===0){return e.viewChildren=[]}c.sum=LM(t,r,c.sum,l,s);if(c.sum===0){return e.viewChildren=[]}for(var v=0,f=s.length;v<f;v++){var h=s[v].getValue()/c.sum*r;s[v].setLayout({area:h})}if(u){s.length&&e.setLayout({isLeafRoot:true},true);s.length=0}e.viewChildren=s;e.setLayout({dataExtent:c.dataExtent},true);return s}function LM(e,t,r,a,i){if(!a){return r}var n=e.get("visibleMin");var o=i.length;var s=o;for(var l=o-1;l>=0;l--){var u=i[a==="asc"?o-l-1:l].getValue();if(u/r*t<n){s=l;r-=u}}a==="asc"?i.splice(0,o-s):i.splice(s,o-s);return r}function kM(e,t){if(t){e.sort((function(e,r){var a=t==="asc"?e.getValue()-r.getValue():r.getValue()-e.getValue();return a===0?t==="asc"?e.dataIndex-r.dataIndex:r.dataIndex-e.dataIndex:a}))}return e}function PM(e,t,r){var a=0;for(var i=0,n=t.length;i<n;i++){a+=t[i].getValue()}var o=e.get("visualDimension");var s;if(!t||!t.length){s=[NaN,NaN]}else if(o==="value"&&r){s=[t[t.length-1].getValue(),t[0].getValue()];r==="asc"&&s.reverse()}else{s=[Infinity,-Infinity];SM(t,(function(e){var t=e.getValue(o);t<s[0]&&(s[0]=t);t>s[1]&&(s[1]=t)}))}return{sum:a,dataExtent:s}}function NM(e,t,r){var a=0;var i=Infinity;for(var n=0,o=void 0,s=e.length;n<s;n++){o=e[n].getLayout().area;if(o){o<i&&(i=o);o>a&&(a=o)}}var l=e.area*e.area;var u=t*t*r;return l?xM(u*a/l,l/(u*i)):Infinity}function OM(e,t,r,a,i){var n=t===r.width?0:1;var o=1-n;var s=["x","y"];var l=["width","height"];var u=r[s[n]];var c=t?e.area/t:0;if(i||c>r[l[o]]){c=r[l[o]]}for(var v=0,f=e.length;v<f;v++){var h=e[v];var d={};var p=c?h.getLayout().area/c:0;var g=d[l[o]]=xM(c-2*a,0);var y=r[s[n]]+r[l[n]]-u;var m=v===f-1||y<p?y:p;var x=d[l[n]]=xM(m-2*a,0);d[s[o]]=r[s[o]]+_M(a,g/2);d[s[n]]=u+_M(a,x/2);u+=m;h.setLayout(d,true)}r[s[o]]+=c;r[l[o]]-=c}function RM(e,t,r,a,i){var n=(t||{}).node;var o=[a,i];if(!n||n===r){return o}var s;var l=a*i;var u=l*e.option.zoomToNodeRatio;while(s=n.parentNode){var c=0;var v=s.children;for(var f=0,h=v.length;f<h;f++){c+=v[f].getValue()}var d=n.getValue();if(d===0){return o}u*=c/d;var p=s.getModel();var g=p.get(wM);var y=Math.max(g,VM(p));u+=4*g*g+(3*g+y)*Math.pow(u,.5);u>Mt&&(u=Mt);n=s}u<l&&(u=l);var m=Math.pow(u/l,.5);return[a*m,i*m]}function EM(e,t,r){if(t){return{x:t.x,y:t.y}}var a={x:0,y:0};if(!r){return a}var i=r.node;var n=i.getLayout();if(!n){return a}var o=[n.width/2,n.height/2];var s=i;while(s){var l=s.getLayout();o[0]+=l.x;o[1]+=l.y;s=s.parentNode}return{x:e.width/2-o[0],y:e.height/2-o[1]}}function zM(e,t,r,a,i){var n=e.getLayout();var o=r[i];var s=o&&o===e;if(o&&!s||i===r.length&&e!==a){return}e.setLayout({isInView:true,invisible:!s&&!t.intersect(n),isAboveViewRoot:s},true);var l=new we(t.x-n.x,t.y-n.y,t.width,t.height);SM(e.viewChildren||[],(function(e){zM(e,l,r,a,i+1)}))}function VM(e){return e.get(IM)?e.get(DM):0}function BM(e){e.registerSeriesModel(xw);e.registerChartView(Fw);e.registerVisual(cM);e.registerLayout(TM);yw(e)}function GM(e){var t=e.findComponents({mainType:"legend"});if(!t||!t.length){return}e.eachSeriesByType("graph",(function(e){var r=e.getCategoriesData();var a=e.getGraph();var i=a.data;var n=r.mapArray(r.getName);i.filterSelf((function(e){var r=i.getItemModel(e);var a=r.getShallow("category");if(a!=null){if(c(a)){a=n[a]}for(var o=0;o<t.length;o++){if(!t[o].isSelected(a)){return false}}}return true}))}))}function FM(e){var t={};e.eachSeriesByType("graph",(function(e){var r=e.getCategoriesData();var a=e.getData();var i={};r.each((function(a){var n=r.getName(a);i["ec-"+n]=a;var o=r.getItemModel(a);var s=o.getModel("itemStyle").getItemStyle();if(!s.fill){s.fill=e.getColorFromPalette(n,t)}r.setItemVisual(a,"style",s);var l=["symbol","symbolSize","symbolKeepAspect"];for(var u=0;u<l.length;u++){var c=o.getShallow(l[u],true);if(c!=null){r.setItemVisual(a,l[u],c)}}}));if(r.count()){a.each((function(e){var t=a.getItemModel(e);var n=t.getShallow("category");if(n!=null){if(u(n)){n=i["ec-"+n]}var o=r.getItemVisual(n,"style");var s=a.ensureUniqueItemVisual(e,"style");d(s,o);var l=["symbol","symbolSize","symbolKeepAspect"];for(var c=0;c<l.length;c++){a.setItemVisual(e,l[c],r.getItemVisual(n,l[c]))}}}))}}))}function HM(e){if(!(e instanceof Array)){e=[e,e]}return e}function WM(e){e.eachSeriesByType("graph",(function(e){var t=e.getGraph();var r=e.getEdgeData();var a=HM(e.get("edgeSymbol"));var i=HM(e.get("edgeSymbolSize"));r.setVisual("fromSymbol",a&&a[0]);r.setVisual("toSymbol",a&&a[1]);r.setVisual("fromSymbolSize",i&&i[0]);r.setVisual("toSymbolSize",i&&i[1]);r.setVisual("style",e.getModel("lineStyle").getLineStyle());r.each((function(e){var a=r.getItemModel(e);var i=t.getEdgeByIndex(e);var n=HM(a.getShallow("symbol",true));var o=HM(a.getShallow("symbolSize",true));var s=a.getModel("lineStyle").getLineStyle();var l=r.ensureUniqueItemVisual(e,"style");d(l,s);switch(l.stroke){case"source":{var u=i.node1.getVisual("style");l.stroke=u&&u.fill;break}case"target":{var u=i.node2.getVisual("style");l.stroke=u&&u.fill;break}}n[0]&&i.setVisual("fromSymbol",n[0]);n[1]&&i.setVisual("toSymbol",n[1]);o[0]&&i.setVisual("fromSymbolSize",o[0]);o[1]&&i.setVisual("toSymbolSize",o[1])}))}))}var UM="--\x3e";var YM=function(e){return e.get("autoCurveness")||null};var XM=function(e,t){var r=YM(e);var i=20;var n=[];if(a.isNumber(r)){i=r}else if(a.isArray(r)){e.__curvenessList=r;return}if(t>i){i=t}var o=i%2?i+2:i+3;n=[];for(var s=0;s<o;s++){n.push((s%2?s+1:s)/10*(s%2?-1:1))}e.__curvenessList=n};var ZM=function(e,t,r){var a=[e.id,e.dataIndex].join(".");var i=[t.id,t.dataIndex].join(".");return[r.uid,a,i].join(UM)};var jM=function(e){var t=e.split(UM);return[t[0],t[2],t[1]].join(UM)};var qM=function(e,t){var r=ZM(e.node1,e.node2,t);return t.__edgeMap[r]};var KM=function(e,t){var r=JM(ZM(e.node1,e.node2,t),t);var a=JM(ZM(e.node2,e.node1,t),t);return r+a};var JM=function(e,t){var r=t.__edgeMap;return r[e]?r[e].length:0};function $M(e){if(!YM(e)){return}e.__curvenessList=[];e.__edgeMap={};XM(e)}function QM(e,t,r,a){if(!YM(r)){return}var i=ZM(e,t,r);var n=r.__edgeMap;var o=n[jM(i)];if(n[i]&&!o){n[i].isForward=true}else if(o&&n[i]){o.isForward=true;n[i].isForward=false}n[i]=n[i]||[];n[i].push(a)}function eI(e,t,r,i){var n=YM(t);var o=a.isArray(n);if(!n){return null}var s=qM(e,t);if(!s){return null}var l=-1;for(var u=0;u<s.length;u++){if(s[u]===r){l=u;break}}var c=KM(e,t);XM(t,c);e.lineStyle=e.lineStyle||{};var v=ZM(e.node1,e.node2,t);var f=t.__curvenessList;var h=o?0:c%2?0:1;if(!s.isForward){var d=jM(v);var p=JM(d,t);var g=f[l+p+h];if(i){if(o){if(n&&n[0]===0){return(p+h)%2?g:-g}else{return((p%2?0:1)+h)%2?g:-g}}else{return(p+h)%2?g:-g}}else{return f[l+p+h]}}else{return f[h+l]}}function tI(e){var t=e.coordinateSystem;if(t&&t.type!=="view"){return}var r=e.getGraph();r.eachNode((function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])}));rI(r,e)}function rI(e,t){e.eachEdge((function(e,r){var i=a.retrieve3(e.getModel().get(["lineStyle","curveness"]),-eI(e,t,r,true),0);var n=ie.clone(e.node1.getLayout());var o=ie.clone(e.node2.getLayout());var s=[n,o];if(+i){s.push([(n[0]+o[0])/2-(n[1]-o[1])*i,(n[1]+o[1])/2-(o[0]-n[0])*i])}e.setLayout(s)}))}function aI(e,t){e.eachSeriesByType("graph",(function(e){var t=e.get("layout");var r=e.coordinateSystem;if(r&&r.type!=="view"){var a=e.getData();var i=[];s(r.dimensions,(function(e){i=i.concat(a.mapDimensionsAll(e))}));for(var n=0;n<a.count();n++){var o=[];var l=false;for(var u=0;u<i.length;u++){var c=a.get(i[u],n);if(!isNaN(c)){l=true}o.push(c)}if(l){a.setItemLayout(n,r.dataToPoint(o))}else{a.setItemLayout(n,[NaN,NaN])}}rI(a.graph,e)}else if(!t||t==="none"){tI(e)}}))}function iI(e){var t=e.coordinateSystem;if(t.type!=="view"){return 1}var r=e.option.nodeScaleRatio;var a=t.scaleX;var i=t.getZoom();var n=(i-1)*r+1;return n/a}function nI(e){var t=e.getVisual("symbolSize");if(t instanceof Array){t=(t[0]+t[1])/2}return+t}var oI=Math.PI;var sI=[];function lI(e,t,r,i){var n=e.coordinateSystem;if(n&&n.type!=="view"){return}var o=n.getBoundingRect();var s=e.getData();var l=s.graph;var u=o.width/2+o.x;var c=o.height/2+o.y;var v=Math.min(o.width,o.height)/2;var f=s.count();s.setLayout({cx:u,cy:c});if(!f){return}if(r){var h=n.pointToData(i),d=h[0],p=h[1];var g=[d-u,p-c];ie.normalize(g,g);ie.scale(g,g,v);r.setLayout([u+g[0],c+g[1]],true);var y=e.get(["circular","rotateLabel"]);cI(r,y,u,c)}uI[t](e,l,s,v,u,c,f);l.eachEdge((function(t,r){var i=a.retrieve3(t.getModel().get(["lineStyle","curveness"]),eI(t,e,r),0);var n=ie.clone(t.node1.getLayout());var o=ie.clone(t.node2.getLayout());var s;var l=(n[0]+o[0])/2;var v=(n[1]+o[1])/2;if(+i){i*=3;s=[u*i+l*(1-i),c*i+v*(1-i)]}t.setLayout([n,o,s])}))}var uI={value:function(e,t,r,a,i,n,o){var s=0;var l=r.getSum("value");var u=Math.PI*2/(l||o);t.eachNode((function(e){var t=e.getValue("value");var r=u*(l?t:1)/2;s+=r;e.setLayout([a*Math.cos(s)+i,a*Math.sin(s)+n]);s+=r}))},symbolSize:function(e,t,r,a,i,n,o){var s=0;sI.length=o;var l=iI(e);t.eachNode((function(e){var t=nI(e);isNaN(t)&&(t=2);t<0&&(t=0);t*=l;var r=Math.asin(t/2/a);isNaN(r)&&(r=oI/2);sI[e.dataIndex]=r;s+=r*2}));var u=(2*oI-s)/o/2;var c=0;t.eachNode((function(e){var t=u+sI[e.dataIndex];c+=t;(!e.getLayout()||!e.getLayout().fixed)&&e.setLayout([a*Math.cos(c)+i,a*Math.sin(c)+n]);c+=t}))}};function cI(e,t,r,i){var n=e.getGraphicEl();if(!n){return}var o=e.getModel();var s=o.get(["label","rotate"])||0;var l=n.getSymbolPath();if(t){var u=e.getLayout();var c=Math.atan2(u[1]-i,u[0]-r);if(c<0){c=Math.PI*2+c}var v=u[0]<r;if(v){c=c-Math.PI}var f=v?"left":"right";l.setTextConfig({rotation:-c,position:f,origin:"center"});var h=l.ensureState("emphasis");a.extend(h.textConfig||(h.textConfig={}),{position:f})}else{l.setTextConfig({rotation:s*=Math.PI/180})}}function vI(e){e.eachSeriesByType("graph",(function(e){if(e.get("layout")==="circular"){lI(e,"symbolSize")}}))}var fI=ie.scaleAndAdd;function hI(e,t,r){var a=e;var i=t;var n=r.rect;var o=n.width;var s=n.height;var l=[n.x+o/2,n.y+s/2];var u=r.gravity==null?.1:r.gravity;for(var c=0;c<a.length;c++){var v=a[c];if(!v.p){v.p=ie.create(o*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])}v.pp=ie.clone(v.p);v.edges=null}var f=r.friction==null?.6:r.friction;var h=f;var d;var p;return{warmUp:function(){h=f*.8},setFixed:function(e){a[e].fixed=true},setUnfixed:function(e){a[e].fixed=false},beforeStep:function(e){d=e},afterStep:function(e){p=e},step:function(e){d&&d(a,i);var t=[];var r=a.length;for(var n=0;n<i.length;n++){var o=i[n];if(o.ignoreForceLayout){continue}var s=o.n1;var c=o.n2;ie.sub(t,c.p,s.p);var v=ie.len(t)-o.d;var f=c.w/(s.w+c.w);if(isNaN(f)){f=0}ie.normalize(t,t);!s.fixed&&fI(s.p,s.p,t,f*v*h);!c.fixed&&fI(c.p,c.p,t,-(1-f)*v*h)}for(var n=0;n<r;n++){var g=a[n];if(!g.fixed){ie.sub(t,l,g.p);fI(g.p,g.p,t,u*h)}}for(var n=0;n<r;n++){var s=a[n];for(var y=n+1;y<r;y++){var c=a[y];ie.sub(t,c.p,s.p);var v=ie.len(t);if(v===0){ie.set(t,Math.random()-.5,Math.random()-.5);v=1}var m=(s.rep+c.rep)/v/v;!s.fixed&&fI(s.pp,s.pp,t,m);!c.fixed&&fI(c.pp,c.pp,t,-m)}}var x=[];for(var n=0;n<r;n++){var g=a[n];if(!g.fixed){ie.sub(x,g.p,g.pp);fI(g.p,g.p,x,h);ie.copy(g.pp,g.p)}}h=h*.992;var _=h<.01;p&&p(a,i,_);e&&e(_)}}}function dI(e){e.eachSeriesByType("graph",(function(e){var t=e.coordinateSystem;if(t&&t.type!=="view"){return}if(e.get("layout")==="force"){var r=e.preservedPoints||{};var i=e.getGraph();var n=i.data;var o=i.edgeData;var s=e.getModel("force");var l=s.get("initLayout");if(e.preservedPoints){n.each((function(e){var t=n.getId(e);n.setItemLayout(e,r[t]||[NaN,NaN])}))}else if(!l||l==="none"){tI(e)}else if(l==="circular"){lI(e,"value")}var u=n.getDataExtent("value");var c=o.getDataExtent("value");var v=s.get("repulsion");var f=s.get("edgeLength");var h=a.isArray(v)?v:[v,v];var d=a.isArray(f)?f:[f,f];d=[d[1],d[0]];var p=n.mapArray("value",(function(e,t){var r=n.getItemLayout(t);var a=dt(e,u,h);if(isNaN(a)){a=(h[0]+h[1])/2}return{w:a,rep:a,fixed:n.getItemModel(t).get("fixed"),p:!r||isNaN(r[0])||isNaN(r[1])?null:r}}));var g=o.mapArray("value",(function(t,r){var n=i.getEdgeByIndex(r);var o=dt(t,c,d);if(isNaN(o)){o=(d[0]+d[1])/2}var s=n.getModel();var l=a.retrieve3(n.getModel().get(["lineStyle","curveness"]),-eI(n,e,r,true),0);return{n1:p[n.node1.dataIndex],n2:p[n.node2.dataIndex],d:o,curveness:l,ignoreForceLayout:s.get("ignoreForceLayout")}}));var y=t.getBoundingRect();var m=hI(p,g,{rect:y,gravity:s.get("gravity"),friction:s.get("friction")});m.beforeStep((function(e,t){for(var r=0,a=e.length;r<a;r++){if(e[r].fixed){ie.copy(e[r].p,i.getNodeByIndex(r).getLayout())}}}));m.afterStep((function(e,t,a){for(var o=0,s=e.length;o<s;o++){if(!e[o].fixed){i.getNodeByIndex(o).setLayout(e[o].p)}r[n.getId(o)]=e[o].p}for(var o=0,s=t.length;o<s;o++){var l=t[o];var u=i.getEdgeByIndex(o);var c=l.n1.p;var v=l.n2.p;var f=u.getLayout();f=f?f.slice():[];f[0]=f[0]||[];f[1]=f[1]||[];ie.copy(f[0],c);ie.copy(f[1],v);if(+l.curveness){f[2]=[(c[0]+v[0])/2-(c[1]-v[1])*l.curveness,(c[1]+v[1])/2-(v[0]-c[0])*l.curveness]}u.setLayout(f)}}));e.forceLayout=m;e.preservedPoints=r;m.step()}else{e.forceLayout=null}}))}function pI(e,t,r){var a=d(e.getBoxLayoutParams(),{aspect:r});return Fo(a,{width:t.getWidth(),height:t.getHeight()})}function gI(e,t){var r=[];e.eachSeriesByType("graph",(function(e){var a=e.get("coordinateSystem");if(!a||a==="view"){var i=e.getData();var n=i.mapArray((function(e){var t=i.getItemModel(e);return[+t.get("x"),+t.get("y")]}));var o=[];var s=[];at.fromPoints(n,o,s);if(s[0]-o[0]===0){s[0]+=1;o[0]-=1}if(s[1]-o[1]===0){s[1]+=1;o[1]-=1}var l=(s[0]-o[0])/(s[1]-o[1]);var u=pI(e,t,l);if(isNaN(l)){o=[u.x,u.y];s=[u.x+u.width,u.y+u.height]}var c=s[0]-o[0];var v=s[1]-o[1];var f=u.width;var h=u.height;var d=e.coordinateSystem=new nS;d.zoomLimit=e.get("scaleLimit");d.setBoundingRect(o[0],o[1],c,v);d.setViewRect(u.x,u.y,f,h);d.setCenter(e.get("center"),t);d.setZoom(e.get("zoom"));r.push(d)}}));return r}var yI=ye.prototype;var mI=me.prototype;var xI=function(){function e(){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.percent=1}return e}();(function(t){e(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r})(xI);function _I(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var bI=function(t){e(r,t);function r(e){var r=t.call(this,e)||this;r.type="ec-line";return r}r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};r.prototype.getDefaultShape=function(){return new xI};r.prototype.buildPath=function(e,t){if(_I(t)){yI.buildPath.call(this,e,t)}else{mI.buildPath.call(this,e,t)}};r.prototype.pointAt=function(e){if(_I(this.shape)){return yI.pointAt.call(this,e)}else{return mI.pointAt.call(this,e)}};r.prototype.tangentAt=function(e){var t=this.shape;var r=_I(t)?[t.x2-t.x1,t.y2-t.y1]:mI.tangentAt.call(this,e);return ie.normalize(r,r)};return r}(Q);var SI=["fromSymbol","toSymbol"];function wI(e){return"_"+e+"Type"}function MI(e,t,r){var a=t.getItemVisual(r,e);if(!a||a==="none"){return a}var i=t.getItemVisual(r,e+"Size");var n=t.getItemVisual(r,e+"Rotate");var o=t.getItemVisual(r,e+"Offset");var s=t.getItemVisual(r,e+"KeepAspect");var l=Nv(i);var u=Ov(o||0,l);return a+l+u+(n||"")+(s||"")}function II(e,t,r){var a=t.getItemVisual(r,e);if(!a||a==="none"){return}var i=t.getItemVisual(r,e+"Size");var n=t.getItemVisual(r,e+"Rotate");var o=t.getItemVisual(r,e+"Offset");var s=t.getItemVisual(r,e+"KeepAspect");var l=Nv(i);var u=Ov(o||0,l);var c=Pv(a,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);c.__specifiedRotation=n==null||isNaN(n)?void 0:+n*Math.PI/180||0;c.name=e;return c}function DI(e){var t=new bI({name:"line",subPixelOptimize:true});TI(t.shape,e);return t}function TI(e,t){e.x1=t[0][0];e.y1=t[0][1];e.x2=t[1][0];e.y2=t[1][1];e.percent=1;var r=t[2];if(r){e.cpx1=r[0];e.cpy1=r[1]}else{e.cpx1=NaN;e.cpy1=NaN}}var CI=function(t){e(r,t);function r(e,r,a){var i=t.call(this)||this;i._createLine(e,r,a);return i}r.prototype._createLine=function(e,t,r){var a=e.hostModel;var i=e.getItemLayout(t);var n=DI(i);n.shape.percent=0;ci(n,{shape:{percent:1}},a,t);this.add(n);s(SI,(function(r){var a=II(r,e,t);this.add(a);this[wI(r)]=MI(r,e,t)}),this);this._updateCommonStl(e,t,r)};r.prototype.updateData=function(e,t,r){var a=e.hostModel;var i=this.childOfName("line");var n=e.getItemLayout(t);var o={shape:{}};TI(o.shape,n);ui(i,o,a,t);s(SI,(function(r){var a=MI(r,e,t);var i=wI(r);if(this[i]!==a){this.remove(this.childOfName(r));var n=II(r,e,t);this.add(n)}this[i]=a}),this);this._updateCommonStl(e,t,r)};r.prototype.getLinePath=function(){return this.childAt(0)};r.prototype._updateCommonStl=function(e,t,r){var a=e.hostModel;var i=this.childOfName("line");var o=r&&r.emphasisLineStyle;var l=r&&r.blurLineStyle;var u=r&&r.selectLineStyle;var c=r&&r.labelStatesModels;var v=r&&r.emphasisDisabled;var f=r&&r.focus;var h=r&&r.blurScope;if(!r||e.hasItemOption){var d=e.getItemModel(t);var p=d.getModel("emphasis");o=p.getModel("lineStyle").getLineStyle();l=d.getModel(["blur","lineStyle"]).getLineStyle();u=d.getModel(["select","lineStyle"]).getLineStyle();v=p.get("disabled");f=p.get("focus");h=p.get("blurScope");c=en(d)}var g=e.getItemVisual(t,"style");var y=g.stroke;i.useStyle(g);i.style.fill=null;i.style.strokeNoScale=true;i.ensureState("emphasis").style=o;i.ensureState("blur").style=l;i.ensureState("select").style=u;s(SI,(function(e){var t=this.childOfName(e);if(t){t.setColor(y);t.style.opacity=g.opacity;for(var r=0;r<ta.length;r++){var a=ta[r];var n=i.getState(a);if(n){var o=n.style||{};var s=t.ensureState(a);var l=s.style||(s.style={});if(o.stroke!=null){l[t.__isEmptyBrush?"stroke":"fill"]=o.stroke}if(o.opacity!=null){l.opacity=o.opacity}}}t.markRedraw()}}),this);var m=a.getRawValue(t);Qi(this,c,{labelDataIndex:t,labelFetcher:{getFormattedLabel:function(t,r){return a.getFormattedLabel(t,r,e.dataType)}},inheritColor:y||"#000",defaultOpacity:g.opacity,defaultText:(m==null?e.getName(t):isFinite(m)?gt(m):m)+""});var x=this.getTextContent();if(x){var _=c.normal;x.__align=x.style.align;x.__verticalAlign=x.style.verticalAlign;x.__position=_.get("position")||"middle";var b=_.get("distance");if(!n(b)){b=[b,b]}x.__labelDistance=b}this.setTextConfig({position:null,local:true,inside:false});ja(this,f,h,v)};r.prototype.highlight=function(){Aa(this)};r.prototype.downplay=function(){La(this)};r.prototype.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))};r.prototype.setLinePoints=function(e){var t=this.childOfName("line");TI(t.shape,e);t.dirty()};r.prototype.beforeUpdate=function(){var e=this;var t=e.childOfName("fromSymbol");var r=e.childOfName("toSymbol");var a=e.getTextContent();if(!t&&!r&&(!a||a.ignore)){return}var i=1;var n=this.parent;while(n){if(n.scaleX){i/=n.scaleX}n=n.parent}var o=e.childOfName("line");if(!this.__dirty&&!o.__dirty){return}var s=o.shape.percent;var l=o.pointAt(0);var u=o.pointAt(s);var c=ie.sub([],u,l);ie.normalize(c,c);function v(e,t){var r=e.__specifiedRotation;if(r==null){var a=o.tangentAt(t);e.attr("rotation",(t===1?-1:1)*Math.PI/2-Math.atan2(a[1],a[0]))}else{e.attr("rotation",r)}}if(t){t.setPosition(l);v(t,0);t.scaleX=t.scaleY=i*s;t.markRedraw()}if(r){r.setPosition(u);v(r,1);r.scaleX=r.scaleY=i*s;r.markRedraw()}if(a&&!a.ignore){a.x=a.y=0;a.originX=a.originY=0;var f=void 0;var h=void 0;var d=a.__labelDistance;var p=d[0]*i;var g=d[1]*i;var y=s/2;var m=o.tangentAt(y);var x=[m[1],-m[0]];var _=o.pointAt(y);if(x[1]>0){x[0]=-x[0];x[1]=-x[1]}var b=m[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var S=-Math.atan2(m[1],m[0]);if(u[0]<l[0]){S=Math.PI+S}a.rotation=S}var w=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":w=-g;h="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":w=g;h="top";break;default:w=0;h="middle"}switch(a.__position){case"end":a.x=c[0]*p+u[0];a.y=c[1]*g+u[1];f=c[0]>.8?"left":c[0]<-.8?"right":"center";h=c[1]>.8?"top":c[1]<-.8?"bottom":"middle";break;case"start":a.x=-c[0]*p+l[0];a.y=-c[1]*g+l[1];f=c[0]>.8?"right":c[0]<-.8?"left":"center";h=c[1]>.8?"bottom":c[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=p*b+l[0];a.y=l[1]+w;f=m[0]<0?"right":"left";a.originX=-p*b;a.originY=-w;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=_[0];a.y=_[1]+w;f="center";a.originY=-w;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-p*b+u[0];a.y=u[1]+w;f=m[0]>=0?"right":"left";a.originX=p*b;a.originY=-w;break}a.scaleX=a.scaleY=i;a.setStyle({verticalAlign:a.__verticalAlign||h,align:a.__align||f})}};return r}(ue);var AI=function(){function e(e){this.group=new ue;this._LineCtor=e||CI}e.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var r=this;var a=r.group;var i=r._lineData;r._lineData=e;if(!i){a.removeAll()}var n=kI(e);e.diff(i).add((function(r){t._doAdd(e,r,n)})).update((function(r,a){t._doUpdate(i,e,a,r,n)})).remove((function(e){a.remove(i.getItemGraphicEl(e))})).execute()};e.prototype.updateLayout=function(){var e=this._lineData;if(!e){return}e.eachItemGraphicEl((function(t,r){t.updateLayout(e,r)}),this)};e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=kI(e);this._lineData=null;this.group.removeAll()};e.prototype.incrementalUpdate=function(e,t){this._progressiveEls=[];function r(e){if(!e.isGroup&&!LI(e)){e.incremental=true;e.ensureState("emphasis").hoverLayer=true}}for(var a=e.start;a<e.end;a++){var i=t.getItemLayout(a);if(NI(i)){var n=new this._LineCtor(t,a,this._seriesScope);n.traverse(r);this.group.add(n);t.setItemGraphicEl(a,n);this._progressiveEls.push(n)}}};e.prototype.remove=function(){this.group.removeAll()};e.prototype.eachRendered=function(e){ji(this._progressiveEls||this.group,e)};e.prototype._doAdd=function(e,t,r){var a=e.getItemLayout(t);if(!NI(a)){return}var i=new this._LineCtor(e,t,r);e.setItemGraphicEl(t,i);this.group.add(i)};e.prototype._doUpdate=function(e,t,r,a,i){var n=e.getItemGraphicEl(r);if(!NI(t.getItemLayout(a))){this.group.remove(n);return}if(!n){n=new this._LineCtor(t,a,i)}else{n.updateData(t,a,i)}t.setItemGraphicEl(a,n);this.group.add(n)};return e}();function LI(e){return e.animators&&e.animators.length>0}function kI(e){var t=e.hostModel;var r=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:r.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:r.get("disabled"),blurScope:r.get("blurScope"),focus:r.get("focus"),labelStatesModels:en(t)}}function PI(e){return isNaN(e[0])||isNaN(e[1])}function NI(e){return e&&!PI(e[0])&&!PI(e[1])}var OI=[];var RI=[];var EI=[];var zI=We.quadraticAt;var VI=ie.distSquare;var BI=Math.abs;function GI(e,t,r){var a=e[0];var i=e[1];var n=e[2];var o=Infinity;var s;var l=r*r;var u=.1;for(var c=.1;c<=.9;c+=.1){OI[0]=zI(a[0],i[0],n[0],c);OI[1]=zI(a[1],i[1],n[1],c);var v=BI(VI(OI,t)-l);if(v<o){o=v;s=c}}for(var f=0;f<32;f++){var h=s+u;RI[0]=zI(a[0],i[0],n[0],s);RI[1]=zI(a[1],i[1],n[1],s);EI[0]=zI(a[0],i[0],n[0],h);EI[1]=zI(a[1],i[1],n[1],h);var v=VI(RI,t)-l;if(BI(v)<.01){break}var d=VI(EI,t)-l;u/=2;if(v<0){if(d>=0){s=s+u}else{s=s-u}}else{if(d>=0){s=s-u}else{s=s+u}}}return s}function FI(e,t){var r=[];var a=We.quadraticSubdivide;var i=[[],[],[]];var n=[[],[]];var o=[];t/=2;e.eachEdge((function(e,s){var l=e.getLayout();var u=e.getVisual("fromSymbol");var c=e.getVisual("toSymbol");if(!l.__original){l.__original=[ie.clone(l[0]),ie.clone(l[1])];if(l[2]){l.__original.push(ie.clone(l[2]))}}var v=l.__original;if(l[2]!=null){ie.copy(i[0],v[0]);ie.copy(i[1],v[2]);ie.copy(i[2],v[1]);if(u&&u!=="none"){var f=nI(e.node1);var h=GI(i,v[0],f*t);a(i[0][0],i[1][0],i[2][0],h,r);i[0][0]=r[3];i[1][0]=r[4];a(i[0][1],i[1][1],i[2][1],h,r);i[0][1]=r[3];i[1][1]=r[4]}if(c&&c!=="none"){var f=nI(e.node2);var h=GI(i,v[1],f*t);a(i[0][0],i[1][0],i[2][0],h,r);i[1][0]=r[1];i[2][0]=r[2];a(i[0][1],i[1][1],i[2][1],h,r);i[1][1]=r[1];i[2][1]=r[2]}ie.copy(l[0],i[0]);ie.copy(l[1],i[2]);ie.copy(l[2],i[1])}else{ie.copy(n[0],v[0]);ie.copy(n[1],v[1]);ie.sub(o,n[1],n[0]);ie.normalize(o,o);if(u&&u!=="none"){var f=nI(e.node1);ie.scaleAndAdd(n[0],n[0],o,f*t)}if(c&&c!=="none"){var f=nI(e.node2);ie.scaleAndAdd(n[1],n[1],o,-f*t)}ie.copy(l[0],n[0]);ie.copy(l[1],n[1])}}))}function HI(e){return e.type==="view"}var WI=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.init=function(e,t){var r=new Fy;var a=new AI;var i=this.group;this._controller=new vb(t.getZr());this._controllerHost={target:i};i.add(r.group);i.add(a.group);this._symbolDraw=r;this._lineDraw=a;this._firstRender=true};r.prototype.render=function(e,t,r){var a=this;var i=e.coordinateSystem;this._model=e;var n=this._symbolDraw;var o=this._lineDraw;var s=this.group;if(HI(i)){var l={x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY};if(this._firstRender){s.attr(l)}else{ui(s,l,e)}}FI(e.getGraph(),iI(e));var u=e.getData();n.updateData(u);var c=e.getEdgeData();o.updateData(c);this._updateNodeAndLinkScale();this._updateController(e,t,r);clearTimeout(this._layoutTimeout);var v=e.forceLayout;var f=e.get(["force","layoutAnimation"]);if(v){this._startForceLayoutIteration(v,f)}var h=e.get("layout");u.graph.eachNode((function(t){var r=t.dataIndex;var i=t.getGraphicEl();var n=t.getModel();if(!i){return}i.off("drag").off("dragend");var o=n.get("draggable");if(o){i.on("drag",(function(n){switch(h){case"force":v.warmUp();!a._layouting&&a._startForceLayoutIteration(v,f);v.setFixed(r);u.setItemLayout(r,[i.x,i.y]);break;case"circular":u.setItemLayout(r,[i.x,i.y]);t.setLayout({fixed:true},true);lI(e,"symbolSize",t,[n.offsetX,n.offsetY]);a.updateLayout(e);break;case"none":default:u.setItemLayout(r,[i.x,i.y]);rI(e.getGraph(),e);a.updateLayout(e);break}})).on("dragend",(function(){if(v){v.setUnfixed(r)}}))}i.setDraggable(o,!!n.get("cursor"));var s=n.get(["emphasis","focus"]);if(s==="adjacency"){Xr(i).focus=t.getAdjacentDataIndices()}}));u.graph.eachEdge((function(e){var t=e.getGraphicEl();var r=e.getModel().get(["emphasis","focus"]);if(!t){return}if(r==="adjacency"){Xr(t).focus={edge:[e.dataIndex],node:[e.node1.dataIndex,e.node2.dataIndex]}}}));var d=e.get("layout")==="circular"&&e.get(["circular","rotateLabel"]);var p=u.getLayout("cx");var g=u.getLayout("cy");u.graph.eachNode((function(e){cI(e,d,p,g)}));this._firstRender=false};r.prototype.dispose=function(){this.remove();this._controller&&this._controller.dispose();this._controllerHost=null};r.prototype._startForceLayoutIteration=function(e,t){var r=this;(function a(){e.step((function(e){r.updateLayout(r._model);(r._layouting=!e)&&(t?r._layoutTimeout=setTimeout(a,16):a())}))})()};r.prototype._updateController=function(e,t,r){var a=this;var i=this._controller;var n=this._controllerHost;var o=this.group;i.setPointerChecker((function(t,a,i){var n=o.getBoundingRect();n.applyTransform(o.transform);return n.contain(a,i)&&!mb(t,r,e)}));if(!HI(e.coordinateSystem)){i.disable();return}i.enable(e.get("roam"));n.zoomLimit=e.get("scaleLimit");n.zoom=e.coordinateSystem.getZoom();i.off("pan").off("zoom").on("pan",(function(t){pb(n,t.dx,t.dy);r.dispatchAction({seriesId:e.id,type:"graphRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){gb(n,t.scale,t.originX,t.originY);r.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY});a._updateNodeAndLinkScale();FI(e.getGraph(),iI(e));a._lineDraw.updateLayout();r.updateLabelLayout()}))};r.prototype._updateNodeAndLinkScale=function(){var e=this._model;var t=e.getData();var r=iI(e);t.eachItemGraphicEl((function(e,t){e&&e.setSymbolScale(r)}))};r.prototype.updateLayout=function(e){FI(e.getGraph(),iI(e));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()};r.prototype.remove=function(){clearTimeout(this._layoutTimeout);this._layouting=false;this._layoutTimeout=null;this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()};r.type="graph";return r}(_c);function UI(e){return"_EC_"+e}var YI=function(){function e(e){this.type="graph";this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={};this._directed=e||false}e.prototype.isDirected=function(){return this._directed};e.prototype.addNode=function(e,t){e=e==null?""+t:""+e;var r=this._nodesMap;if(r[UI(e)]){return}var a=new XI(e,t);a.hostGraph=this;this.nodes.push(a);r[UI(e)]=a;return a};e.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]};e.prototype.getNodeById=function(e){return this._nodesMap[UI(e)]};e.prototype.addEdge=function(e,t,r){var i=this._nodesMap;var n=this._edgesMap;if(a.isNumber(e)){e=this.nodes[e]}if(a.isNumber(t)){t=this.nodes[t]}if(!(e instanceof XI)){e=i[UI(e)]}if(!(t instanceof XI)){t=i[UI(t)]}if(!e||!t){return}var o=e.id+"-"+t.id;var s=new ZI(e,t,r);s.hostGraph=this;if(this._directed){e.outEdges.push(s);t.inEdges.push(s)}e.edges.push(s);if(e!==t){t.edges.push(s)}this.edges.push(s);n[o]=s;return s};e.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]};e.prototype.getEdge=function(e,t){if(e instanceof XI){e=e.id}if(t instanceof XI){t=t.id}var r=this._edgesMap;if(this._directed){return r[e+"-"+t]}else{return r[e+"-"+t]||r[t+"-"+e]}};e.prototype.eachNode=function(e,t){var r=this.nodes;var a=r.length;for(var i=0;i<a;i++){if(r[i].dataIndex>=0){e.call(t,r[i],i)}}};e.prototype.eachEdge=function(e,t){var r=this.edges;var a=r.length;for(var i=0;i<a;i++){if(r[i].dataIndex>=0&&r[i].node1.dataIndex>=0&&r[i].node2.dataIndex>=0){e.call(t,r[i],i)}}};e.prototype.breadthFirstTraverse=function(e,t,r,a){if(!(t instanceof XI)){t=this._nodesMap[UI(t)]}if(!t){return}var i=r==="out"?"outEdges":r==="in"?"inEdges":"edges";for(var n=0;n<this.nodes.length;n++){this.nodes[n].__visited=false}if(e.call(a,t,null)){return}var o=[t];while(o.length){var s=o.shift();var l=s[i];for(var n=0;n<l.length;n++){var u=l[n];var c=u.node1===s?u.node2:u.node1;if(!c.__visited){if(e.call(a,c,s)){return}o.push(c);c.__visited=true}}}};e.prototype.update=function(){var e=this.data;var t=this.edgeData;var r=this.nodes;var a=this.edges;for(var i=0,n=r.length;i<n;i++){r[i].dataIndex=-1}for(var i=0,n=e.count();i<n;i++){r[e.getRawIndex(i)].dataIndex=i}t.filterSelf((function(e){var r=a[t.getRawIndex(e)];return r.node1.dataIndex>=0&&r.node2.dataIndex>=0}));for(var i=0,n=a.length;i<n;i++){a[i].dataIndex=-1}for(var i=0,n=t.count();i<n;i++){a[t.getRawIndex(i)].dataIndex=i}};e.prototype.clone=function(){var t=new e(this._directed);var r=this.nodes;var a=this.edges;for(var i=0;i<r.length;i++){t.addNode(r[i].id,r[i].dataIndex)}for(var i=0;i<a.length;i++){var n=a[i];t.addEdge(n.node1.id,n.node2.id,n.dataIndex)}return t};return e}();var XI=function(){function e(e,t){this.inEdges=[];this.outEdges=[];this.edges=[];this.dataIndex=-1;this.id=e==null?"":e;this.dataIndex=t==null?-1:t}e.prototype.degree=function(){return this.edges.length};e.prototype.inDegree=function(){return this.inEdges.length};e.prototype.outDegree=function(){return this.outEdges.length};e.prototype.getModel=function(e){if(this.dataIndex<0){return}var t=this.hostGraph;var r=t.data.getItemModel(this.dataIndex);return r.getModel(e)};e.prototype.getAdjacentDataIndices=function(){var e={edge:[],node:[]};for(var t=0;t<this.edges.length;t++){var r=this.edges[t];if(r.dataIndex<0){continue}e.edge.push(r.dataIndex);e.node.push(r.node1.dataIndex,r.node2.dataIndex)}return e};e.prototype.getTrajectoryDataIndices=function(){var e=a.createHashMap();var t=a.createHashMap();for(var r=0;r<this.edges.length;r++){var i=this.edges[r];if(i.dataIndex<0){continue}e.set(i.dataIndex,true);var n=[i.node1];var o=[i.node2];var s=0;while(s<n.length){var l=n[s];s++;t.set(l.dataIndex,true);for(var u=0;u<l.inEdges.length;u++){e.set(l.inEdges[u].dataIndex,true);n.push(l.inEdges[u].node1)}}s=0;while(s<o.length){var c=o[s];s++;t.set(c.dataIndex,true);for(var u=0;u<c.outEdges.length;u++){e.set(c.outEdges[u].dataIndex,true);o.push(c.outEdges[u].node2)}}}return{edge:e.keys(),node:t.keys()}};return e}();var ZI=function(){function e(e,t,r){this.dataIndex=-1;this.node1=e;this.node2=t;this.dataIndex=r==null?-1:r}e.prototype.getModel=function(e){if(this.dataIndex<0){return}var t=this.hostGraph;var r=t.edgeData.getItemModel(this.dataIndex);return r.getModel(e)};e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}};e.prototype.getTrajectoryDataIndices=function(){var e=a.createHashMap();var t=a.createHashMap();e.set(this.dataIndex,true);var r=[this.node1];var i=[this.node2];var n=0;while(n<r.length){var o=r[n];n++;t.set(o.dataIndex,true);for(var s=0;s<o.inEdges.length;s++){e.set(o.inEdges[s].dataIndex,true);r.push(o.inEdges[s].node1)}}n=0;while(n<i.length){var l=i[n];n++;t.set(l.dataIndex,true);for(var s=0;s<l.outEdges.length;s++){e.set(l.outEdges[s].dataIndex,true);i.push(l.outEdges[s].node2)}}return{edge:e.keys(),node:t.keys()}};return e}();function jI(e,t){return{getValue:function(r){var a=this[e][t];return a.getStore().get(a.getDimensionIndex(r||"value"),this.dataIndex)},setVisual:function(r,a){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,r,a)},getVisual:function(r){return this[e][t].getItemVisual(this.dataIndex,r)},setLayout:function(r,a){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,r,a)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}a.mixin(XI,jI("hostGraph","data"));a.mixin(ZI,jI("hostGraph","edgeData"));function qI(e,t,r,i,n){var o=new YI(i);for(var s=0;s<e.length;s++){o.addNode(a.retrieve(e[s].id,e[s].name,s),s)}var l=[];var u=[];var c=0;for(var s=0;s<t.length;s++){var v=t[s];var f=v.source;var h=v.target;if(o.addEdge(f,h,c)){u.push(v);l.push(a.retrieve(lr(v.id,null),f+" > "+h));c++}}var d=r.get("coordinateSystem");var p;if(d==="cartesian2d"||d==="polar"){p=Ad(e,r)}else{var g=Hs.get(d);var y=g?g.dimensions||[]:[];if(a.indexOf(y,"value")<0){y.concat(["value"])}var m=pd(e,{coordDimensions:y,encodeDefine:r.getEncode()}).dimensions;p=new hd(m,r);p.initData(e)}var x=new hd(["value"],r);x.initData(u,l);n&&n(p,x);XS({mainData:p,struct:o,structAttr:"graph",datas:{node:p,edge:x},datasAttr:{node:"data",edge:"edgeData"}});o.update();return o}var KI=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.hasSymbolVisual=true;return e}r.prototype.init=function(e){t.prototype.init.apply(this,arguments);var r=this;function a(){return r._categoriesData}this.legendVisualProvider=new Mx(a,a);this.fillDataTextStyle(e.edges||e.links);this._updateCategoriesData()};r.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments);this.fillDataTextStyle(e.edges||e.links);this._updateCategoriesData()};r.prototype.mergeDefaultAndTheme=function(e){t.prototype.mergeDefaultAndTheme.apply(this,arguments);qt(e,"edgeLabel",["show"])};r.prototype.getInitialData=function(e,t){var r=e.edges||e.links||[];var i=e.data||e.nodes||[];var n=this;if(i&&r){$M(this);var o=qI(i,r,this,true,s);a.each(o.edges,(function(e){QM(e.node1,e.node2,this,e.dataIndex)}),this);return o.data}function s(e,t){e.wrapMethod("getItemModel",(function(e){var t=n._categoriesModels;var r=e.getShallow("category");var a=t[r];if(a){a.parentModel=e.parentModel;e.parentModel=a}return e}));var r=Mn.prototype.getModel;function a(e,t){var a=r.call(this,e,t);a.resolveParentPath=i;return a}t.wrapMethod("getItemModel",(function(e){e.resolveParentPath=i;e.getModel=a;return e}));function i(e){if(e&&(e[0]==="label"||e[1]==="label")){var t=e.slice();if(e[0]==="label"){t[0]="edgeLabel"}else if(e[1]==="label"){t[1]="edgeLabel"}return t}return e}}};r.prototype.getGraph=function(){return this.getData().graph};r.prototype.getEdgeData=function(){return this.getGraph().edgeData};r.prototype.getCategoriesData=function(){return this._categoriesData};r.prototype.formatTooltip=function(e,t,r){if(r==="edge"){var a=this.getData();var i=this.getDataParams(e,r);var n=a.graph.getEdgeByIndex(e);var o=a.getName(n.node1.dataIndex);var s=a.getName(n.node2.dataIndex);var l=[];o!=null&&l.push(o);s!=null&&l.push(s);return Gu("nameValue",{name:l.join(" > "),value:i.value,noValue:i.value==null})}var u=rc({series:this,dataIndex:e,multipleSeries:t});return u};r.prototype._updateCategoriesData=function(){var e=a.map(this.option.categories||[],(function(e){return e.value!=null?e:a.extend({value:0},e)}));var t=new hd(["value"],this);t.initData(e);this._categoriesData=t;this._categoriesModels=t.mapArray((function(e){return t.getItemModel(e)}))};r.prototype.setZoom=function(e){this.option.zoom=e};r.prototype.setCenter=function(e){this.option.center=e};r.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))};r.type="series.graph";r.dependencies=["grid","polar","geo","singleAxis","calendar"];r.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:true,layout:null,circular:{rotateLabel:false},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:true},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:false,roam:false,center:null,zoom:1,nodeScaleRatio:.6,label:{show:false,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:true,label:{show:true}},select:{itemStyle:{borderColor:"#212121"}}};return r}(sc);var JI={type:"graphRoam",event:"graphRoam",update:"none"};function $I(e){e.registerChartView(WI);e.registerSeriesModel(KI);e.registerProcessor(GM);e.registerVisual(FM);e.registerVisual(WM);e.registerLayout(aI);e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,vI);e.registerLayout(dI);e.registerCoordinateSystem("graphView",{dimensions:nS.dimensions,create:gI});e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},L);e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},L);e.registerAction(JI,(function(e,t,r){t.eachComponent({mainType:"series",query:e},(function(t){var a=t.coordinateSystem;var i=yS(a,e,undefined,r);t.setCenter&&t.setCenter(i.center);t.setZoom&&t.setZoom(i.zoom)}))}))}var QI=function(){function e(){this.angle=0;this.width=10;this.r=10;this.x=0;this.y=0}return e}();var eD=function(t){e(r,t);function r(e){var r=t.call(this,e)||this;r.type="pointer";return r}r.prototype.getDefaultShape=function(){return new QI};r.prototype.buildPath=function(e,t){var r=Math.cos;var a=Math.sin;var i=t.r;var n=t.width;var o=t.angle;var s=t.x-r(o)*n*(n>=i/3?1:2);var l=t.y-a(o)*n*(n>=i/3?1:2);o=t.angle-Math.PI/2;e.moveTo(s,l);e.lineTo(t.x+r(o)*n,t.y+a(o)*n);e.lineTo(t.x+r(t.angle)*i,t.y+a(t.angle)*i);e.lineTo(t.x-r(o)*n,t.y-a(o)*n);e.lineTo(s,l)};return r}(Q);function tD(e,t){var r=e.get("center");var a=t.getWidth();var i=t.getHeight();var n=Math.min(a,i);var o=pt(r[0],t.getWidth());var s=pt(r[1],t.getHeight());var l=pt(e.get("radius"),n/2);return{cx:o,cy:s,r:l}}function rD(e,t){var r=e==null?"":e+"";if(t){if(u(t)){r=t.replace("{value}",r)}else if(m(t)){r=t(e)}}return r}var aD=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.render=function(e,t,r){this.group.removeAll();var a=e.get(["axisLine","lineStyle","color"]);var i=tD(e,r);this._renderMain(e,t,r,a,i);this._data=e.getData()};r.prototype.dispose=function(){};r.prototype._renderMain=function(e,t,r,a,i){var n=this.group;var o=e.get("clockwise");var l=-e.get("startAngle")/180*Math.PI;var u=-e.get("endAngle")/180*Math.PI;var c=e.getModel("axisLine");var v=c.get("roundCap");var f=v?km:fe;var h=c.get("show");var d=c.getModel("lineStyle");var p=d.get("width");var g=[l,u];Fe(g,!o);l=g[0];u=g[1];var y=u-l;var m=l;var x=[];for(var _=0;h&&_<a.length;_++){var b=Math.min(Math.max(a[_][0],0),1);u=l+y*b;var S=new f({shape:{startAngle:m,endAngle:u,cx:i.cx,cy:i.cy,clockwise:o,r0:i.r-p,r:i.r},silent:true});S.setStyle({fill:a[_][1]});S.setStyle(d.getLineStyle(["color","width"]));x.push(S);m=u}x.reverse();s(x,(function(e){return n.add(e)}));var w=function(e){if(e<=0){return a[0][1]}var t;for(t=0;t<a.length;t++){if(a[t][0]>=e&&(t===0?0:a[t-1][0])<e){return a[t][1]}}return a[t-1][1]};this._renderTicks(e,t,r,w,i,l,u,o,p);this._renderTitleAndDetail(e,t,r,w,i);this._renderAnchor(e,i);this._renderPointer(e,t,r,w,i,l,u,o,p)};r.prototype._renderTicks=function(e,t,r,a,i,n,o,s,l){var u=this.group;var v=i.cx;var f=i.cy;var h=i.r;var d=+e.get("min");var p=+e.get("max");var g=e.getModel("splitLine");var y=e.getModel("axisTick");var m=e.getModel("axisLabel");var x=e.get("splitNumber");var _=y.get("splitNumber");var b=pt(g.get("length"),h);var S=pt(y.get("length"),h);var w=n;var M=(o-n)/x;var I=M/_;var D=g.getModel("lineStyle").getLineStyle();var T=y.getModel("lineStyle").getLineStyle();var C=g.get("distance");var A;var L;for(var k=0;k<=x;k++){A=Math.cos(w);L=Math.sin(w);if(g.get("show")){var P=C?C+l:l;var N=new ye({shape:{x1:A*(h-P)+v,y1:L*(h-P)+f,x2:A*(h-b-P)+v,y2:L*(h-b-P)+f},style:D,silent:true});if(D.stroke==="auto"){N.setStyle({stroke:a(k/x)})}u.add(N)}if(m.get("show")){var P=m.get("distance")+C;var O=rD(gt(k/x*(p-d)+d),m.get("formatter"));var R=a(k/x);var E=A*(h-b-P)+v;var z=L*(h-b-P)+f;var V=m.get("rotate");var B=0;if(V==="radial"){B=-w+2*Math.PI;if(B>Math.PI/2){B+=Math.PI}}else if(V==="tangential"){B=-w-Math.PI/2}else if(c(V)){B=V*Math.PI/180}if(B===0){u.add(new U({style:tn(m,{text:O,x:E,y:z,verticalAlign:L<-.8?"top":L>.8?"bottom":"middle",align:A<-.4?"left":A>.4?"right":"center"},{inheritColor:R}),silent:true}))}else{u.add(new U({style:tn(m,{text:O,x:E,y:z,verticalAlign:"middle",align:"center"},{inheritColor:R}),silent:true,originX:E,originY:z,rotation:B}))}}if(y.get("show")&&k!==x){var P=y.get("distance");P=P?P+l:l;for(var G=0;G<=_;G++){A=Math.cos(w);L=Math.sin(w);var F=new ye({shape:{x1:A*(h-P)+v,y1:L*(h-P)+f,x2:A*(h-S-P)+v,y2:L*(h-S-P)+f},silent:true,style:T});if(T.stroke==="auto"){F.setStyle({stroke:a((k+G/_)/x)})}u.add(F);w+=I}w-=I}else{w+=M}}};r.prototype._renderPointer=function(e,t,r,a,i,n,o,s,l){var u=this.group;var c=this._data;var v=this._progressEls;var f=[];var h=e.get(["pointer","show"]);var p=e.getModel("progress");var g=p.get("show");var y=e.getData();var m=y.mapDimension("value");var x=+e.get("min");var _=+e.get("max");var b=[x,_];var S=[n,o];function w(t,r){var a=y.getItemModel(t);var n=a.getModel("pointer");var o=pt(n.get("width"),i.r);var s=pt(n.get("length"),i.r);var l=e.get(["pointer","icon"]);var u=n.get("offsetCenter");var c=pt(u[0],i.r);var v=pt(u[1],i.r);var f=n.get("keepAspect");var h;if(l){h=Pv(l,c-o/2,v-s,o,s,null,f)}else{h=new eD({shape:{angle:-Math.PI/2,width:o,r:s,x:c,y:v}})}h.rotation=-(r+Math.PI/2);h.x=i.cx;h.y=i.cy;return h}function M(e,t){var r=p.get("roundCap");var a=r?km:fe;var o=p.get("overlap");var u=o?p.get("width"):l/y.count();var c=o?i.r-u:i.r-(e+1)*u;var v=o?i.r:i.r-e*u;var f=new a({shape:{startAngle:n,endAngle:t,cx:i.cx,cy:i.cy,clockwise:s,r0:c,r:v}});o&&(f.z2=_-y.get(m,e)%_);return f}if(g||h){y.diff(c).add((function(t){var r=y.get(m,t);if(h){var a=w(t,n);ci(a,{rotation:-((isNaN(+r)?S[0]:dt(r,b,S,true))+Math.PI/2)},e);u.add(a);y.setItemGraphicEl(t,a)}if(g){var i=M(t,n);var o=p.get("clip");ci(i,{shape:{endAngle:dt(r,b,S,o)}},e);u.add(i);Zr(e.seriesIndex,y.dataType,t,i);f[t]=i}})).update((function(t,r){var a=y.get(m,t);if(h){var i=c.getItemGraphicEl(r);var o=i?i.rotation:n;var s=w(t,o);s.rotation=o;ui(s,{rotation:-((isNaN(+a)?S[0]:dt(a,b,S,true))+Math.PI/2)},e);u.add(s);y.setItemGraphicEl(t,s)}if(g){var l=v[r];var d=l?l.shape.endAngle:n;var x=M(t,d);var _=p.get("clip");ui(x,{shape:{endAngle:dt(a,b,S,_)}},e);u.add(x);Zr(e.seriesIndex,y.dataType,t,x);f[t]=x}})).execute();y.each((function(e){var t=y.getItemModel(e);var r=t.getModel("emphasis");var i=r.get("focus");var n=r.get("blurScope");var o=r.get("disabled");if(h){var s=y.getItemGraphicEl(e);var l=y.getItemVisual(e,"style");var u=l.fill;if(s instanceof le){var c=s.style;s.useStyle(d({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},l))}else{s.useStyle(l);s.type!=="pointer"&&s.setColor(u)}s.setStyle(t.getModel(["pointer","itemStyle"]).getItemStyle());if(s.style.fill==="auto"){s.setStyle("fill",a(dt(y.get(m,e),b,[0,1],true)))}s.z2EmphasisLift=0;$a(s,t);ja(s,i,n,o)}if(g){var v=f[e];v.useStyle(y.getItemVisual(e,"style"));v.setStyle(t.getModel(["progress","itemStyle"]).getItemStyle());v.z2EmphasisLift=0;$a(v,t);ja(v,i,n,o)}}));this._progressEls=f}};r.prototype._renderAnchor=function(e,t){var r=e.getModel("anchor");var a=r.get("show");if(a){var i=r.get("size");var n=r.get("icon");var o=r.get("offsetCenter");var s=r.get("keepAspect");var l=Pv(n,t.cx-i/2+pt(o[0],t.r),t.cy-i/2+pt(o[1],t.r),i,i,null,s);l.z2=r.get("showAbove")?1:0;l.setStyle(r.getModel("itemStyle").getItemStyle());this.group.add(l)}};r.prototype._renderTitleAndDetail=function(e,t,r,a,i){var n=this;var o=e.getData();var s=o.mapDimension("value");var l=+e.get("min");var u=+e.get("max");var c=new ue;var v=[];var f=[];var h=e.isAnimationEnabled();var d=e.get(["pointer","showAbove"]);o.diff(this._data).add((function(e){v[e]=new U({silent:true});f[e]=new U({silent:true})})).update((function(e,t){v[e]=n._titleEls[t];f[e]=n._detailEls[t]})).execute();o.each((function(t){var r=o.getItemModel(t);var n=o.get(s,t);var p=new ue;var g=a(dt(n,[l,u],[0,1],true));var y=r.getModel("title");if(y.get("show")){var m=y.get("offsetCenter");var x=i.cx+pt(m[0],i.r);var _=i.cy+pt(m[1],i.r);var b=v[t];b.attr({z2:d?0:2,style:tn(y,{x:x,y:_,text:o.getName(t),align:"center",verticalAlign:"middle"},{inheritColor:g})});p.add(b)}var S=r.getModel("detail");if(S.get("show")){var w=S.get("offsetCenter");var M=i.cx+pt(w[0],i.r);var I=i.cy+pt(w[1],i.r);var D=pt(S.get("width"),i.r);var T=pt(S.get("height"),i.r);var C=e.get(["progress","show"])?o.getItemVisual(t,"style").fill:g;var b=f[t];var A=S.get("formatter");b.attr({z2:d?0:2,style:tn(S,{x:M,y:I,text:rD(n,A),width:isNaN(D)?null:D,height:isNaN(T)?null:T,align:"center",verticalAlign:"middle"},{inheritColor:C})});fn(b,{normal:S},n,(function(e){return rD(e,A)}));h&&hn(b,t,o,e,{getFormattedLabel:function(e,t,r,a,i,o){return rD(o?o.interpolatedValue:n,A)}});p.add(b)}c.add(p)}));this.group.add(c);this._titleEls=v;this._detailEls=f};r.type="gauge";return r}(_c);var iD=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.visualStyleAccessPath="itemStyle";return e}r.prototype.getInitialData=function(e,t){return wx(this,["value"])};r.type="series.gauge";r.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:true,radius:"75%",startAngle:225,endAngle:-45,clockwise:true,min:0,max:100,splitNumber:10,axisLine:{show:true,roundCap:false,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:false,overlap:true,width:10,roundCap:false,clip:true},splitLine:{show:true,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:true,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:true,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:true,showAbove:true,length:"60%",width:6,keepAspect:false},anchor:{show:false,showAbove:false,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:false,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:true,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:false},detail:{show:true,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:false}};return r}(sc);function nD(e){e.registerChartView(aD);e.registerSeriesModel(iD)}var oD=["itemStyle","opacity"];var sD=function(t){e(r,t);function r(e,r){var a=t.call(this)||this;var i=a;var n=new pe;var o=new U;i.setTextContent(o);a.setTextGuideLine(n);a.updateData(e,r,true);return a}r.prototype.updateData=function(e,t,r){var a=this;var i=e.hostModel;var n=e.getItemModel(t);var o=e.getItemLayout(t);var s=n.getModel("emphasis");var l=n.get(oD);l=l==null?1:l;if(!r){pi(a)}a.useStyle(e.getItemVisual(t,"style"));a.style.lineJoin="round";if(r){a.setShape({points:o.points});a.style.opacity=0;ci(a,{style:{opacity:l}},i,t)}else{ui(a,{style:{opacity:l},shape:{points:o.points}},i,t)}$a(a,n);this._updateLabel(e,t);ja(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))};r.prototype._updateLabel=function(e,t){var r=this;var a=this.getTextGuideLine();var i=r.getTextContent();var n=e.hostModel;var o=e.getItemModel(t);var s=e.getItemLayout(t);var l=s.label;var u=e.getItemVisual(t,"style");var c=u.fill;Qi(i,en(o),{labelFetcher:e.hostModel,labelDataIndex:t,defaultOpacity:u.opacity,defaultText:e.getName(t)},{normal:{align:l.textAlign,verticalAlign:l.verticalAlign}});r.setTextConfig({local:true,inside:!!l.inside,insideStroke:c,outsideFill:c});var v=l.linePoints;a.setShape({points:v});r.textGuideLineConfig={anchor:v?new Ie(v[0][0],v[0][1]):null};ui(i,{style:{x:l.x,y:l.y}},n,t);i.attr({rotation:l.rotation,originX:l.x,originY:l.y,z2:10});hy(r,dy(o),{stroke:c})};return r}(de);var lD=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.ignoreLabelLineUpdate=true;return e}r.prototype.render=function(e,t,r){var a=e.getData();var i=this._data;var n=this.group;a.diff(i).add((function(e){var t=new sD(a,e);a.setItemGraphicEl(e,t);n.add(t)})).update((function(e,t){var r=i.getItemGraphicEl(t);r.updateData(a,e);n.add(r);a.setItemGraphicEl(e,r)})).remove((function(t){var r=i.getItemGraphicEl(t);di(r,e,t)})).execute();this._data=a};r.prototype.remove=function(){this.group.removeAll();this._data=null};r.prototype.dispose=function(){};r.type="funnel";return r}(_c);var uD=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.init=function(e){t.prototype.init.apply(this,arguments);this.legendVisualProvider=new Mx(a.bind(this.getData,this),a.bind(this.getRawData,this));this._defaultLabelLine(e)};r.prototype.getInitialData=function(e,t){return wx(this,{coordDimensions:["value"],encodeDefaulter:a.curry(hs,this)})};r.prototype._defaultLabelLine=function(e){qt(e,"labelLine",["show"]);var t=e.labelLine;var r=e.emphasis.labelLine;t.show=t.show&&e.label.show;r.show=r.show&&e.emphasis.label.show};r.prototype.getDataParams=function(e){var r=this.getData();var a=t.prototype.getDataParams.call(this,e);var i=r.mapDimension("value");var n=r.getSum(i);a.percent=!n?0:+(r.get(i,e)/n*100).toFixed(2);a.$vars.push("percent");return a};r.type="series.funnel";r.defaultOption={z:2,legendHoverLink:true,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:true,position:"outer"},labelLine:{show:true,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:true}},select:{itemStyle:{borderColor:"#212121"}}};return r}(sc);function cD(e,t){return Fo(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function vD(e,t){var r=e.mapDimension("value");var a=e.mapArray(r,(function(e){return e}));var i=[];var n=t==="ascending";for(var o=0,s=e.count();o<s;o++){i[o]=o}if(m(t)){i.sort(t)}else if(t!=="none"){i.sort((function(e,t){return n?a[e]-a[t]:a[t]-a[e]}))}return i}function fD(e){var t=e.hostModel;var r=t.get("orient");e.each((function(t){var a=e.getItemModel(t);var i=a.getModel("label");var n=i.get("position");var o=a.getModel("labelLine");var s=e.getItemLayout(t);var l=s.points;var u=n==="inner"||n==="inside"||n==="center"||n==="insideLeft"||n==="insideRight";var c;var v;var f;var h;if(u){if(n==="insideLeft"){v=(l[0][0]+l[3][0])/2+5;f=(l[0][1]+l[3][1])/2;c="left"}else if(n==="insideRight"){v=(l[1][0]+l[2][0])/2-5;f=(l[1][1]+l[2][1])/2;c="right"}else{v=(l[0][0]+l[1][0]+l[2][0]+l[3][0])/4;f=(l[0][1]+l[1][1]+l[2][1]+l[3][1])/4;c="center"}h=[[v,f],[v,f]]}else{var d=void 0;var p=void 0;var g=void 0;var y=void 0;var m=o.get("length");if(n==="left"){d=(l[3][0]+l[0][0])/2;p=(l[3][1]+l[0][1])/2;g=d-m;v=g-5;c="right"}else if(n==="right"){d=(l[1][0]+l[2][0])/2;p=(l[1][1]+l[2][1])/2;g=d+m;v=g+5;c="left"}else if(n==="top"){d=(l[3][0]+l[0][0])/2;p=(l[3][1]+l[0][1])/2;y=p-m;f=y-5;c="center"}else if(n==="bottom"){d=(l[1][0]+l[2][0])/2;p=(l[1][1]+l[2][1])/2;y=p+m;f=y+5;c="center"}else if(n==="rightTop"){d=r==="horizontal"?l[3][0]:l[1][0];p=r==="horizontal"?l[3][1]:l[1][1];if(r==="horizontal"){y=p-m;f=y-5;c="center"}else{g=d+m;v=g+5;c="top"}}else if(n==="rightBottom"){d=l[2][0];p=l[2][1];if(r==="horizontal"){y=p+m;f=y+5;c="center"}else{g=d+m;v=g+5;c="bottom"}}else if(n==="leftTop"){d=l[0][0];p=r==="horizontal"?l[0][1]:l[1][1];if(r==="horizontal"){y=p-m;f=y-5;c="center"}else{g=d-m;v=g-5;c="right"}}else if(n==="leftBottom"){d=r==="horizontal"?l[1][0]:l[3][0];p=r==="horizontal"?l[1][1]:l[2][1];if(r==="horizontal"){y=p+m;f=y+5;c="center"}else{g=d-m;v=g-5;c="right"}}else{d=(l[1][0]+l[2][0])/2;p=(l[1][1]+l[2][1])/2;if(r==="horizontal"){y=p+m;f=y+5;c="center"}else{g=d+m;v=g+5;c="left"}}if(r==="horizontal"){g=d;v=g}else{y=p;f=y}h=[[d,p],[g,y]]}s.label={linePoints:h,x:v,y:f,verticalAlign:"middle",textAlign:c,inside:u}}))}function hD(e,t){e.eachSeriesByType("funnel",(function(e){var r=e.getData();var a=r.mapDimension("value");var i=e.get("sort");var n=cD(e,t);var o=e.get("orient");var s=n.width;var l=n.height;var u=vD(r,i);var c=n.x;var v=n.y;var f=o==="horizontal"?[pt(e.get("minSize"),l),pt(e.get("maxSize"),l)]:[pt(e.get("minSize"),s),pt(e.get("maxSize"),s)];var h=r.getDataExtent(a);var d=e.get("min");var p=e.get("max");if(d==null){d=Math.min(h[0],0)}if(p==null){p=h[1]}var g=e.get("funnelAlign");var y=e.get("gap");var m=o==="horizontal"?s:l;var x=(m-y*(r.count()-1))/r.count();var _=function(e,t){if(o==="horizontal"){var i=r.get(a,e)||0;var n=dt(i,[d,p],f,true);var u=void 0;switch(g){case"top":u=v;break;case"center":u=v+(l-n)/2;break;case"bottom":u=v+(l-n);break}return[[t,u],[t,u+n]]}var h=r.get(a,e)||0;var y=dt(h,[d,p],f,true);var m;switch(g){case"left":m=c;break;case"center":m=c+(s-y)/2;break;case"right":m=c+s-y;break}return[[m,t],[m+y,t]]};if(i==="ascending"){x=-x;y=-y;if(o==="horizontal"){c+=s}else{v+=l}u=u.reverse()}for(var b=0;b<u.length;b++){var S=u[b];var w=u[b+1];var M=r.getItemModel(S);if(o==="horizontal"){var I=M.get(["itemStyle","width"]);if(I==null){I=x}else{I=pt(I,s);if(i==="ascending"){I=-I}}var D=_(S,c);var T=_(w,c+I);c+=I+y;r.setItemLayout(S,{points:D.concat(T.slice().reverse())})}else{var C=M.get(["itemStyle","height"]);if(C==null){C=x}else{C=pt(C,l);if(i==="ascending"){C=-C}}var D=_(S,v);var T=_(w,v+C);v+=C+y;r.setItemLayout(S,{points:D.concat(T.slice().reverse())})}}fD(r)}))}function dD(e){e.registerChartView(lD);e.registerSeriesModel(uD);e.registerLayout(hD);e.registerProcessor(dx("funnel"))}var pD=.3;var gD=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e._dataGroup=new ue;e._initialized=false;return e}r.prototype.init=function(){this.group.add(this._dataGroup)};r.prototype.render=function(e,t,r,a){this._progressiveEls=null;var i=this._dataGroup;var n=e.getData();var o=this._data;var s=e.coordinateSystem;var l=s.dimensions;var u=_D(e);n.diff(o).add(c).update(v).remove(f).execute();function c(e){var t=xD(n,i,e,l,s);bD(t,n,e,u)}function v(t,r){var a=o.getItemGraphicEl(r);var i=mD(n,t,l,s);n.setItemGraphicEl(t,a);ui(a,{shape:{points:i}},e,t);pi(a);bD(a,n,t,u)}function f(e){var t=o.getItemGraphicEl(e);i.remove(t)}if(!this._initialized){this._initialized=true;var h=yD(s,e,(function(){setTimeout((function(){i.removeClipPath()}))}));i.setClipPath(h)}this._data=n};r.prototype.incrementalPrepareRender=function(e,t,r){this._initialized=true;this._data=null;this._dataGroup.removeAll()};r.prototype.incrementalRender=function(e,t,r){var a=t.getData();var i=t.coordinateSystem;var n=i.dimensions;var o=_D(t);var s=this._progressiveEls=[];for(var l=e.start;l<e.end;l++){var u=xD(a,this._dataGroup,l,n,i);u.incremental=true;bD(u,a,l,o);s.push(u)}};r.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null};r.type="parallel";return r}(_c);function yD(e,t,r){var a=e.model;var i=e.getRect();var n=new ge({shape:{x:i.x,y:i.y,width:i.width,height:i.height}});var o=a.get("layout")==="horizontal"?"width":"height";n.setShape(o,0);ci(n,{shape:{width:i.width,height:i.height}},t,r);return n}function mD(e,t,r,a){var i=[];for(var n=0;n<r.length;n++){var o=r[n];var s=e.get(e.mapDimension(o),t);if(!SD(s,a.getAxis(o).type)){i.push(a.dataToPoint(s,o))}}return i}function xD(e,t,r,a,i){var n=mD(e,r,a,i);var o=new pe({shape:{points:n},z2:10});t.add(o);e.setItemGraphicEl(r,o);return o}function _D(e){var t=e.get("smooth",true);t===true&&(t=pD);t=Ot(t);k(t)&&(t=0);return{smooth:t}}function bD(e,t,r,a){e.useStyle(t.getItemVisual(r,"style"));e.style.fill=null;e.setShape("smooth",a.smooth);var i=t.getItemModel(r);var n=i.getModel("emphasis");$a(e,i,"lineStyle");ja(e,n.get("focus"),n.get("blurScope"),n.get("disabled"))}function SD(e,t){return t==="category"?e==null:e==null||isNaN(e)}var wD=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.visualStyleAccessPath="lineStyle";e.visualDrawType="stroke";return e}r.prototype.getInitialData=function(e,t){return Ad(null,this,{useEncodeDefaulter:C(MD,null,this)})};r.prototype.getRawIndicesByActiveState=function(e){var t=this.coordinateSystem;var r=this.getData();var a=[];t.eachActiveState(r,(function(t,i){if(e===t){a.push(r.getRawIndex(i))}}));return a};r.type="series.parallel";r.dependencies=["parallel"];r.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:false},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:false}},progressive:500,smooth:false,animationEasing:"linear"};return r}(sc);function MD(e){var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(!t){return}var r={};s(t.dimensions,(function(e){var t=ID(e);r[e]=t}));return r}function ID(e){return+e.replace("dim","")}var DD=["lineStyle","opacity"];var TD={seriesType:"parallel",reset:function(e,t){var r=e.coordinateSystem;var a={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(e,t){r.eachActiveState(t,(function(e,r){var i=a[e];if(e==="normal"&&t.hasItemOption){var n=t.getItemModel(r).get(DD,true);n!=null&&(i=n)}var o=t.ensureUniqueItemVisual(r,"style");o.opacity=i}),e.start,e.end)}}}};function CD(e){AD(e);LD(e)}function AD(e){if(e.parallel){return}var t=false;a.each(e.series,(function(e){if(e&&e.type==="parallel"){t=true}}));if(t){e.parallel=[{}]}}function LD(e){var t=jt(e.parallelAxis);a.each(t,(function(t){if(!a.isObject(t)){return}var r=t.parallelIndex||0;var i=jt(e.parallel)[r];if(i&&i.parallelAxisDefault){a.merge(t,i.parallelAxisDefault,false)}}))}var kD=5;var PD=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.render=function(e,t,r){this._model=e;this._api=r;if(!this._handlers){this._handlers={};s(ND,(function(e,t){r.getZr().on(t,this._handlers[t]=C(e,this))}),this)}Lc(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")};r.prototype.dispose=function(e,t){kc(this,"_throttledDispatchExpand");s(this._handlers,(function(e,r){t.getZr().off(r,e)}));this._handlers=null};r.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)};r.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(d({type:"parallelAxisExpand"},e))};r.type="parallel";return r}(gc);var ND={mousedown:function(e){if(OD(this,"click")){this._mouseDownPoint=[e.offsetX,e.offsetY]}},mouseup:function(e){var t=this._mouseDownPoint;if(OD(this,"click")&&t){var r=[e.offsetX,e.offsetY];var a=Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2);if(a>kD){return}var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(this._mouseDownPoint||!OD(this,"mousemove")){return}var t=this._model;var r=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);var a=r.behavior;a==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce"));this._throttledDispatchExpand(a==="none"?null:{axisExpandWindow:r.axisExpandWindow,animation:a==="jump"?null:{duration:0}})}};function OD(e,t){var r=e._model;return r.get("axisExpandable")&&r.get("axisExpandTriggerOn")===t}var RD=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.init=function(){t.prototype.init.apply(this,arguments);this.mergeOption({})};r.prototype.mergeOption=function(e){var t=this.option;e&&a.merge(t,e,true);this._initDimensions()};r.prototype.contains=function(e,t){var r=e.get("parallelIndex");return r!=null&&t.getComponent("parallel",r)===this};r.prototype.setAxisExpand=function(e){a.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(t){if(e.hasOwnProperty(t)){this.option[t]=e[t]}}),this)};r.prototype._initDimensions=function(){var e=this.dimensions=[];var t=this.parallelAxisIndex=[];var r=a.filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),(function(e){return(e.get("parallelIndex")||0)===this.componentIndex}),this);a.each(r,(function(r){e.push("dim"+r.get("dim"));t.push(r.componentIndex)}))};r.type="parallel";r.dependencies=["parallelAxis"];r.layoutMode="box";r.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:false,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null};return r}(qo);var ED=function(t){e(r,t);function r(e,r,a,i,n){var o=t.call(this,e,r,a)||this;o.type=i||"value";o.axisIndex=n;return o}r.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"};return r}(Vg);function zD(e,t,r,a,i,n){e=e||0;var o=r[1]-r[0];if(i!=null){i=BD(i,[0,o])}if(n!=null){n=Math.max(n,i!=null?i:0)}if(a==="all"){var s=Math.abs(t[1]-t[0]);s=BD(s,[0,o]);i=n=BD(s,[i,n]);a=0}t[0]=BD(t[0],r);t[1]=BD(t[1],r);var l=VD(t,a);t[a]+=e;var u=i||0;var c=r.slice();l.sign<0?c[0]+=u:c[1]-=u;t[a]=BD(t[a],c);var v;v=VD(t,a);if(i!=null&&(v.sign!==l.sign||v.span<i)){t[1-a]=t[a]+l.sign*i}v=VD(t,a);if(n!=null&&v.span>n){t[1-a]=t[a]+v.sign*n}return t}function VD(e,t){var r=e[t]-e[1-t];return{span:Math.abs(r),sign:r>0?-1:r<0?1:t?-1:1}}function BD(e,t){return Math.min(t[1]!=null?t[1]:Infinity,Math.max(t[0]!=null?t[0]:-Infinity,e))}var GD=a.each;var FD=Math.min;var HD=Math.max;var WD=Math.floor;var UD=Math.ceil;var YD=gt;var XD=Math.PI;var ZD=function(){function e(e,t,r){this.type="parallel";this._axesMap=a.createHashMap();this._axesLayout={};this.dimensions=e.dimensions;this._model=e;this._init(e,t,r)}e.prototype._init=function(e,t,r){var a=e.dimensions;var i=e.parallelAxisIndex;GD(a,(function(e,r){var a=i[r];var n=t.getComponent("parallelAxis",a);var o=this._axesMap.set(e,new ED(e,Gp(n),[0,0],n.get("type"),a));var s=o.type==="category";o.onBand=s&&n.get("boundaryGap");o.inverse=n.get("inverse");n.axis=o;o.model=n;o.coordinateSystem=n.coordinateSystem=this}),this)};e.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)};e.prototype.containPoint=function(e){var t=this._makeLayoutInfo();var r=t.axisBase;var a=t.layoutBase;var i=t.pixelDimIndex;var n=e[1-i];var o=e[i];return n>=r&&n<=r+t.axisLength&&o>=a&&o<=a+t.layoutLength};e.prototype.getModel=function(){return this._model};e.prototype._updateAxesFromSeries=function(e,t){t.eachSeries((function(r){if(!e.contains(r,t)){return}var a=r.getData();GD(this.dimensions,(function(e){var t=this._axesMap.get(e);t.scale.unionExtentFromData(a,a.mapDimension(e));Bp(t.scale,t.model)}),this)}),this)};e.prototype.resize=function(e,t){this._rect=Fo(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._layoutAxes()};e.prototype.getRect=function(){return this._rect};e.prototype._makeLayoutInfo=function(){var e=this._model;var t=this._rect;var r=["x","y"];var a=["width","height"];var i=e.get("layout");var n=i==="horizontal"?0:1;var o=t[a[n]];var s=[0,o];var l=this.dimensions.length;var u=jD(e.get("axisExpandWidth"),s);var c=jD(e.get("axisExpandCount")||0,[0,l]);var v=e.get("axisExpandable")&&l>3&&l>c&&c>1&&u>0&&o>0;var f=e.get("axisExpandWindow");var h;if(!f){h=jD(u*(c-1),s);var d=e.get("axisExpandCenter")||WD(l/2);f=[u*d-h/2];f[1]=f[0]+h}else{h=jD(f[1]-f[0],s);f[1]=f[0]+h}var p=(o-h)/(l-c);p<3&&(p=0);var g=[WD(YD(f[0]/u,1))+1,UD(YD(f[1]/u,1))-1];var y=p/u*f[0];return{layout:i,pixelDimIndex:n,layoutBase:t[r[n]],layoutLength:o,axisBase:t[r[1-n]],axisLength:t[a[1-n]],axisExpandable:v,axisExpandWidth:u,axisCollapseWidth:p,axisExpandWindow:f,axisCount:l,winInnerIndices:g,axisExpandWindow0Pos:y}};e.prototype._layoutAxes=function(){var e=this._rect;var t=this._axesMap;var r=this.dimensions;var a=this._makeLayoutInfo();var i=a.layout;t.each((function(e){var t=[0,a.axisLength];var r=e.inverse?1:0;e.setExtent(t[r],t[1-r])}));GD(r,(function(t,r){var n=(a.axisExpandable?KD:qD)(r,a);var o={horizontal:{x:n.position,y:a.axisLength},vertical:{x:0,y:n.position}};var s={horizontal:XD/2,vertical:0};var l=[o[i].x+e.x,o[i].y+e.y];var u=s[i];var c=re.create();re.rotate(c,c,u);re.translate(c,c,l);this._axesLayout[t]={position:l,rotation:u,transform:c,axisNameAvailableWidth:n.axisNameAvailableWidth,axisLabelShow:n.axisLabelShow,nameTruncateMaxWidth:n.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)};e.prototype.getAxis=function(e){return this._axesMap.get(e)};e.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)};e.prototype.eachActiveState=function(e,t,r,i){r==null&&(r=0);i==null&&(i=e.count());var n=this._axesMap;var o=this.dimensions;var s=[];var l=[];a.each(o,(function(t){s.push(e.mapDimension(t));l.push(n.get(t).model)}));var u=this.hasAxisBrushed();for(var c=r;c<i;c++){var v=void 0;if(!u){v="normal"}else{v="active";var f=e.getValues(s,c);for(var h=0,d=o.length;h<d;h++){var p=l[h].getActiveState(f[h]);if(p==="inactive"){v="inactive";break}}}t(v,c)}};e.prototype.hasAxisBrushed=function(){var e=this.dimensions;var t=this._axesMap;var r=false;for(var a=0,i=e.length;a<i;a++){if(t.get(e[a]).model.getActiveState()!=="normal"){r=true}}return r};e.prototype.axisCoordToPoint=function(e,t){var r=this._axesLayout[t];return Oi([e,0],r.transform)};e.prototype.getAxisLayout=function(e){return a.clone(this._axesLayout[e])};e.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo();var r=t.pixelDimIndex;var a=t.axisExpandWindow.slice();var i=a[1]-a[0];var n=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e)){return{behavior:"none",axisExpandWindow:a}}var o=e[r]-t.layoutBase-t.axisExpandWindow0Pos;var s;var l="slide";var u=t.axisCollapseWidth;var c=this._model.get("axisExpandSlideTriggerArea");var v=c[0]!=null;if(u){if(v&&u&&o<i*c[0]){l="jump";s=o-i*c[2]}else if(v&&u&&o>i*(1-c[0])){l="jump";s=o-i*(1-c[2])}else{(s=o-i*c[1])>=0&&(s=o-i*(1-c[1]))<=0&&(s=0)}s*=t.axisExpandWidth/u;s?zD(s,a,n,"all"):l="none"}else{var f=a[1]-a[0];var h=n[1]*o/f;a=[HD(0,h-f/2)];a[1]=FD(n[1],a[0]+f);a[0]=a[1]-f}return{axisExpandWindow:a,behavior:l}};return e}();function jD(e,t){return FD(HD(e,t[0]),t[1])}function qD(e,t){var r=t.layoutLength/(t.axisCount-1);return{position:r*e,axisNameAvailableWidth:r,axisLabelShow:true}}function KD(e,t){var r=t.layoutLength;var a=t.axisExpandWidth;var i=t.axisCount;var n=t.axisCollapseWidth;var o=t.winInnerIndices;var s;var l=n;var u=false;var c;if(e<o[0]){s=e*n;c=n}else if(e<=o[1]){s=t.axisExpandWindow0Pos+e*a-t.axisExpandWindow[0];l=a;u=true}else{s=r-(i-1-e)*n;c=n}return{position:s,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}function JD(e,t){var r=[];e.eachComponent("parallel",(function(a,i){var n=new ZD(a,e,t);n.name="parallel_"+i;n.resize(a,t);a.coordinateSystem=n;n.model=a;r.push(n)}));e.eachSeries((function(e){if(e.get("coordinateSystem")==="parallel"){var t=e.getReferringComponents("parallel",_r).models[0];e.coordinateSystem=t.coordinateSystem}}));return r}var $D={create:JD};var QD=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.activeIntervals=[];return e}r.prototype.getAreaSelectStyle=function(){return Hr([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))};r.prototype.setActiveIntervals=function(e){var t=this.activeIntervals=a.clone(e);if(t){for(var r=t.length-1;r>=0;r--){yt(t[r])}}};r.prototype.getActiveState=function(e){var t=this.activeIntervals;if(!t.length){return"normal"}if(e==null||isNaN(+e)){return"inactive"}if(t.length===1){var r=t[0];if(r[0]<=e&&e<=r[1]){return"active"}}else{for(var a=0,i=t.length;a<i;a++){if(t[a][0]<=e&&e<=t[a][1]){return"active"}}}return"inactive"};return r}(qo);a.mixin(QD,Kp);var eT=true;var tT=Math.min;var rT=Math.max;var aT=Math.pow;var iT=1e4;var nT=6;var oT=6;var sT="globalPan";var lT={w:[0,0],e:[0,1],n:[1,0],s:[1,1]};var uT={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"};var cT={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:true,brushMode:"single",removeOnClick:false};var vT=0;var fT=function(t){e(r,t);function r(e){var r=t.call(this)||this;r._track=[];r._covers=[];r._handlers={};r._zr=e;r.group=new ue;r._uid="brushController_"+vT++;s(UT,(function(e,t){this._handlers[t]=C(e,this)}),r);return r}r.prototype.enableBrush=function(e){this._brushType&&this._doDisableBrush();e.brushType&&this._doEnableBrush(e);return this};r.prototype._doEnableBrush=function(e){var t=this._zr;if(!this._enableGlobalPan){sb(t,sT,this._uid)}s(this._handlers,(function(e,r){t.on(r,e)}));this._brushType=e.brushType;this._brushOption=S(w(cT),e,true)};r.prototype._doDisableBrush=function(){var e=this._zr;lb(e,sT,this._uid);s(this._handlers,(function(t,r){e.off(r,t)}));this._brushType=this._brushOption=null};r.prototype.setPanels=function(e){if(e&&e.length){var t=this._panels={};s(e,(function(e){t[e.panelId]=w(e)}))}else{this._panels=null}return this};r.prototype.mount=function(e){e=e||{};this._enableGlobalPan=e.enableGlobalPan;var t=this.group;this._zr.add(t);t.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1});this._transform=t.getLocalTransform();return this};r.prototype.updateCovers=function(e){e=f(e,(function(e){return S(w(cT),e,true)}));var t="\0-brush-index-";var r=this._covers;var a=this._covers=[];var i=this;var n=this._creatingCover;new Bh(r,e,s,o).add(l).update(l).remove(u).execute();return this;function o(e,r){return(e.id!=null?e.id:t+r)+"-"+e.brushType}function s(e,t){return o(e.__brushOption,t)}function l(t,o){var s=e[t];if(o!=null&&r[o]===n){a[t]=r[o]}else{var l=a[t]=o!=null?(r[o].__brushOption=s,r[o]):dT(i,hT(i,s));yT(i,l)}}function u(e){if(r[e]!==n){i.group.remove(r[e])}}};r.prototype.unmount=function(){this.enableBrush(false);bT(this);this._zr.remove(this.group);return this};r.prototype.dispose=function(){this.unmount();this.off()};return r}(W);function hT(e,t){var r=ZT[t.brushType].createCover(e,t);r.__brushOption=t;gT(r,t);e.group.add(r);return r}function dT(e,t){var r=mT(t);if(r.endCreating){r.endCreating(e,t);gT(t,t.__brushOption)}return t}function pT(e,t){var r=t.__brushOption;mT(t).updateCoverShape(e,t,r.range,r)}function gT(e,t){var r=t.z;r==null&&(r=iT);e.traverse((function(e){e.z=r;e.z2=r}))}function yT(e,t){mT(t).updateCommon(e,t);pT(e,t)}function mT(e){return ZT[e.__brushOption.brushType]}function xT(e,t,r){var a=e._panels;if(!a){return eT}var i;var n=e._transform;s(a,(function(e){e.isTargetByCursor(t,r,n)&&(i=e)}));return i}function _T(e,t){var r=e._panels;if(!r){return eT}var a=t.__brushOption.panelId;return a!=null?r[a]:eT}function bT(e){var t=e._covers;var r=t.length;s(t,(function(t){e.group.remove(t)}),e);t.length=0;return!!r}function ST(e,t){var r=f(e._covers,(function(e){var t=e.__brushOption;var r=w(t.range);return{brushType:t.brushType,panelId:t.panelId,range:r}}));e.trigger("brush",{areas:r,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function wT(e){var t=e._track;if(!t.length){return false}var r=t[t.length-1];var a=t[0];var i=r[0]-a[0];var n=r[1]-a[1];var o=aT(i*i+n*n,.5);return o>nT}function MT(e){var t=e.length-1;t<0&&(t=0);return[e[0],e[t]]}function IT(e,t,r,a){var i=new ue;i.add(new ge({name:"main",style:AT(r),silent:true,draggable:true,cursor:"move",drift:N(OT,e,t,i,["n","s","w","e"]),ondragend:N(ST,t,{isEnd:true})}));s(a,(function(r){i.add(new ge({name:r.join(""),style:{opacity:0},draggable:true,silent:true,invisible:true,drift:N(OT,e,t,i,r),ondragend:N(ST,t,{isEnd:true})}))}));return i}function DT(e,t,r,a){var i=a.brushStyle.lineWidth||0;var n=rT(i,oT);var o=r[0][0];var s=r[1][0];var l=o-i/2;var u=s-i/2;var c=r[0][1];var v=r[1][1];var f=c-n+i/2;var h=v-n+i/2;var d=c-o;var p=v-s;var g=d+i;var y=p+i;CT(e,t,"main",o,s,d,p);if(a.transformable){CT(e,t,"w",l,u,n,y);CT(e,t,"e",f,u,n,y);CT(e,t,"n",l,u,g,n);CT(e,t,"s",l,h,g,n);CT(e,t,"nw",l,u,n,n);CT(e,t,"ne",f,u,n,n);CT(e,t,"sw",l,h,n,n);CT(e,t,"se",f,h,n,n)}}function TT(e,t){var r=t.__brushOption;var a=r.transformable;var i=t.childAt(0);i.useStyle(AT(r));i.attr({silent:!a,cursor:a?"move":"default"});s([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(r){var i=t.childOfName(r.join(""));var n=r.length===1?PT(e,r[0]):NT(e,r);i&&i.attr({silent:!a,invisible:!a,cursor:a?uT[n]+"-resize":null})}))}function CT(e,t,r,a,i,n,o){var s=t.childOfName(r);s&&s.setShape(VT(zT(e,t,[[a,i],[a+n,i+o]])))}function AT(e){return x({strokeNoScale:true},e.brushStyle)}function LT(e,t,r,a){var i=[tT(e,r),tT(t,a)];var n=[rT(e,r),rT(t,a)];return[[i[0],n[0]],[i[1],n[1]]]}function kT(e){return Ni(e.group)}function PT(e,t){var r={w:"left",e:"right",n:"top",s:"bottom"};var a={left:"w",right:"e",top:"n",bottom:"s"};var i=Ri(r[t],kT(e));return a[i]}function NT(e,t){var r=[PT(e,t[0]),PT(e,t[1])];(r[0]==="e"||r[0]==="w")&&r.reverse();return r.join("")}function OT(e,t,r,a,i,n){var o=r.__brushOption;var l=e.toRectRange(o.range);var u=ET(t,i,n);s(a,(function(e){var t=lT[e];l[t[0]][t[1]]+=u[t[0]]}));o.range=e.fromRectRange(LT(l[0][0],l[1][0],l[0][1],l[1][1]));yT(t,r);ST(t,{isEnd:false})}function RT(e,t,r,a){var i=t.__brushOption.range;var n=ET(e,r,a);s(i,(function(e){e[0]+=n[0];e[1]+=n[1]}));yT(e,t);ST(e,{isEnd:false})}function ET(e,t,r){var a=e.group;var i=a.transformCoordToLocal(t,r);var n=a.transformCoordToLocal(0,0);return[i[0]-n[0],i[1]-n[1]]}function zT(e,t,r){var a=_T(e,t);return a&&a!==eT?a.clipPath(r,e._transform):w(r)}function VT(e){var t=tT(e[0][0],e[1][0]);var r=tT(e[0][1],e[1][1]);var a=rT(e[0][0],e[1][0]);var i=rT(e[0][1],e[1][1]);return{x:t,y:r,width:a-t,height:i-r}}function BT(e,t,r){if(!e._brushType||XT(e,t.offsetX,t.offsetY)){return}var a=e._zr;var i=e._covers;var n=xT(e,t,r);if(!e._dragging){for(var o=0;o<i.length;o++){var s=i[o].__brushOption;if(n&&(n===eT||s.panelId===n.panelId)&&ZT[s.brushType].contain(i[o],r[0],r[1])){return}}}n&&a.setCursorStyle("crosshair")}function GT(e){var t=e.event;t.preventDefault&&t.preventDefault()}function FT(e,t,r){return e.childOfName("main").contain(t,r)}function HT(e,t,r,a){var i=e._creatingCover;var n=e._creatingPanel;var o=e._brushOption;var s;e._track.push(r.slice());if(wT(e)||i){if(n&&!i){o.brushMode==="single"&&bT(e);var l=w(o);l.brushType=WT(l.brushType,n);l.panelId=n===eT?null:n.panelId;i=e._creatingCover=hT(e,l);e._covers.push(i)}if(i){var u=ZT[WT(e._brushType,n)];var c=i.__brushOption;c.range=u.getCreatingRange(zT(e,i,e._track));if(a){dT(e,i);u.updateCommon(e,i)}pT(e,i);s={isEnd:a}}}else if(a&&o.brushMode==="single"&&o.removeOnClick){if(xT(e,t,r)&&bT(e)){s={isEnd:a,removeOnClick:true}}}return s}function WT(e,t){if(e==="auto"){return t.defaultBrushType}return e}var UT={mousedown:function(e){if(this._dragging){YT(this,e)}else if(!e.target||!e.target.draggable){GT(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null;var r=this._creatingPanel=xT(this,e,t);if(r){this._dragging=true;this._track=[t.slice()]}}},mousemove:function(e){var t=e.offsetX;var r=e.offsetY;var a=this.group.transformCoordToLocal(t,r);BT(this,e,a);if(this._dragging){GT(e);var i=HT(this,e,a,false);i&&ST(this,i)}},mouseup:function(e){YT(this,e)}};function YT(e,t){if(e._dragging){GT(t);var r=t.offsetX;var a=t.offsetY;var i=e.group.transformCoordToLocal(r,a);var n=HT(e,t,i,true);e._dragging=false;e._track=[];e._creatingCover=null;n&&ST(e,n)}}function XT(e,t,r){var a=e._zr;return t<0||t>a.getWidth()||r<0||r>a.getHeight()}var ZT={lineX:jT(0),lineY:jT(1),rect:{createCover:function(e,t){function r(e){return e}return IT({toRectRange:r,fromRectRange:r},e,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){var t=MT(e);return LT(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,r,a){DT(e,t,r,a)},updateCommon:TT,contain:FT},polygon:{createCover:function(e,t){var r=new ue;r.add(new pe({name:"main",style:AT(t),silent:true}));return r},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0));t.add(new de({name:"main",draggable:true,drift:N(RT,e,t),ondragend:N(ST,e,{isEnd:true})}))},updateCoverShape:function(e,t,r,a){t.childAt(0).setShape({points:zT(e,t,r)})},updateCommon:TT,contain:FT}};function jT(e){return{createCover:function(t,r){return IT({toRectRange:function(t){var r=[t,[0,100]];e&&r.reverse();return r},fromRectRange:function(t){return t[e]}},t,r,[[["w"],["e"]],[["n"],["s"]]][e])},getCreatingRange:function(t){var r=MT(t);var a=tT(r[0][e],r[1][e]);var i=rT(r[0][e],r[1][e]);return[a,i]},updateCoverShape:function(t,r,a,i){var n;var o=_T(t,r);if(o!==eT&&o.getLinearBrushOtherExtent){n=o.getLinearBrushOtherExtent(e)}else{var s=t._zr;n=[0,[s.getWidth(),s.getHeight()][1-e]]}var l=[a,n];e&&l.reverse();DT(t,r,l,i)},updateCommon:TT,contain:FT}}function qT(e){e=$T(e);return function(t){return Bi(t,e)}}function KT(e,t){e=$T(e);return function(r){var a=t!=null?t:r;var i=a?e.width:e.height;var n=a?e.x:e.y;return[n,n+(i||0)]}}function JT(e,t,r){var a=$T(e);return function(e,i){return a.contain(i[0],i[1])&&!mb(e,t,r)}}function $T(e){return we.create(e)}var QT=["axisLine","axisTickLabel","axisName"];var eC=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.init=function(e,r){t.prototype.init.apply(this,arguments);(this._brushController=new fT(r.getZr())).on("brush",a.bind(this._onBrush,this))};r.prototype.render=function(e,t,r,i){if(tC(e,t,i)){return}this.axisModel=e;this.api=r;this.group.removeAll();var n=this._axisGroup;this._axisGroup=new ue;this.group.add(this._axisGroup);if(!e.get("show")){return}var o=aC(e,t);var s=o.coordinateSystem;var l=e.getAreaSelectStyle();var u=l.width;var c=e.axis.dim;var v=s.getAxisLayout(c);var f=a.extend({strokeContainThreshold:u},v);var h=new l_(e,f);a.each(QT,h.add,h);this._axisGroup.add(h.getGroup());this._refreshBrushController(f,l,e,o,u,r);Vi(n,this._axisGroup,e)};r.prototype._refreshBrushController=function(e,t,r,a,i,n){var o=r.axis.getExtent();var s=o[1]-o[0];var l=Math.min(30,Math.abs(s)*.1);var u=we.create({x:o[0],y:-i/2,width:s,height:i});u.x-=l;u.width+=2*l;this._brushController.mount({enableGlobalPan:true,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:qT(u),isTargetByCursor:JT(u,n,a),getLinearBrushOtherExtent:KT(u,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:true}).updateCovers(rC(r))};r.prototype._onBrush=function(e){var t=e.areas;var r=this.axisModel;var i=r.axis;var n=a.map(t,(function(e){return[i.coordToData(e.range[0],true),i.coordToData(e.range[1],true)]}));if(!r.option.realtime===e.isEnd||e.removeOnClick){this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:r.id,intervals:n})}};r.prototype.dispose=function(){this._brushController.dispose()};r.type="parallelAxis";return r}(gc);function tC(e,t,r){return r&&r.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:r})[0]===e}function rC(e){var t=e.axis;return a.map(e.activeIntervals,(function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],true),t.dataToCoord(e[1],true)]}}))}function aC(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}var iC={type:"axisAreaSelect",event:"axisAreaSelected"};function nC(e){e.registerAction(iC,(function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},(function(t){t.axis.model.setActiveIntervals(e.intervals)}))}));e.registerAction("parallelAxisExpand",(function(e,t){t.eachComponent({mainType:"parallel",query:e},(function(t){t.setAxisExpand(e)}))}))}var oC={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:true,z:10};function sC(e){e.registerComponentView(PD);e.registerComponentModel(RD);e.registerCoordinateSystem("parallel",$D);e.registerPreprocessor(CD);e.registerComponentModel(QD);e.registerComponentView(eC);Ux(e,"parallel",QD,oC);nC(e)}function lC(e){Eh(sC);e.registerChartView(gD);e.registerSeriesModel(wD);e.registerVisual(e.PRIORITY.VISUAL.BRUSH,TD)}var uC=function(){function e(){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.cpx1=0;this.cpy1=0;this.cpx2=0;this.cpy2=0;this.extent=0}return e}();var cC=function(t){e(r,t);function r(e){return t.call(this,e)||this}r.prototype.getDefaultShape=function(){return new uC};r.prototype.buildPath=function(e,t){var r=t.extent;e.moveTo(t.x1,t.y1);e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2);if(t.orient==="vertical"){e.lineTo(t.x2+r,t.y2);e.bezierCurveTo(t.cpx2+r,t.cpy2,t.cpx1+r,t.cpy1,t.x1+r,t.y1)}else{e.lineTo(t.x2,t.y2+r);e.bezierCurveTo(t.cpx2,t.cpy2+r,t.cpx1,t.cpy1+r,t.x1,t.y1+r)}e.closePath()};r.prototype.highlight=function(){Aa(this)};r.prototype.downplay=function(){La(this)};return r}(Q);var vC=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e._focusAdjacencyDisabled=false;return e}r.prototype.render=function(e,t,r){var a=this;var i=e.getGraph();var n=this.group;var o=e.layoutInfo;var s=o.width;var l=o.height;var u=e.getData();var c=e.getData("edge");var v=e.get("orient");this._model=e;n.removeAll();n.x=o.x;n.y=o.y;i.eachEdge((function(t){var r=new cC;var a=Xr(r);a.dataIndex=t.dataIndex;a.seriesIndex=e.seriesIndex;a.dataType="edge";var i=t.getModel();var o=i.getModel("lineStyle");var u=o.get("curveness");var f=t.node1.getLayout();var h=t.node1.getModel();var d=h.get("localX");var p=h.get("localY");var g=t.node2.getLayout();var y=t.node2.getModel();var m=y.get("localX");var x=y.get("localY");var _=t.getLayout();var b;var S;var w;var M;var I;var D;var T;var C;r.shape.extent=Math.max(1,_.dy);r.shape.orient=v;if(v==="vertical"){b=(d!=null?d*s:f.x)+_.sy;S=(p!=null?p*l:f.y)+f.dy;w=(m!=null?m*s:g.x)+_.ty;M=x!=null?x*l:g.y;I=b;D=S*(1-u)+M*u;T=w;C=S*u+M*(1-u)}else{b=(d!=null?d*s:f.x)+f.dx;S=(p!=null?p*l:f.y)+_.sy;w=m!=null?m*s:g.x;M=(x!=null?x*l:g.y)+_.ty;I=b*(1-u)+w*u;D=S;T=b*u+w*(1-u);C=M}r.setShape({x1:b,y1:S,x2:w,y2:M,cpx1:I,cpy1:D,cpx2:T,cpy2:C});r.useStyle(o.getItemStyle());fC(r.style,v,t);var A=""+i.get("value");var L=en(i,"edgeLabel");Qi(r,L,{labelFetcher:{getFormattedLabel:function(t,r,a,i,n,o){return e.getFormattedLabel(t,r,"edge",i,O(n,L.normal&&L.normal.get("formatter"),A),o)}},labelDataIndex:t.dataIndex,defaultText:A});r.setTextConfig({position:"inside"});var k=i.getModel("emphasis");$a(r,i,"lineStyle",(function(e){var r=e.getItemStyle();fC(r,v,t);return r}));n.add(r);c.setItemGraphicEl(t.dataIndex,r);var P=k.get("focus");ja(r,P==="adjacency"?t.getAdjacentDataIndices():P==="trajectory"?t.getTrajectoryDataIndices():P,k.get("blurScope"),k.get("disabled"))}));i.eachNode((function(t){var r=t.getLayout();var a=t.getModel();var i=a.get("localX");var o=a.get("localY");var c=a.getModel("emphasis");var v=a.get(["itemStyle","borderRadius"])||0;var f=new ge({shape:{x:i!=null?i*s:r.x,y:o!=null?o*l:r.y,width:r.dx,height:r.dy,r:v},style:a.getModel("itemStyle").getItemStyle(),z2:10});Qi(f,en(a),{labelFetcher:{getFormattedLabel:function(t,r){return e.getFormattedLabel(t,r,"node")}},labelDataIndex:t.dataIndex,defaultText:t.id});f.disableLabelAnimation=true;f.setStyle("fill",t.getVisual("color"));f.setStyle("decal",t.getVisual("style").decal);$a(f,a);n.add(f);u.setItemGraphicEl(t.dataIndex,f);Xr(f).dataType="node";var h=c.get("focus");ja(f,h==="adjacency"?t.getAdjacentDataIndices():h==="trajectory"?t.getTrajectoryDataIndices():h,c.get("blurScope"),c.get("disabled"))}));u.eachItemGraphicEl((function(t,i){var n=u.getItemModel(i);if(n.get("draggable")){t.drift=function(t,n){a._focusAdjacencyDisabled=true;this.shape.x+=t;this.shape.y+=n;this.dirty();r.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:u.getRawIndex(i),localX:this.shape.x/s,localY:this.shape.y/l})};t.ondragend=function(){a._focusAdjacencyDisabled=false};t.draggable=true;t.cursor="move"}}));if(!this._data&&e.isAnimationEnabled()){n.setClipPath(hC(n.getBoundingRect(),e,(function(){n.removeClipPath()})))}this._data=e.getData()};r.prototype.dispose=function(){};r.type="sankey";return r}(_c);function fC(e,t,r){switch(e.fill){case"source":e.fill=r.node1.getVisual("color");e.decal=r.node1.getVisual("style").decal;break;case"target":e.fill=r.node2.getVisual("color");e.decal=r.node2.getVisual("style").decal;break;case"gradient":var a=r.node1.getVisual("color");var i=r.node2.getVisual("color");if(u(a)&&u(i)){e.fill=new be(0,0,+(t==="horizontal"),+(t==="vertical"),[{color:a,offset:0},{color:i,offset:1}])}}}function hC(e,t,r){var a=new ge({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});ci(a,{shape:{width:e.width+20}},t,r);return a}var dC=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.getInitialData=function(e,t){var r=e.edges||e.links;var a=e.data||e.nodes;var i=e.levels;this.levelModels=[];var n=this.levelModels;for(var o=0;o<i.length;o++){if(i[o].depth!=null&&i[o].depth>=0){n[i[o].depth]=new Mn(i[o],this,t)}}if(a&&r){var s=qI(a,r,this,true,l);return s.data}function l(e,t){e.wrapMethod("getItemModel",(function(e,t){var r=e.parentModel;var a=r.getData().getItemLayout(t);if(a){var i=a.depth;var n=r.levelModels[i];if(n){e.parentModel=n}}return e}));t.wrapMethod("getItemModel",(function(e,t){var r=e.parentModel;var a=r.getGraph().getEdgeByIndex(t);var i=a.node1.getLayout();if(i){var n=i.depth;var o=r.levelModels[n];if(o){e.parentModel=o}}return e}))}};r.prototype.setNodePosition=function(e,t){var r=this.option.data||this.option.nodes;var a=r[e];a.localX=t[0];a.localY=t[1]};r.prototype.getGraph=function(){return this.getData().graph};r.prototype.getEdgeData=function(){return this.getGraph().edgeData};r.prototype.formatTooltip=function(e,t,r){function a(e){return isNaN(e)||e==null}if(r==="edge"){var i=this.getDataParams(e,r);var n=i.data;var o=i.value;var s=n.source+" -- "+n.target;return Gu("nameValue",{name:s,value:o,noValue:a(o)})}else{var l=this.getGraph().getNodeByIndex(e);var u=l.getLayout().value;var c=this.getDataParams(e,r).data.name;return Gu("nameValue",{name:c!=null?c+"":null,value:u,noValue:a(u)})}};r.prototype.optionUpdated=function(){};r.prototype.getDataParams=function(e,r){var a=t.prototype.getDataParams.call(this,e,r);if(a.value==null&&r==="node"){var i=this.getGraph().getNodeByIndex(e);var n=i.getLayout().value;a.value=n}return a};r.type="series.sankey";r.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:true,layoutIterations:32,label:{show:true,position:"right",fontSize:12},edgeLabel:{show:false,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:true},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3};return r}(sc);function pC(e,t){e.eachSeriesByType("sankey",(function(e){var r=e.get("nodeWidth");var i=e.get("nodeGap");var n=gC(e,t);e.layoutInfo=n;var o=n.width;var s=n.height;var l=e.getGraph();var u=l.nodes;var c=l.edges;mC(u);var v=a.filter(u,(function(e){return e.getLayout().value===0}));var f=v.length!==0?0:e.get("layoutIterations");var h=e.get("orient");var d=e.get("nodeAlign");yC(u,c,r,i,o,s,f,h,d)}))}function gC(e,t){return Fo(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function yC(e,t,r,a,i,n,o,s,l){xC(e,t,r,i,n,s,l);MC(e,t,n,i,a,o,s);zC(e,s)}function mC(e){a.each(e,(function(e){var t=RC(e.outEdges,OC);var r=RC(e.inEdges,OC);var a=e.getValue()||0;var i=Math.max(t,r,a);e.setLayout({value:i},true)}))}function xC(e,t,r,a,i,n,o){var s=[];var l=[];var u=[];var c=[];var v=0;for(var f=0;f<t.length;f++){s[f]=1}for(var f=0;f<e.length;f++){l[f]=e[f].inEdges.length;if(l[f]===0){u.push(e[f])}}var h=-1;while(u.length){for(var d=0;d<u.length;d++){var p=u[d];var g=p.hostGraph.data.getRawDataItem(p.dataIndex);var y=g.depth!=null&&g.depth>=0;if(y&&g.depth>h){h=g.depth}p.setLayout({depth:y?g.depth:v},true);n==="vertical"?p.setLayout({dy:r},true):p.setLayout({dx:r},true);for(var m=0;m<p.outEdges.length;m++){var x=p.outEdges[m];var _=t.indexOf(x);s[_]=0;var b=x.node2;var S=e.indexOf(b);if(--l[S]===0&&c.indexOf(b)<0){c.push(b)}}}++v;u=c;c=[]}for(var f=0;f<s.length;f++){if(s[f]===1){throw new Error("Sankey is a DAG, the original data has cycle!")}}var w=h>v-1?h:v-1;if(o&&o!=="left"){bC(e,o,n,w)}var M=n==="vertical"?(i-r)/w:(a-r)/w;wC(e,M,n)}function _C(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return t.depth!=null&&t.depth>=0}function bC(e,t,r,i){if(t==="right"){var n=[];var o=e;var s=0;while(o.length){for(var l=0;l<o.length;l++){var u=o[l];u.setLayout({skNodeHeight:s},true);for(var c=0;c<u.inEdges.length;c++){var v=u.inEdges[c];if(n.indexOf(v.node1)<0){n.push(v.node1)}}}o=n;n=[];++s}a.each(e,(function(e){if(!_C(e)){e.setLayout({depth:Math.max(0,i-e.getLayout().skNodeHeight)},true)}}))}else if(t==="justify"){SC(e,i)}}function SC(e,t){a.each(e,(function(e){if(!_C(e)&&!e.outEdges.length){e.setLayout({depth:t},true)}}))}function wC(e,t,r){a.each(e,(function(e){var a=e.getLayout().depth*t;r==="vertical"?e.setLayout({y:a},true):e.setLayout({x:a},true)}))}function MC(e,t,r,a,i,n,o){var s=IC(e,o);DC(s,t,r,a,i,o);TC(s,i,r,a,o);for(var l=1;n>0;n--){l*=.99;CC(s,l,o);TC(s,i,r,a,o);EC(s,l,o);TC(s,i,r,a,o)}}function IC(e,t){var r=[];var i=t==="vertical"?"y":"x";var n=Dr(e,(function(e){return e.getLayout()[i]}));n.keys.sort((function(e,t){return e-t}));a.each(n.keys,(function(e){r.push(n.buckets.get(e))}));return r}function DC(e,t,r,i,n,o){var s=Infinity;a.each(e,(function(e){var t=e.length;var l=0;a.each(e,(function(e){l+=e.getLayout().value}));var u=o==="vertical"?(i-(t-1)*n)/l:(r-(t-1)*n)/l;if(u<s){s=u}}));a.each(e,(function(e){a.each(e,(function(e,t){var r=e.getLayout().value*s;if(o==="vertical"){e.setLayout({x:t},true);e.setLayout({dx:r},true)}else{e.setLayout({y:t},true);e.setLayout({dy:r},true)}}))}));a.each(t,(function(e){var t=+e.getValue()*s;e.setLayout({dy:t},true)}))}function TC(e,t,r,i,n){var o=n==="vertical"?"x":"y";a.each(e,(function(e){e.sort((function(e,t){return e.getLayout()[o]-t.getLayout()[o]}));var a;var s;var l;var u=0;var c=e.length;var v=n==="vertical"?"dx":"dy";for(var f=0;f<c;f++){s=e[f];l=u-s.getLayout()[o];if(l>0){a=s.getLayout()[o]+l;n==="vertical"?s.setLayout({x:a},true):s.setLayout({y:a},true)}u=s.getLayout()[o]+s.getLayout()[v]+t}var h=n==="vertical"?i:r;l=u-t-h;if(l>0){a=s.getLayout()[o]-l;n==="vertical"?s.setLayout({x:a},true):s.setLayout({y:a},true);u=a;for(var f=c-2;f>=0;--f){s=e[f];l=s.getLayout()[o]+s.getLayout()[v]+t-u;if(l>0){a=s.getLayout()[o]-l;n==="vertical"?s.setLayout({x:a},true):s.setLayout({y:a},true)}u=s.getLayout()[o]}}}))}function CC(e,t,r){a.each(e.slice().reverse(),(function(e){a.each(e,(function(e){if(e.outEdges.length){var a=RC(e.outEdges,AC,r)/RC(e.outEdges,OC);if(isNaN(a)){var i=e.outEdges.length;a=i?RC(e.outEdges,LC,r)/i:0}if(r==="vertical"){var n=e.getLayout().x+(a-NC(e,r))*t;e.setLayout({x:n},true)}else{var o=e.getLayout().y+(a-NC(e,r))*t;e.setLayout({y:o},true)}}}))}))}function AC(e,t){return NC(e.node2,t)*e.getValue()}function LC(e,t){return NC(e.node2,t)}function kC(e,t){return NC(e.node1,t)*e.getValue()}function PC(e,t){return NC(e.node1,t)}function NC(e,t){return t==="vertical"?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function OC(e){return e.getValue()}function RC(e,t,r){var a=0;var i=e.length;var n=-1;while(++n<i){var o=+t(e[n],r);if(!isNaN(o)){a+=o}}return a}function EC(e,t,r){a.each(e,(function(e){a.each(e,(function(e){if(e.inEdges.length){var a=RC(e.inEdges,kC,r)/RC(e.inEdges,OC);if(isNaN(a)){var i=e.inEdges.length;a=i?RC(e.inEdges,PC,r)/i:0}if(r==="vertical"){var n=e.getLayout().x+(a-NC(e,r))*t;e.setLayout({x:n},true)}else{var o=e.getLayout().y+(a-NC(e,r))*t;e.setLayout({y:o},true)}}}))}))}function zC(e,t){var r=t==="vertical"?"x":"y";a.each(e,(function(e){e.outEdges.sort((function(e,t){return e.node2.getLayout()[r]-t.node2.getLayout()[r]}));e.inEdges.sort((function(e,t){return e.node1.getLayout()[r]-t.node1.getLayout()[r]}))}));a.each(e,(function(e){var t=0;var r=0;a.each(e.outEdges,(function(e){e.setLayout({sy:t},true);t+=e.getLayout().dy}));a.each(e.inEdges,(function(e){e.setLayout({ty:r},true);r+=e.getLayout().dy}))}))}function VC(e){e.eachSeriesByType("sankey",(function(e){var t=e.getGraph();var r=t.nodes;var i=t.edges;if(r.length){var n=Infinity;var o=-Infinity;a.each(r,(function(e){var t=e.getLayout().value;if(t<n){n=t}if(t>o){o=t}}));a.each(r,(function(t){var r=new jw({type:"color",mappingMethod:"linear",dataExtent:[n,o],visual:e.get("color")});var a=r.mapValueToVisual(t.getLayout().value);var i=t.getModel().get(["itemStyle","color"]);if(i!=null){t.setVisual("color",i);t.setVisual("style",{fill:i})}else{t.setVisual("color",a);t.setVisual("style",{fill:a})}}))}if(i.length){a.each(i,(function(e){var t=e.getModel().get("lineStyle");e.setVisual("style",t)}))}}))}function BC(e){e.registerChartView(vC);e.registerSeriesModel(dC);e.registerLayout(pC);e.registerVisual(VC);e.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},(function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])}))}))}var GC=function(){function e(){}e.prototype.getInitialData=function(e,t){var r;var i=t.getComponent("xAxis",this.get("xAxisIndex"));var n=t.getComponent("yAxis",this.get("yAxisIndex"));var o=i.get("type");var s=n.get("type");var l;if(o==="category"){e.layout="horizontal";r=i.getOrdinalMeta();l=true}else if(s==="category"){e.layout="vertical";r=n.getOrdinalMeta();l=true}else{e.layout=e.layout||"horizontal"}var u=["x","y"];var c=e.layout==="horizontal"?0:1;var v=this._baseAxisDim=u[c];var f=u[1-c];var h=[i,n];var d=h[c].get("type");var p=h[1-c].get("type");var g=e.data;if(g&&l){var y=[];a.each(g,(function(e,t){var r;if(a.isArray(e)){r=e.slice();e.unshift(t)}else if(a.isArray(e.value)){r=a.extend({},e);r.value=r.value.slice();e.value.unshift(t)}else{r=e}y.push(r)}));e.data=y}var m=this.defaultValueDimensions;var x=[{name:v,type:Wh(d),ordinalMeta:r,otherDims:{tooltip:false,itemName:0},dimsDef:["base"]},{name:f,type:Wh(p),dimsDef:m.slice()}];return wx(this,{coordDimensions:x,dimensionsCount:m.length+1,encodeDefaulter:a.curry(fs,x,this)})};e.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis};return e}();var FC=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.defaultValueDimensions=[{name:"min",defaultTooltip:true},{name:"Q1",defaultTooltip:true},{name:"median",defaultTooltip:true},{name:"Q3",defaultTooltip:true},{name:"max",defaultTooltip:true}];e.visualDrawType="stroke";return e}r.type="series.boxplot";r.dependencies=["xAxis","yAxis","grid"];r.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:true,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800};return r}(sc);M(FC,GC,true);var HC=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.render=function(e,t,r){var a=e.getData();var i=this.group;var n=this._data;if(!this._data){i.removeAll()}var o=e.get("layout")==="horizontal"?1:0;a.diff(n).add((function(e){if(a.hasValue(e)){var t=a.getItemLayout(e);var r=YC(t,a,e,o,true);a.setItemGraphicEl(e,r);i.add(r)}})).update((function(e,t){var r=n.getItemGraphicEl(t);if(!a.hasValue(e)){i.remove(r);return}var s=a.getItemLayout(e);if(!r){r=YC(s,a,e,o)}else{pi(r);XC(s,r,a,e)}i.add(r);a.setItemGraphicEl(e,r)})).remove((function(e){var t=n.getItemGraphicEl(e);t&&i.remove(t)})).execute();this._data=a};r.prototype.remove=function(e){var t=this.group;var r=this._data;this._data=null;r&&r.eachItemGraphicEl((function(e){e&&t.remove(e)}))};r.type="boxplot";return r}(_c);var WC=function(){function e(){}return e}();var UC=function(t){e(r,t);function r(e){var r=t.call(this,e)||this;r.type="boxplotBoxPath";return r}r.prototype.getDefaultShape=function(){return new WC};r.prototype.buildPath=function(e,t){var r=t.points;var a=0;e.moveTo(r[a][0],r[a][1]);a++;for(;a<4;a++){e.lineTo(r[a][0],r[a][1])}e.closePath();for(;a<r.length;a++){e.moveTo(r[a][0],r[a][1]);a++;e.lineTo(r[a][0],r[a][1])}};return r}(Q);function YC(e,t,r,a,i){var n=e.ends;var o=new UC({shape:{points:i?ZC(n,a,e):n}});XC(e,o,t,r,i);return o}function XC(e,t,r,a,i){var n=r.hostModel;var o=qi[i?"initProps":"updateProps"];o(t,{shape:{points:e.ends}},n,a);t.useStyle(r.getItemVisual(a,"style"));t.style.strokeNoScale=true;t.z2=100;var s=r.getItemModel(a);var l=s.getModel("emphasis");$a(t,s);ja(t,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function ZC(e,t,r){return a.map(e,(function(e){e=e.slice();e[t]=r.initBaseline;return e}))}var jC=a.each;function qC(e){var t=KC(e);jC(t,(function(e){var t=e.seriesModels;if(!t.length){return}JC(e);jC(t,(function(t,r){$C(t,e.boxOffsetList[r],e.boxWidthList[r])}))}))}function KC(e){var t=[];var r=[];e.eachSeriesByType("boxplot",(function(e){var i=e.getBaseAxis();var n=a.indexOf(r,i);if(n<0){n=r.length;r[n]=i;t[n]={axis:i,seriesModels:[]}}t[n].seriesModels.push(e)}));return t}function JC(e){var t=e.axis;var r=e.seriesModels;var i=r.length;var n=e.boxWidthList=[];var o=e.boxOffsetList=[];var s=[];var l;if(t.type==="category"){l=t.getBandWidth()}else{var u=0;jC(r,(function(e){u=Math.max(u,e.getData().count())}));var c=t.getExtent();l=Math.abs(c[1]-c[0])/u}jC(r,(function(e){var t=e.get("boxWidth");if(!a.isArray(t)){t=[t,t]}s.push([pt(t[0],l)||0,pt(t[1],l)||0])}));var v=l*.8-2;var f=v/i*.3;var h=(v-f*(i-1))/i;var d=h/2-v/2;jC(r,(function(e,t){o.push(d);d+=f+h;n.push(Math.min(Math.max(h,s[t][0]),s[t][1]))}))}function $C(e,t,r){var a=e.coordinateSystem;var i=e.getData();var n=r/2;var o=e.get("layout")==="horizontal"?0:1;var s=1-o;var l=["x","y"];var u=i.mapDimension(l[o]);var c=i.mapDimensionsAll(l[s]);if(u==null||c.length<5){return}for(var v=0;v<i.count();v++){var f=i.get(u,v);var h=x(f,c[2],v);var d=x(f,c[0],v);var p=x(f,c[1],v);var g=x(f,c[3],v);var y=x(f,c[4],v);var m=[];_(m,p,false);_(m,g,true);m.push(d,p,y,g);b(m,d);b(m,y);b(m,h);i.setItemLayout(v,{initBaseline:h[s],ends:m})}function x(e,r,n){var l=i.get(r,n);var u=[];u[o]=e;u[s]=l;var c;if(isNaN(e)||isNaN(l)){c=[NaN,NaN]}else{c=a.dataToPoint(u);c[o]+=t}return c}function _(e,t,r){var a=t.slice();var i=t.slice();a[o]+=n;i[o]-=n;r?e.push(a,i):e.push(i,a)}function b(e,t){var r=t.slice();var a=t.slice();r[o]-=n;a[o]+=n;e.push(r,a)}}function QC(e,t){t=t||{};var r=[];var a=[];var i=t.boundIQR;var n=i==="none"||i===0;for(var o=0;o<e.length;o++){var s=yt(e[o].slice());var l=Pt(s,.25);var c=Pt(s,.5);var v=Pt(s,.75);var f=s[0];var h=s[s.length-1];var d=(i==null?1.5:i)*(v-l);var p=n?f:Math.max(f,l-d);var g=n?h:Math.min(h,v+d);var y=t.itemNameFormatter;var x=m(y)?y({value:o}):u(y)?y.replace("{value}",o+""):o+"";r.push([x,p,l,c,v,g]);for(var _=0;_<s.length;_++){var b=s[_];if(b<p||b>g){var S=[x,b];a.push(S)}}}return{boxData:r,outliers:a}}var eA={type:"echarts:boxplot",transform:function e(t){var r=t.upstream;if(r.sourceFormat!==rs){var a="";Ut(a)}var i=QC(r.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function tA(e){e.registerSeriesModel(FC);e.registerChartView(HC);e.registerLayout(qC);e.registerTransform(eA)}var rA=["color","borderColor"];var aA=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.render=function(e,t,r){this.group.removeClipPath();this._progressiveEls=null;this._updateDrawMode(e);this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)};r.prototype.incrementalPrepareRender=function(e,t,r){this._clear();this._updateDrawMode(e)};r.prototype.incrementalRender=function(e,t,r,a){this._progressiveEls=[];this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)};r.prototype.eachRendered=function(e){ji(this._progressiveEls||this.group,e)};r.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;if(this._isLargeDraw==null||t!==this._isLargeDraw){this._isLargeDraw=t;this._clear()}};r.prototype._renderNormal=function(e){var t=e.getData();var r=this._data;var a=this.group;var i=t.getLayout("isSimpleBox");var n=e.get("clip",true);var o=e.coordinateSystem;var s=o.getArea&&o.getArea();if(!this._data){a.removeAll()}t.diff(r).add((function(r){if(t.hasValue(r)){var o=t.getItemLayout(r);if(n&&sA(s,o)){return}var l=oA(o,r,true);ci(l,{shape:{points:o.ends}},e,r);lA(l,t,r,i);a.add(l);t.setItemGraphicEl(r,l)}})).update((function(o,l){var u=r.getItemGraphicEl(l);if(!t.hasValue(o)){a.remove(u);return}var c=t.getItemLayout(o);if(n&&sA(s,c)){a.remove(u);return}if(!u){u=oA(c)}else{ui(u,{shape:{points:c.ends}},e,o);pi(u)}lA(u,t,o,i);a.add(u);t.setItemGraphicEl(o,u)})).remove((function(e){var t=r.getItemGraphicEl(e);t&&a.remove(t)})).execute();this._data=t};r.prototype._renderLarge=function(e){this._clear();fA(e,this.group);var t=e.get("clip",true)?am(e.coordinateSystem,false,e):null;if(t){this.group.setClipPath(t)}else{this.group.removeClipPath()}};r.prototype._incrementalRenderNormal=function(e,t){var r=t.getData();var a=r.getLayout("isSimpleBox");var i;while((i=e.next())!=null){var n=r.getItemLayout(i);var o=oA(n);lA(o,r,i,a);o.incremental=true;this.group.add(o);this._progressiveEls.push(o)}};r.prototype._incrementalRenderLarge=function(e,t){fA(t,this.group,this._progressiveEls,true)};r.prototype.remove=function(e){this._clear()};r.prototype._clear=function(){this.group.removeAll();this._data=null};r.type="candlestick";return r}(_c);var iA=function(){function e(){}return e}();var nA=function(t){e(r,t);function r(e){var r=t.call(this,e)||this;r.type="normalCandlestickBox";return r}r.prototype.getDefaultShape=function(){return new iA};r.prototype.buildPath=function(e,t){var r=t.points;if(this.__simpleBox){e.moveTo(r[4][0],r[4][1]);e.lineTo(r[6][0],r[6][1])}else{e.moveTo(r[0][0],r[0][1]);e.lineTo(r[1][0],r[1][1]);e.lineTo(r[2][0],r[2][1]);e.lineTo(r[3][0],r[3][1]);e.closePath();e.moveTo(r[4][0],r[4][1]);e.lineTo(r[5][0],r[5][1]);e.moveTo(r[6][0],r[6][1]);e.lineTo(r[7][0],r[7][1])}};return r}(Q);function oA(e,t,r){var a=e.ends;return new nA({shape:{points:r?uA(a,e):a},z2:100})}function sA(e,t){var r=true;for(var a=0;a<t.ends.length;a++){if(e.contain(t.ends[a][0],t.ends[a][1])){r=false;break}}return r}function lA(e,t,r,a){var i=t.getItemModel(r);e.useStyle(t.getItemVisual(r,"style"));e.style.strokeNoScale=true;e.__simpleBox=a;$a(e,i)}function uA(e,t){return a.map(e,(function(e){e=e.slice();e[1]=t.initBaseline;return e}))}var cA=function(){function e(){}return e}();var vA=function(t){e(r,t);function r(e){var r=t.call(this,e)||this;r.type="largeCandlestickBox";return r}r.prototype.getDefaultShape=function(){return new cA};r.prototype.buildPath=function(e,t){var r=t.points;for(var a=0;a<r.length;){if(this.__sign===r[a++]){var i=r[a++];e.moveTo(i,r[a++]);e.lineTo(i,r[a++])}else{a+=3}}};return r}(Q);function fA(e,t,r,a){var i=e.getData();var n=i.getLayout("largePoints");var o=new vA({shape:{points:n},__sign:1,ignoreCoarsePointer:true});t.add(o);var s=new vA({shape:{points:n},__sign:-1,ignoreCoarsePointer:true});t.add(s);var l=new vA({shape:{points:n},__sign:0,ignoreCoarsePointer:true});t.add(l);hA(1,o,e);hA(-1,s,e);hA(0,l,e);if(a){o.incremental=true;s.incremental=true}if(r){r.push(o,s)}}function hA(e,t,r,a){var i=r.get(["itemStyle",e>0?"borderColor":"borderColor0"])||r.get(["itemStyle",e>0?"color":"color0"]);if(e===0){i=r.get(["itemStyle","borderColorDoji"])}var n=r.getModel("itemStyle").getItemStyle(rA);t.useStyle(n);t.style.fill=null;t.style.stroke=i}var dA=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.defaultValueDimensions=[{name:"open",defaultTooltip:true},{name:"close",defaultTooltip:true},{name:"lowest",defaultTooltip:true},{name:"highest",defaultTooltip:true}];return e}r.prototype.getShadowDim=function(){return"open"};r.prototype.brushSelector=function(e,t,r){var a=t.getItemLayout(e);return a&&r.rect(a.brushRect)};r.type="series.candlestick";r.dependencies=["xAxis","yAxis","grid"];r.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,layout:null,clip:true,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:true,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:true,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300};return r}(sc);M(dA,GC,true);function pA(e){if(!e||!a.isArray(e.series)){return}a.each(e.series,(function(e){if(a.isObject(e)&&e.type==="k"){e.type="candlestick"}}))}var gA=["itemStyle","borderColor"];var yA=["itemStyle","borderColor0"];var mA=["itemStyle","borderColorDoji"];var xA=["itemStyle","color"];var _A=["itemStyle","color0"];var bA={seriesType:"candlestick",plan:yc(),performRawSeries:true,reset:function(e,t){function r(e,t){return t.get(e>0?xA:_A)}function a(e,t){return t.get(e===0?mA:e>0?gA:yA)}if(t.isSeriesFiltered(e)){return}var i=e.pipelineContext.large;return!i&&{progress:function(e,t){var i;while((i=e.next())!=null){var n=t.getItemModel(i);var o=t.getItemLayout(i).sign;var s=n.getItemStyle();s.fill=r(o,n);s.stroke=a(o,n)||s.fill;var l=t.ensureUniqueItemVisual(i,"style");d(l,s)}}}}};var SA={seriesType:"candlestick",plan:yc(),reset:function(e){var t=e.coordinateSystem;var r=e.getData();var a=MA(e,r);var i=0;var n=1;var o=["x","y"];var s=r.getDimensionIndex(r.mapDimension(o[i]));var l=f(r.mapDimensionsAll(o[n]),r.getDimensionIndex,r);var u=l[0];var c=l[1];var v=l[2];var h=l[3];r.setLayout({candleWidth:a,isSimpleBox:a<=1.3});if(s<0||l.length<4){return}return{progress:e.pipelineContext.large?p:d};function d(e,r){var o;var l=r.getStore();while((o=e.next())!=null){var f=l.get(s,o);var d=l.get(u,o);var p=l.get(c,o);var g=l.get(v,o);var y=l.get(h,o);var m=Math.min(d,p);var x=Math.max(d,p);var _=T(m,f);var b=T(x,f);var S=T(g,f);var w=T(y,f);var M=[];C(M,b,0);C(M,_,1);M.push(L(w),L(b),L(S),L(_));var I=r.getItemModel(o);var D=!!I.get(["itemStyle","borderColorDoji"]);r.setItemLayout(o,{sign:wA(l,o,d,p,c,D),initBaseline:d>p?b[n]:_[n],ends:M,brushRect:A(g,y,f)})}function T(e,r){var a=[];a[i]=r;a[n]=e;return isNaN(r)||isNaN(e)?[NaN,NaN]:t.dataToPoint(a)}function C(e,t,r){var n=t.slice();var o=t.slice();n[i]=Pi(n[i]+a/2,1,false);o[i]=Pi(o[i]-a/2,1,true);r?e.push(n,o):e.push(o,n)}function A(e,t,r){var n=T(e,r);var o=T(t,r);n[i]-=a/2;o[i]-=a/2;return{x:n[0],y:n[1],width:a,height:o[1]-n[1]}}function L(e){e[i]=Pi(e[i],1);return e}}function p(r,a){var o=Kd(r.count*4);var l=0;var f;var d=[];var p=[];var g;var y=a.getStore();var m=!!e.get(["itemStyle","borderColorDoji"]);while((g=r.next())!=null){var x=y.get(s,g);var _=y.get(u,g);var b=y.get(c,g);var S=y.get(v,g);var w=y.get(h,g);if(isNaN(x)||isNaN(S)||isNaN(w)){o[l++]=NaN;l+=3;continue}o[l++]=wA(y,g,_,b,c,m);d[i]=x;d[n]=S;f=t.dataToPoint(d,null,p);o[l++]=f?f[0]:NaN;o[l++]=f?f[1]:NaN;d[n]=w;f=t.dataToPoint(d,null,p);o[l++]=f?f[1]:NaN}a.setLayout("largePoints",o)}}};function wA(e,t,r,a,i,n){var o;if(r>a){o=-1}else if(r<a){o=1}else{o=n?0:t>0?e.get(i,t-1)<=a?1:-1:1}return o}function MA(e,t){var r=e.getBaseAxis();var a;var i=r.type==="category"?r.getBandWidth():(a=r.getExtent(),Math.abs(a[1]-a[0])/t.count());var n=pt(y(e.get("barMaxWidth"),i),i);var o=pt(y(e.get("barMinWidth"),1),i);var s=e.get("barWidth");return s!=null?pt(s,i):Math.max(Math.min(i/2,n),o)}function IA(e){e.registerChartView(aA);e.registerSeriesModel(dA);e.registerPreprocessor(pA);e.registerVisual(bA);e.registerLayout(SA)}function DA(e,t){var r=t.rippleEffectColor||t.color;e.eachChild((function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?r:null,fill:t.brushType==="fill"?r:null}})}))}var TA=function(t){e(r,t);function r(e,r){var a=t.call(this)||this;var i=new Ey(e,r);var n=new ue;a.add(i);a.add(n);a.updateData(e,r);return a}r.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()};r.prototype.startEffectAnimation=function(e){var t=e.symbolType;var r=e.color;var a=e.rippleNumber;var i=this.childAt(1);for(var n=0;n<a;n++){var o=Pv(t,-1,-1,2,2,r);o.attr({style:{strokeNoScale:true},z2:99,silent:true,scaleX:.5,scaleY:.5});var s=-n/a*e.period+e.effectOffset;o.animate("",true).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(s).start();o.animateStyle(true).when(e.period,{opacity:0}).delay(s).start();i.add(o)}DA(i,e)};r.prototype.updateEffectAnimation=function(e){var t=this._effectCfg;var r=this.childAt(1);var a=["symbolType","period","rippleScale","rippleNumber"];for(var i=0;i<a.length;i++){var n=a[i];if(t[n]!==e[n]){this.stopEffectAnimation();this.startEffectAnimation(e);return}}DA(r,e)};r.prototype.highlight=function(){Aa(this)};r.prototype.downplay=function(){La(this)};r.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()};r.prototype.updateData=function(e,t){var r=this;var a=e.hostModel;this.childAt(0).updateData(e,t);var i=this.childAt(1);var n=e.getItemModel(t);var o=e.getItemVisual(t,"symbol");var s=Nv(e.getItemVisual(t,"symbolSize"));var l=e.getItemVisual(t,"style");var u=l&&l.fill;var c=n.getModel("emphasis");i.setScale(s);i.traverse((function(e){e.setStyle("fill",u)}));var v=Ov(e.getItemVisual(t,"symbolOffset"),s);if(v){i.x=v[0];i.y=v[1]}var f=e.getItemVisual(t,"symbolRotate");i.rotation=(f||0)*Math.PI/180||0;var h={};h.showEffectOn=a.get("showEffectOn");h.rippleScale=n.get(["rippleEffect","scale"]);h.brushType=n.get(["rippleEffect","brushType"]);h.period=n.get(["rippleEffect","period"])*1e3;h.effectOffset=t/e.count();h.z=a.getShallow("z")||0;h.zlevel=a.getShallow("zlevel")||0;h.symbolType=o;h.color=u;h.rippleEffectColor=n.get(["rippleEffect","color"]);h.rippleNumber=n.get(["rippleEffect","number"]);if(h.showEffectOn==="render"){this._effectCfg?this.updateEffectAnimation(h):this.startEffectAnimation(h);this._effectCfg=h}else{this._effectCfg=null;this.stopEffectAnimation();this.onHoverStateChange=function(e){if(e==="emphasis"){if(h.showEffectOn!=="render"){r.startEffectAnimation(h)}}else if(e==="normal"){if(h.showEffectOn!=="render"){r.stopEffectAnimation()}}}}this._effectCfg=h;ja(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))};r.prototype.fadeOut=function(e){e&&e()};return r}(ue);var CA=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.init=function(){this._symbolDraw=new Fy(TA)};r.prototype.render=function(e,t,r){var a=e.getData();var i=this._symbolDraw;i.updateData(a,{clipShape:this._getClipShape(e)});this.group.add(i.group)};r.prototype._getClipShape=function(e){var t=e.coordinateSystem;var r=t&&t.getArea&&t.getArea();return e.get("clip",true)?r:null};r.prototype.updateTransform=function(e,t,r){var a=e.getData();this.group.dirty();var i=wm("").reset(e,t,r);if(i.progress){i.progress({start:0,end:a.count(),count:a.count()},a)}this._symbolDraw.updateLayout()};r.prototype._updateGroupTransform=function(e){var t=e.coordinateSystem;if(t&&t.getRoamTransform){this.group.transform=re.clone(t.getRoamTransform());this.group.decomposeTransform()}};r.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(true)};r.type="effectScatter";return r}(_c);var AA=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.hasSymbolVisual=true;return e}r.prototype.getInitialData=function(e,t){return Ad(null,this,{useEncodeDefaulter:true})};r.prototype.brushSelector=function(e,t,r){return r.point(t.getItemLayout(e))};r.type="series.effectScatter";r.dependencies=["grid","polar"];r.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:true,effectType:"ripple",progressive:0,showEffectOn:"render",clip:true,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10};return r}(sc);function LA(e){e.registerChartView(CA);e.registerSeriesModel(AA);e.registerLayout(wm("effectScatter"))}var kA=function(t){e(r,t);function r(e,r,a){var i=t.call(this)||this;i.add(i.createLine(e,r,a));i._updateEffectSymbol(e,r);return i}r.prototype.createLine=function(e,t,r){return new CI(e,t,r)};r.prototype._updateEffectSymbol=function(e,t){var r=e.getItemModel(t);var i=r.getModel("effect");var n=i.get("symbolSize");var o=i.get("symbol");if(!a.isArray(n)){n=[n,n]}var s=e.getItemVisual(t,"style");var l=i.get("color")||s&&s.stroke;var u=this.childAt(1);if(this._symbolType!==o){this.remove(u);u=Pv(o,-.5,-.5,1,1,l);u.z2=100;u.culling=true;this.add(u)}if(!u){return}u.setStyle("shadowColor",l);u.setStyle(i.getItemStyle(["color"]));u.scaleX=n[0];u.scaleY=n[1];u.setColor(l);this._symbolType=o;this._symbolScale=n;this._updateEffectAnimation(e,i,t)};r.prototype._updateEffectAnimation=function(e,t,r){var i=this.childAt(1);if(!i){return}var n=e.getItemLayout(r);var o=t.get("period")*1e3;var s=t.get("loop");var l=t.get("roundTrip");var u=t.get("constantSpeed");var c=a.retrieve(t.get("delay"),(function(t){return t/e.count()*o/3}));i.ignore=true;this._updateAnimationPoints(i,n);if(u>0){o=this._getLineLength(i)/u*1e3}if(o!==this._period||s!==this._loop||l!==this._roundTrip){i.stopAnimation();var v=void 0;if(a.isFunction(c)){v=c(r)}else{v=c}if(i.__t>0){v=-o*i.__t}this._animateSymbol(i,o,v,s,l)}this._period=o;this._loop=s;this._roundTrip=l};r.prototype._animateSymbol=function(e,t,r,a,i){if(t>0){e.__t=0;var n=this;var o=e.animate("",a).when(i?t*2:t,{__t:i?2:1}).delay(r).during((function(){n._updateSymbolPosition(e)}));if(!a){o.done((function(){n.remove(e)}))}o.start()}};r.prototype._getLineLength=function(e){return ie.dist(e.__p1,e.__cp1)+ie.dist(e.__cp1,e.__p2)};r.prototype._updateAnimationPoints=function(e,t){e.__p1=t[0];e.__p2=t[1];e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]};r.prototype.updateData=function(e,t,r){this.childAt(0).updateData(e,t,r);this._updateEffectSymbol(e,t)};r.prototype._updateSymbolPosition=function(e){var t=e.__p1;var r=e.__p2;var a=e.__cp1;var i=e.__t<1?e.__t:2-e.__t;var n=[e.x,e.y];var o=n.slice();var s=We.quadraticAt;var l=We.quadraticDerivativeAt;n[0]=s(t[0],a[0],r[0],i);n[1]=s(t[1],a[1],r[1],i);var u=e.__t<1?l(t[0],a[0],r[0],i):l(r[0],a[0],t[0],1-i);var c=e.__t<1?l(t[1],a[1],r[1],i):l(r[1],a[1],t[1],1-i);e.rotation=-Math.atan2(c,u)-Math.PI/2;if(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect"){if(e.__lastT!==undefined&&e.__lastT<e.__t){e.scaleY=ie.dist(o,n)*1.05;if(i===1){n[0]=o[0]+(n[0]-o[0])/2;n[1]=o[1]+(n[1]-o[1])/2}}else if(e.__lastT===1){e.scaleY=2*ie.dist(t,n)}else{e.scaleY=this._symbolScale[1]}}e.__lastT=e.__t;e.ignore=false;e.x=n[0];e.y=n[1]};r.prototype.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var r=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,r,t)};return r}(ue);var PA=function(t){e(r,t);function r(e,r,a){var i=t.call(this)||this;i._createPolyline(e,r,a);return i}r.prototype._createPolyline=function(e,t,r){var a=e.getItemLayout(t);var i=new pe({shape:{points:a}});this.add(i);this._updateCommonStl(e,t,r)};r.prototype.updateData=function(e,t,r){var a=e.hostModel;var i=this.childAt(0);var n={shape:{points:e.getItemLayout(t)}};ui(i,n,a,t);this._updateCommonStl(e,t,r)};r.prototype._updateCommonStl=function(e,t,r){var a=this.childAt(0);var i=e.getItemModel(t);var n=r&&r.emphasisLineStyle;var o=r&&r.focus;var s=r&&r.blurScope;var l=r&&r.emphasisDisabled;if(!r||e.hasItemOption){var u=i.getModel("emphasis");n=u.getModel("lineStyle").getLineStyle();l=u.get("disabled");o=u.get("focus");s=u.get("blurScope")}a.useStyle(e.getItemVisual(t,"style"));a.style.fill=null;a.style.strokeNoScale=true;var c=a.ensureState("emphasis");c.style=n;ja(this,o,s,l)};r.prototype.updateLayout=function(e,t){var r=this.childAt(0);r.setShape("points",e.getItemLayout(t))};return r}(ue);var NA=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e._lastFrame=0;e._lastFramePercent=0;return e}r.prototype.createLine=function(e,t,r){return new PA(e,t,r)};r.prototype._updateAnimationPoints=function(e,t){this._points=t;var r=[0];var a=0;for(var i=1;i<t.length;i++){var n=t[i-1];var o=t[i];a+=ie.dist(n,o);r.push(a)}if(a===0){this._length=0;return}for(var i=0;i<r.length;i++){r[i]/=a}this._offsets=r;this._length=a};r.prototype._getLineLength=function(){return this._length};r.prototype._updateSymbolPosition=function(e){var t=e.__t<1?e.__t:2-e.__t;var r=this._points;var a=this._offsets;var i=r.length;if(!a){return}var n=this._lastFrame;var o;if(t<this._lastFramePercent){var s=Math.min(n+1,i-1);for(o=s;o>=0;o--){if(a[o]<=t){break}}o=Math.min(o,i-2)}else{for(o=n;o<i;o++){if(a[o]>t){break}}o=Math.min(o-1,i-2)}var l=(t-a[o])/(a[o+1]-a[o]);var u=r[o];var c=r[o+1];e.x=u[0]*(1-l)+l*c[0];e.y=u[1]*(1-l)+l*c[1];var v=e.__t<1?c[0]-u[0]:u[0]-c[0];var f=e.__t<1?c[1]-u[1]:u[1]-c[1];e.rotation=-Math.atan2(f,v)-Math.PI/2;this._lastFrame=o;this._lastFramePercent=t;e.ignore=false};return r}(kA);var OA=function(){function e(){this.polyline=false;this.curveness=0;this.segs=[]}return e}();var RA=function(t){e(r,t);function r(e){var r=t.call(this,e)||this;r._off=0;r.hoverDataIdx=-1;return r}r.prototype.reset=function(){this.notClear=false;this._off=0};r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};r.prototype.getDefaultShape=function(){return new OA};r.prototype.buildPath=function(e,t){var r=t.segs;var a=t.curveness;var i;if(t.polyline){for(i=this._off;i<r.length;){var n=r[i++];if(n>0){e.moveTo(r[i++],r[i++]);for(var o=1;o<n;o++){e.lineTo(r[i++],r[i++])}}}}else{for(i=this._off;i<r.length;){var s=r[i++];var l=r[i++];var u=r[i++];var c=r[i++];e.moveTo(s,l);if(a>0){var v=(s+u)/2-(l-c)*a;var f=(l+c)/2-(u-s)*a;e.quadraticCurveTo(v,f,u,c)}else{e.lineTo(u,c)}}}if(this.incremental){this._off=i;this.notClear=true}};r.prototype.findDataIndex=function(e,t){var r=this.shape;var a=r.segs;var i=r.curveness;var n=this.style.lineWidth;if(r.polyline){var o=0;for(var s=0;s<a.length;){var l=a[s++];if(l>0){var u=a[s++];var c=a[s++];for(var v=1;v<l;v++){var f=a[s++];var h=a[s++];if(it.containStroke(u,c,f,h,n,e,t)){return o}}}o++}}else{var o=0;for(var s=0;s<a.length;){var u=a[s++];var c=a[s++];var f=a[s++];var h=a[s++];if(i>0){var d=(u+f)/2-(c-h)*i;var p=(c+h)/2-(f-u)*i;if(nt.containStroke(u,c,d,p,f,h,n,e,t)){return o}}else{if(it.containStroke(u,c,f,h,n,e,t)){return o}}o++}}return-1};r.prototype.contain=function(e,t){var r=this.transformCoordToLocal(e,t);var a=this.getBoundingRect();e=r[0];t=r[1];if(a.contain(e,t)){var i=this.hoverDataIdx=this.findDataIndex(e,t);return i>=0}this.hoverDataIdx=-1;return false};r.prototype.getBoundingRect=function(){var e=this._rect;if(!e){var t=this.shape;var r=t.segs;var a=Infinity;var i=Infinity;var n=-Infinity;var o=-Infinity;for(var s=0;s<r.length;){var l=r[s++];var u=r[s++];a=Math.min(l,a);n=Math.max(l,n);i=Math.min(u,i);o=Math.max(u,o)}e=this._rect=new we(a,i,n,o)}return e};return r}(Q);var EA=function(){function e(){this.group=new ue}e.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")});this._setCommon(t,e)};e.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll();this._clear()};e.prototype.incrementalUpdate=function(e,t){var r=this._newAdded[0];var a=t.getLayout("linesPoints");var i=r&&r.shape.segs;if(i&&i.length<2e4){var n=i.length;var o=new Float32Array(n+a.length);o.set(i);o.set(a,n);r.setShape({segs:o})}else{this._newAdded=[];var s=this._create();s.incremental=true;s.setShape({segs:a});this._setCommon(s,t);s.__startIndex=e.start}};e.prototype.remove=function(){this._clear()};e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])};e.prototype._create=function(){var e=new RA({cursor:"default",ignoreCoarsePointer:true});this._newAdded.push(e);this.group.add(e);return e};e.prototype._setCommon=function(e,t,r){var a=t.hostModel;e.setShape({polyline:a.get("polyline"),curveness:a.get(["lineStyle","curveness"])});e.useStyle(a.getModel("lineStyle").getLineStyle());e.style.strokeNoScale=true;var i=t.getVisual("style");if(i&&i.stroke){e.setStyle("stroke",i.stroke)}e.setStyle("fill",null);var n=Xr(e);n.seriesIndex=a.seriesIndex;e.on("mousemove",(function(t){n.dataIndex=null;var r=e.hoverDataIdx;if(r>0){n.dataIndex=r+e.__startIndex}}))};e.prototype._clear=function(){this._newAdded=[];this.group.removeAll()};return e}();var zA={seriesType:"lines",plan:yc(),reset:function(e){var t=e.coordinateSystem;if(!t){return}var r=e.get("polyline");var a=e.pipelineContext.large;return{progress:function(i,n){var o=[];if(a){var s=void 0;var l=i.end-i.start;if(r){var u=0;for(var c=i.start;c<i.end;c++){u+=e.getLineCoordsCount(c)}s=new Float32Array(l+u*2)}else{s=new Float32Array(l*4)}var v=0;var f=[];for(var c=i.start;c<i.end;c++){var h=e.getLineCoords(c,o);if(r){s[v++]=h}for(var d=0;d<h;d++){f=t.dataToPoint(o[d],false,f);s[v++]=f[0];s[v++]=f[1]}}n.setLayout("linesPoints",s)}else{for(var c=i.start;c<i.end;c++){var p=n.getItemModel(c);var h=e.getLineCoords(c,o);var g=[];if(r){for(var y=0;y<h;y++){g.push(t.dataToPoint(o[y]))}}else{g[0]=t.dataToPoint(o[0]);g[1]=t.dataToPoint(o[1]);var m=p.get(["lineStyle","curveness"]);if(+m){g[2]=[(g[0][0]+g[1][0])/2-(g[0][1]-g[1][1])*m,(g[0][1]+g[1][1])/2-(g[1][0]-g[0][0])*m]}}n.setItemLayout(c,g)}}}}}};var VA=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.render=function(e,t,r){var a=e.getData();var i=this._updateLineDraw(a,e);var n=e.get("zlevel");var o=e.get(["effect","trailLength"]);var s=r.getZr();var l=s.painter.getType()==="svg";if(!l){s.painter.getLayer(n).clear(true)}if(this._lastZlevel!=null&&!l){s.configLayer(this._lastZlevel,{motionBlur:false})}if(this._showEffect(e)&&o>0){if(!l){s.configLayer(n,{motionBlur:true,lastFrameAlpha:Math.max(Math.min(o/10+.9,1),0)})}}i.updateData(a);var u=e.get("clip",true)&&am(e.coordinateSystem,false,e);if(u){this.group.setClipPath(u)}else{this.group.removeClipPath()}this._lastZlevel=n;this._finished=true};r.prototype.incrementalPrepareRender=function(e,t,r){var a=e.getData();var i=this._updateLineDraw(a,e);i.incrementalPrepareUpdate(a);this._clearLayer(r);this._finished=false};r.prototype.incrementalRender=function(e,t,r){this._lineDraw.incrementalUpdate(e,t.getData());this._finished=e.end===t.getData().count()};r.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)};r.prototype.updateTransform=function(e,t,r){var a=e.getData();var i=e.pipelineContext;if(!this._finished||i.large||i.progressiveRender){return{update:true}}else{var n=zA.reset(e,t,r);if(n.progress){n.progress({start:0,end:a.count(),count:a.count()},a)}this._lineDraw.updateLayout();this._clearLayer(r)}};r.prototype._updateLineDraw=function(e,t){var r=this._lineDraw;var a=this._showEffect(t);var i=!!t.get("polyline");var n=t.pipelineContext;var o=n.large;if(!r||a!==this._hasEffet||i!==this._isPolyline||o!==this._isLargeDraw){if(r){r.remove()}r=this._lineDraw=o?new EA:new AI(i?a?NA:PA:a?kA:CI);this._hasEffet=a;this._isPolyline=i;this._isLargeDraw=o}this.group.add(r.group);return r};r.prototype._showEffect=function(e){return!!e.get(["effect","show"])};r.prototype._clearLayer=function(e){var t=e.getZr();var r=t.painter.getType()==="svg";if(!r&&this._lastZlevel!=null){t.painter.getLayer(this._lastZlevel).clear(true)}};r.prototype.remove=function(e,t){this._lineDraw&&this._lineDraw.remove();this._lineDraw=null;this._clearLayer(t)};r.prototype.dispose=function(e,t){this.remove(e,t)};r.type="lines";return r}(_c);var BA=typeof Uint32Array==="undefined"?Array:Uint32Array;var GA=typeof Float64Array==="undefined"?Array:Float64Array;function FA(e){var t=e.data;if(t&&t[0]&&t[0][0]&&t[0][0].coord){e.data=f(t,(function(e){var t=[e[0].coord,e[1].coord];var r={coords:t};if(e[0].name){r.fromName=e[0].name}if(e[1].name){r.toName=e[1].name}return V([r,e[0],e[1]])}))}}var HA=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.visualStyleAccessPath="lineStyle";e.visualDrawType="stroke";return e}r.prototype.init=function(e){e.data=e.data||[];FA(e);var r=this._processFlatCoordsArray(e.data);this._flatCoords=r.flatCoords;this._flatCoordsOffset=r.flatCoordsOffset;if(r.flatCoords){e.data=new Float32Array(r.count)}t.prototype.init.apply(this,arguments)};r.prototype.mergeOption=function(e){FA(e);if(e.data){var r=this._processFlatCoordsArray(e.data);this._flatCoords=r.flatCoords;this._flatCoordsOffset=r.flatCoordsOffset;if(r.flatCoords){e.data=new Float32Array(r.count)}}t.prototype.mergeOption.apply(this,arguments)};r.prototype.appendData=function(e){var t=this._processFlatCoordsArray(e.data);if(t.flatCoords){if(!this._flatCoords){this._flatCoords=t.flatCoords;this._flatCoordsOffset=t.flatCoordsOffset}else{this._flatCoords=z(this._flatCoords,t.flatCoords);this._flatCoordsOffset=z(this._flatCoordsOffset,t.flatCoordsOffset)}e.data=new Float32Array(t.count)}this.getRawData().appendData(e.data)};r.prototype._getCoordsFromItemModel=function(e){var t=this.getData().getItemModel(e);var r=t.option instanceof Array?t.option:t.getShallow("coords");return r};r.prototype.getLineCoordsCount=function(e){if(this._flatCoordsOffset){return this._flatCoordsOffset[e*2+1]}else{return this._getCoordsFromItemModel(e).length}};r.prototype.getLineCoords=function(e,t){if(this._flatCoordsOffset){var r=this._flatCoordsOffset[e*2];var a=this._flatCoordsOffset[e*2+1];for(var i=0;i<a;i++){t[i]=t[i]||[];t[i][0]=this._flatCoords[r+i*2];t[i][1]=this._flatCoords[r+i*2+1]}return a}else{var n=this._getCoordsFromItemModel(e);for(var i=0;i<n.length;i++){t[i]=t[i]||[];t[i][0]=n[i][0];t[i][1]=n[i][1]}return n.length}};r.prototype._processFlatCoordsArray=function(e){var t=0;if(this._flatCoords){t=this._flatCoords.length}if(c(e[0])){var r=e.length;var a=new BA(r);var i=new GA(r);var n=0;var o=0;var s=0;for(var l=0;l<r;){s++;var u=e[l++];a[o++]=n+t;a[o++]=u;for(var v=0;v<u;v++){var f=e[l++];var h=e[l++];i[n++]=f;i[n++]=h}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,o),flatCoords:i,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}};r.prototype.getInitialData=function(e,t){var r=new hd(["value"],this);r.hasItemOption=false;r.initData(e.data,[],(function(e,t,a,i){if(e instanceof Array){return NaN}else{r.hasItemOption=true;var n=e.value;if(n!=null){return n instanceof Array?n[i]:n}}}));return r};r.prototype.formatTooltip=function(e,t,r){var a=this.getData();var i=a.getItemModel(e);var n=i.get("name");if(n){return n}var o=i.get("fromName");var s=i.get("toName");var l=[];o!=null&&l.push(o);s!=null&&l.push(s);return Gu("nameValue",{name:l.join(" > ")})};r.prototype.preventIncremental=function(){return!!this.get(["effect","show"])};r.prototype.getProgressive=function(){var e=this.option.progressive;if(e==null){return this.option.large?1e4:this.get("progressive")}return e};r.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;if(e==null){return this.option.large?2e4:this.get("progressiveThreshold")}return e};r.prototype.getZLevelKey=function(){var e=this.getModel("effect");var t=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&t>0?t+"":""};r.type="series.lines";r.dependencies=["grid","polar","geo","calendar"];r.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:true,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:false,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:true,trailLength:.2},large:false,largeThreshold:2e3,polyline:false,clip:true,label:{show:false,position:"end"},lineStyle:{opacity:.5}};return r}(sc);function WA(e){if(!(e instanceof Array)){e=[e,e]}return e}var UA={seriesType:"lines",reset:function(e){var t=WA(e.get("symbol"));var r=WA(e.get("symbolSize"));var a=e.getData();a.setVisual("fromSymbol",t&&t[0]);a.setVisual("toSymbol",t&&t[1]);a.setVisual("fromSymbolSize",r&&r[0]);a.setVisual("toSymbolSize",r&&r[1]);function i(e,t){var r=e.getItemModel(t);var a=WA(r.getShallow("symbol",true));var i=WA(r.getShallow("symbolSize",true));a[0]&&e.setItemVisual(t,"fromSymbol",a[0]);a[1]&&e.setItemVisual(t,"toSymbol",a[1]);i[0]&&e.setItemVisual(t,"fromSymbolSize",i[0]);i[1]&&e.setItemVisual(t,"toSymbolSize",i[1])}return{dataEach:a.hasItemOption?i:null}}};function YA(e){e.registerChartView(VA);e.registerSeriesModel(HA);e.registerLayout(zA);e.registerVisual(UA)}var XA=256;var ZA=function(){function e(){this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={inRange:null,outOfRange:null};var e=ze.createCanvas();this.canvas=e}e.prototype.update=function(e,t,r,a,i,n){var o=this._getBrush();var s=this._getGradient(i,"inRange");var l=this._getGradient(i,"outOfRange");var u=this.pointSize+this.blurSize;var c=this.canvas;var v=c.getContext("2d");var f=e.length;c.width=t;c.height=r;for(var h=0;h<f;++h){var d=e[h];var p=d[0];var g=d[1];var y=d[2];var m=a(y);v.globalAlpha=m;v.drawImage(o,p-u,g-u)}if(!c.width||!c.height){return c}var x=v.getImageData(0,0,c.width,c.height);var _=x.data;var b=0;var S=_.length;var w=this.minOpacity;var M=this.maxOpacity;var I=M-w;while(b<S){var m=_[b+3]/256;var D=Math.floor(m*(XA-1))*4;if(m>0){var T=n(m)?s:l;m>0&&(m=m*I+w);_[b++]=T[D];_[b++]=T[D+1];_[b++]=T[D+2];_[b++]=T[D+3]*m*256}else{b+=4}}v.putImageData(x,0,0);return c};e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=ze.createCanvas());var t=this.pointSize+this.blurSize;var r=t*2;e.width=r;e.height=r;var a=e.getContext("2d");a.clearRect(0,0,r,r);a.shadowOffsetX=r;a.shadowBlur=this.blurSize;a.shadowColor="#000";a.beginPath();a.arc(-t,t,this.pointSize,0,Math.PI*2,true);a.closePath();a.fill();return e};e.prototype._getGradient=function(e,t){var r=this._gradientPixels;var a=r[t]||(r[t]=new Uint8ClampedArray(256*4));var i=[0,0,0,0];var n=0;for(var o=0;o<256;o++){e[t](o/255,true,i);a[n++]=i[0];a[n++]=i[1];a[n++]=i[2];a[n++]=i[3]}return a};return e}();function jA(e,t,r){var i=e[1]-e[0];t=a.map(t,(function(t){return{interval:[(t.interval[0]-e[0])/i,(t.interval[1]-e[0])/i]}}));var n=t.length;var o=0;return function(e){var a;for(a=o;a<n;a++){var i=t[a].interval;if(i[0]<=e&&e<=i[1]){o=a;break}}if(a===n){for(a=o-1;a>=0;a--){var i=t[a].interval;if(i[0]<=e&&e<=i[1]){o=a;break}}}return a>=0&&a<n&&r[a]}}function qA(e,t){var r=e[1]-e[0];t=[(t[0]-e[0])/r,(t[1]-e[0])/r];return function(e){return e>=t[0]&&e<=t[1]}}function KA(e){var t=e.dimensions;return t[0]==="lng"&&t[1]==="lat"}var JA=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.render=function(e,t,r){var a;t.eachComponent("visualMap",(function(t){t.eachTargetSeries((function(r){if(r===e){a=t}}))}));this._progressiveEls=null;this.group.removeAll();var i=e.coordinateSystem;if(i.type==="cartesian2d"||i.type==="calendar"){this._renderOnCartesianAndCalendar(e,r,0,e.getData().count())}else if(KA(i)){this._renderOnGeo(i,e,a,r)}};r.prototype.incrementalPrepareRender=function(e,t,r){this.group.removeAll()};r.prototype.incrementalRender=function(e,t,r,a){var i=t.coordinateSystem;if(i){if(KA(i)){this.render(t,r,a)}else{this._progressiveEls=[];this._renderOnCartesianAndCalendar(t,a,e.start,e.end,true)}}};r.prototype.eachRendered=function(e){ji(this._progressiveEls||this.group,e)};r.prototype._renderOnCartesianAndCalendar=function(e,t,r,a,i){var n=e.coordinateSystem;var o=im(n,"cartesian2d");var s;var l;var u;var c;if(o){var v=n.getAxis("x");var f=n.getAxis("y");s=v.getBandWidth()+.5;l=f.getBandWidth()+.5;u=v.scale.getExtent();c=f.scale.getExtent()}var h=this.group;var d=e.getData();var p=e.getModel(["emphasis","itemStyle"]).getItemStyle();var g=e.getModel(["blur","itemStyle"]).getItemStyle();var y=e.getModel(["select","itemStyle"]).getItemStyle();var m=e.get(["itemStyle","borderRadius"]);var x=en(e);var _=e.getModel("emphasis");var b=_.get("focus");var S=_.get("blurScope");var w=_.get("disabled");var M=o?[d.mapDimension("x"),d.mapDimension("y"),d.mapDimension("value")]:[d.mapDimension("time"),d.mapDimension("value")];for(var I=r;I<a;I++){var D=void 0;var T=d.getItemVisual(I,"style");if(o){var C=d.get(M[0],I);var A=d.get(M[1],I);if(isNaN(d.get(M[2],I))||isNaN(C)||isNaN(A)||C<u[0]||C>u[1]||A<c[0]||A>c[1]){continue}var L=n.dataToPoint([C,A]);D=new ge({shape:{x:L[0]-s/2,y:L[1]-l/2,width:s,height:l},style:T})}else{if(isNaN(d.get(M[1],I))){continue}D=new ge({z2:1,shape:n.dataToRect([d.get(M[0],I)]).contentShape,style:T})}if(d.hasItemOption){var k=d.getItemModel(I);var P=k.getModel("emphasis");p=P.getModel("itemStyle").getItemStyle();g=k.getModel(["blur","itemStyle"]).getItemStyle();y=k.getModel(["select","itemStyle"]).getItemStyle();m=k.get(["itemStyle","borderRadius"]);b=P.get("focus");S=P.get("blurScope");w=P.get("disabled");x=en(k)}D.shape.r=m;var N=e.getRawValue(I);var O="-";if(N&&N[2]!=null){O=N[2]+""}Qi(D,x,{labelFetcher:e,labelDataIndex:I,defaultOpacity:T.opacity,defaultText:O});D.ensureState("emphasis").style=p;D.ensureState("blur").style=g;D.ensureState("select").style=y;ja(D,b,S,w);D.incremental=i;if(i){D.states.emphasis.hoverLayer=true}h.add(D);d.setItemGraphicEl(I,D);if(this._progressiveEls){this._progressiveEls.push(D)}}};r.prototype._renderOnGeo=function(e,t,r,a){var i=r.targetVisuals.inRange;var n=r.targetVisuals.outOfRange;var o=t.getData();var s=this._hmLayer||this._hmLayer||new ZA;s.blurSize=t.get("blurSize");s.pointSize=t.get("pointSize");s.minOpacity=t.get("minOpacity");s.maxOpacity=t.get("maxOpacity");var l=e.getViewRect().clone();var u=e.getRoamTransform();l.applyTransform(u);var c=Math.max(l.x,0);var v=Math.max(l.y,0);var f=Math.min(l.width+l.x,a.getWidth());var h=Math.min(l.height+l.y,a.getHeight());var d=f-c;var p=h-v;var g=[o.mapDimension("lng"),o.mapDimension("lat"),o.mapDimension("value")];var y=o.mapArray(g,(function(t,r,a){var i=e.dataToPoint([t,r]);i[0]-=c;i[1]-=v;i.push(a);return i}));var m=r.getExtent();var x=r.type==="visualMap.continuous"?qA(m,r.option.range):jA(m,r.getPieceList(),r.option.selected);s.update(y,d,p,i.color.getNormalizer(),{inRange:i.color.getColorMapper(),outOfRange:n.color.getColorMapper()},x);var _=new le({style:{width:d,height:p,x:c,y:v,image:s.canvas},silent:true});this.group.add(_)};r.type="heatmap";return r}(_c);var $A=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.getInitialData=function(e,t){return Ad(null,this,{generateCoord:"value"})};r.prototype.preventIncremental=function(){var e=Hs.get(this.get("coordinateSystem"));if(e&&e.dimensions){return e.dimensions[0]==="lng"&&e.dimensions[1]==="lat"}};r.type="series.heatmap";r.dependencies=["grid","geo","calendar"];r.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}};return r}(sc);function QA(e){e.registerChartView(JA);e.registerSeriesModel($A)}var eL=["itemStyle","borderWidth"];var tL=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}];var rL=new ce;var aL=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.render=function(e,t,r){var a=this.group;var i=e.getData();var n=this._data;var o=e.coordinateSystem;var s=o.getBaseAxis();var l=s.isHorizontal();var u=o.master.getRect();var c={ecSize:{width:r.getWidth(),height:r.getHeight()},seriesModel:e,coordSys:o,coordSysExtent:[[u.x,u.x+u.width],[u.y,u.y+u.height]],isHorizontal:l,valueDim:tL[+l],categoryDim:tL[1-+l]};i.diff(n).add((function(e){if(!i.hasValue(e)){return}var t=pL(i,e);var r=iL(i,e,t,c);var n=mL(i,c,r);i.setItemGraphicEl(e,n);a.add(n);ML(n,c,r)})).update((function(e,t){var r=n.getItemGraphicEl(t);if(!i.hasValue(e)){a.remove(r);return}var o=pL(i,e);var s=iL(i,e,o,c);var l=bL(i,s);if(r&&l!==r.__pictorialShapeStr){a.remove(r);i.setItemGraphicEl(e,null);r=null}if(r){xL(r,c,s)}else{r=mL(i,c,s,true)}i.setItemGraphicEl(e,r);r.__pictorialSymbolMeta=s;a.add(r);ML(r,c,s)})).remove((function(e){var t=n.getItemGraphicEl(e);t&&_L(n,e,t.__pictorialSymbolMeta.animationModel,t)})).execute();var v=e.get("clip",true)?am(e.coordinateSystem,false,e):null;if(v){a.setClipPath(v)}else{a.removeClipPath()}this._data=i;return this.group};r.prototype.remove=function(e,t){var r=this.group;var a=this._data;if(e.get("animation")){if(a){a.eachItemGraphicEl((function(t){_L(a,Xr(t).dataIndex,e,t)}))}}else{r.removeAll()}};r.type="pictorialBar";return r}(_c);function iL(e,t,r,a){var i=e.getItemLayout(t);var n=r.get("symbolRepeat");var o=r.get("symbolClip");var s=r.get("symbolPosition")||"start";var l=r.get("symbolRotate");var u=(l||0)*Math.PI/180||0;var c=r.get("symbolPatternSize")||2;var v=r.isAnimationEnabled();var f={dataIndex:t,layout:i,itemModel:r,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:o,symbolRepeat:n,symbolRepeatDirection:r.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:v?r:null,hoverScale:v&&r.get(["emphasis","scale"]),z2:r.getShallow("z",true)||0};nL(r,n,i,a,f);sL(e,t,i,n,o,f.boundingLength,f.pxSign,c,a,f);lL(r,f.symbolScale,u,a,f);var h=f.symbolSize;var d=Ov(r.get("symbolOffset"),h);uL(r,h,i,n,o,d,s,f.valueLineWidth,f.boundingLength,f.repeatCutLength,a,f);return f}function nL(e,t,r,i,n){var o=i.valueDim;var s=e.get("symbolBoundingData");var l=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis());var u=l.toGlobalCoord(l.dataToCoord(0));var c=1-+(r[o.wh]<=0);var v;if(a.isArray(s)){var f=[oL(l,s[0])-u,oL(l,s[1])-u];f[1]<f[0]&&f.reverse();v=f[c]}else if(s!=null){v=oL(l,s)-u}else if(t){v=i.coordSysExtent[o.index][c]-u}else{v=r[o.wh]}n.boundingLength=v;if(t){n.repeatCutLength=r[o.wh]}n.pxSign=v>0?1:-1}function oL(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function sL(e,t,r,i,n,o,s,l,u,c){var v=u.valueDim;var f=u.categoryDim;var h=Math.abs(r[f.wh]);var d=e.getItemVisual(t,"symbolSize");var p;if(a.isArray(d)){p=d.slice()}else{if(d==null){p=["100%","100%"]}else{p=[d,d]}}p[f.index]=pt(p[f.index],h);p[v.index]=pt(p[v.index],i?h:Math.abs(o));c.symbolSize=p;var g=c.symbolScale=[p[0]/l,p[1]/l];g[v.index]*=(u.isHorizontal?-1:1)*s}function lL(e,t,r,a,i){var n=e.get(eL)||0;if(n){rL.attr({scaleX:t[0],scaleY:t[1],rotation:r});rL.updateTransform();n/=rL.getLineScale();n*=t[a.valueDim.index]}i.valueLineWidth=n||0}function uL(e,t,r,i,n,o,s,l,u,c,v,f){var h=v.categoryDim;var d=v.valueDim;var p=f.pxSign;var g=Math.max(t[d.index]+l,0);var y=g;if(i){var m=Math.abs(u);var x=a.retrieve(e.get("symbolMargin"),"15%")+"";var _=false;if(x.lastIndexOf("!")===x.length-1){_=true;x=x.slice(0,x.length-1)}var b=pt(x,t[d.index]);var S=Math.max(g+b*2,0);var w=_?0:b*2;var M=Rt(i);var I=M?i:IL((m+w)/S);var D=m-I*g;b=D/2/(_?I:Math.max(I-1,1));S=g+b*2;w=_?0:b*2;if(!M&&i!=="fixed"){I=c?IL((Math.abs(c)+w)/S):0}y=I*S-w;f.repeatTimes=I;f.symbolMargin=b}var T=p*(y/2);var C=f.pathPosition=[];C[h.index]=r[h.wh]/2;C[d.index]=s==="start"?T:s==="end"?u-T:u/2;if(o){C[0]+=o[0];C[1]+=o[1]}var A=f.bundlePosition=[];A[h.index]=r[h.xy];A[d.index]=r[d.xy];var L=f.barRectShape=a.extend({},r);L[d.wh]=p*Math.max(Math.abs(r[d.wh]),Math.abs(C[d.index]+T));L[h.wh]=r[h.wh];var k=f.clipShape={};k[h.xy]=-r[h.xy];k[h.wh]=v.ecSize[h.wh];k[d.xy]=0;k[d.wh]=r[d.wh]}function cL(e){var t=e.symbolPatternSize;var r=Pv(e.symbolType,-t/2,-t/2,t,t);r.attr({culling:true});r.type!=="image"&&r.setStyle({strokeNoScale:true});return r}function vL(e,t,r,a){var i=e.__pictorialBundle;var n=r.symbolSize;var o=r.valueLineWidth;var s=r.pathPosition;var l=t.valueDim;var u=r.repeatTimes||0;var c=0;var v=n[t.valueDim.index]+o+r.symbolMargin*2;SL(e,(function(e){e.__pictorialAnimationIndex=c;e.__pictorialRepeatTimes=u;if(c<u){wL(e,null,d(c),r,a)}else{wL(e,null,{scaleX:0,scaleY:0},r,a,(function(){i.remove(e)}))}c++}));for(;c<u;c++){var f=cL(r);f.__pictorialAnimationIndex=c;f.__pictorialRepeatTimes=u;i.add(f);var h=d(c);wL(f,{x:h.x,y:h.y,scaleX:0,scaleY:0},{scaleX:h.scaleX,scaleY:h.scaleY,rotation:h.rotation},r,a)}function d(e){var t=s.slice();var a=r.pxSign;var i=e;if(r.symbolRepeatDirection==="start"?a>0:a<0){i=u-1-e}t[l.index]=v*(i-u/2+.5)+s[l.index];return{x:t[0],y:t[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation}}}function fL(e,t,r,a){var i=e.__pictorialBundle;var n=e.__pictorialMainPath;if(!n){n=e.__pictorialMainPath=cL(r);i.add(n);wL(n,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:0,scaleY:0,rotation:r.rotation},{scaleX:r.symbolScale[0],scaleY:r.symbolScale[1]},r,a)}else{wL(n,null,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation},r,a)}}function hL(e,t,r){var i=a.extend({},t.barRectShape);var n=e.__pictorialBarRect;if(!n){n=e.__pictorialBarRect=new ge({z2:2,shape:i,silent:true,style:{stroke:"transparent",fill:"transparent",lineWidth:0}});n.disableMorphing=true;e.add(n)}else{wL(n,null,{shape:i},t,r)}}function dL(e,t,r,i){if(r.symbolClip){var n=e.__pictorialClipPath;var o=a.extend({},r.clipShape);var s=t.valueDim;var l=r.animationModel;var u=r.dataIndex;if(n){ui(n,{shape:o},l,u)}else{o[s.wh]=0;n=new ge({shape:o});e.__pictorialBundle.setClipPath(n);e.__pictorialClipPath=n;var c={};c[s.wh]=r.clipShape[s.wh];qi[i?"updateProps":"initProps"](n,{shape:c},l,u)}}}function pL(e,t){var r=e.getItemModel(t);r.getAnimationDelayParams=gL;r.isAnimationEnabled=yL;return r}function gL(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function yL(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function mL(e,t,r,a){var i=new ue;var n=new ue;i.add(n);i.__pictorialBundle=n;n.x=r.bundlePosition[0];n.y=r.bundlePosition[1];if(r.symbolRepeat){vL(i,t,r)}else{fL(i,t,r)}hL(i,r,a);dL(i,t,r,a);i.__pictorialShapeStr=bL(e,r);i.__pictorialSymbolMeta=r;return i}function xL(e,t,r){var a=r.animationModel;var i=r.dataIndex;var n=e.__pictorialBundle;ui(n,{x:r.bundlePosition[0],y:r.bundlePosition[1]},a,i);if(r.symbolRepeat){vL(e,t,r,true)}else{fL(e,t,r,true)}hL(e,r,true);dL(e,t,r,true)}function _L(e,t,r,i){var n=i.__pictorialBarRect;n&&n.removeTextContent();var o=[];SL(i,(function(e){o.push(e)}));i.__pictorialMainPath&&o.push(i.__pictorialMainPath);i.__pictorialClipPath&&(r=null);a.each(o,(function(e){fi(e,{scaleX:0,scaleY:0},r,t,(function(){i.parent&&i.parent.remove(i)}))}));e.setItemGraphicEl(t,null)}function bL(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function SL(e,t,r){a.each(e.__pictorialBundle.children(),(function(a){a!==e.__pictorialBarRect&&t.call(r,a)}))}function wL(e,t,r,a,i,n){t&&e.attr(t);if(a.symbolClip&&!i){r&&e.attr(r)}else{r&&qi[i?"updateProps":"initProps"](e,r,a.animationModel,a.dataIndex,n)}}function ML(e,t,r){var i=r.dataIndex;var n=r.itemModel;var o=n.getModel("emphasis");var s=o.getModel("itemStyle").getItemStyle();var l=n.getModel(["blur","itemStyle"]).getItemStyle();var u=n.getModel(["select","itemStyle"]).getItemStyle();var c=n.getShallow("cursor");var v=o.get("focus");var f=o.get("blurScope");var h=o.get("scale");SL(e,(function(e){if(e instanceof le){var t=e.style;e.useStyle(a.extend({image:t.image,x:t.x,y:t.y,width:t.width,height:t.height},r.style))}else{e.useStyle(r.style)}var i=e.ensureState("emphasis");i.style=s;if(h){i.scaleX=e.scaleX*1.1;i.scaleY=e.scaleY*1.1}e.ensureState("blur").style=l;e.ensureState("select").style=u;c&&(e.cursor=c);e.z2=r.z2}));var d=t.valueDim.posDesc[+(r.boundingLength>0)];var p=e.__pictorialBarRect;p.ignoreClip=true;Qi(p,en(n),{labelFetcher:t.seriesModel,labelDataIndex:i,defaultText:Oy(t.seriesModel.getData(),i),inheritColor:r.style.fill,defaultOpacity:r.style.opacity,defaultOutsidePosition:d});ja(e,v,f,o.get("disabled"))}function IL(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}var DL=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.hasSymbolVisual=true;e.defaultSymbol="roundRect";return e}r.prototype.getInitialData=function(e){e.stack=null;return t.prototype.getInitialData.apply(this,arguments)};r.type="series.pictorialBar";r.dependencies=["grid"];r.defaultOption=An(Cm.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:false,symbolRepeatDirection:"end",symbolClip:false,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:false,progressive:0,emphasis:{scale:false},select:{itemStyle:{borderColor:"#212121"}}});return r}(Cm);function TL(e){e.registerChartView(aL);e.registerSeriesModel(DL);e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,N(op,"pictorialBar"));e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,sp("pictorialBar"))}var CL=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e._layers=[];return e}r.prototype.render=function(e,t,r){var a=e.getData();var i=this;var n=this.group;var o=e.getLayerSeries();var s=a.getLayout("layoutInfo");var l=s.rect;var u=s.boundaryGap;n.x=0;n.y=l.y+u[0];function c(e){return e.name}var v=new Bh(this._layersSeries||[],o,c,c);var f=[];v.add(C(h,this,"add")).update(C(h,this,"update")).remove(C(h,this,"remove")).execute();function h(t,r,s){var l=i._layers;if(t==="remove"){n.remove(l[r]);return}var u=[];var c=[];var v;var h=o[r].indices;var d=0;for(;d<h.length;d++){var p=a.getItemLayout(h[d]);var g=p.x;var y=p.y0;var m=p.y;u.push(g,y);c.push(g,y+m);v=a.getItemVisual(h[d],"style")}var x;var _=a.getItemLayout(h[0]);var b=e.getModel("label");var S=b.get("margin");var w=e.getModel("emphasis");if(t==="add"){var M=f[r]=new ue;x=new em({shape:{points:u,stackedOnPoints:c,smooth:.4,stackedOnSmooth:.4,smoothConstraint:false},z2:0});M.add(x);n.add(M);if(e.isAnimationEnabled()){x.setClipPath(AL(x.getBoundingRect(),e,(function(){x.removeClipPath()})))}}else{var M=l[s];x=M.childAt(0);n.add(M);f[r]=M;ui(x,{shape:{points:u,stackedOnPoints:c}},e);pi(x)}Qi(x,en(e),{labelDataIndex:h[d-1],defaultText:a.getName(h[d-1]),inheritColor:v.fill},{normal:{verticalAlign:"middle"}});x.setTextConfig({position:null,local:true});var I=x.getTextContent();if(I){I.x=_.x-S;I.y=_.y0+_.y/2}x.useStyle(v);a.setItemGraphicEl(r,x);$a(x,e);ja(x,w.get("focus"),w.get("blurScope"),w.get("disabled"))}this._layersSeries=o;this._layers=f};r.type="themeRiver";return r}(_c);function AL(e,t,r){var a=new ge({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});ci(a,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,r);return a}var LL=2;var kL=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.init=function(e){t.prototype.init.apply(this,arguments);this.legendVisualProvider=new Mx(a.bind(this.getData,this),a.bind(this.getRawData,this))};r.prototype.fixData=function(e){var t=e.length;var r={};var a=Dr(e,(function(e){if(!r.hasOwnProperty(e[0]+"")){r[e[0]+""]=-1}return e[2]}));var i=[];a.buckets.each((function(e,t){i.push({name:t,dataList:e})}));var n=i.length;for(var o=0;o<n;++o){var s=i[o].name;for(var l=0;l<i[o].dataList.length;++l){var u=i[o].dataList[l][0]+"";r[u]=o}for(var u in r){if(r.hasOwnProperty(u)&&r[u]!==o){r[u]=o;e[t]=[u,0,s];t++}}}return e};r.prototype.getInitialData=function(e,t){var r=this.getReferringComponents("singleAxis",_r).models[0];var i=r.get("type");var n=a.filter(e.data,(function(e){return e[2]!==undefined}));var o=this.fixData(n||[]);var s=[];var l=this.nameMap=a.createHashMap();var u=0;for(var c=0;c<o.length;++c){s.push(o[c][LL]);if(!l.get(o[c][LL])){l.set(o[c][LL],u);u++}}var v=pd(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Wh(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions;var f=new hd(v,this);f.initData(o);return f};r.prototype.getLayerSeries=function(){var e=this.getData();var t=e.count();var r=[];for(var a=0;a<t;++a){r[a]=a}var i=e.mapDimension("single");var n=Dr(r,(function(t){return e.get("name",t)}));var o=[];n.buckets.each((function(t,r){t.sort((function(t,r){return e.get(i,t)-e.get(i,r)}));o.push({name:r,indices:t})}));return o};r.prototype.getAxisTooltipData=function(e,t,r){if(!a.isArray(e)){e=e?[e]:[]}var i=this.getData();var n=this.getLayerSeries();var o=[];var s=n.length;var l;for(var u=0;u<s;++u){var c=Number.MAX_VALUE;var v=-1;var f=n[u].indices.length;for(var h=0;h<f;++h){var d=i.get(e[0],n[u].indices[h]);var p=Math.abs(d-t);if(p<=c){l=d;c=p;v=n[u].indices[h]}}o.push(v)}return{dataIndices:o,nestestValue:l}};r.prototype.formatTooltip=function(e,t,r){var a=this.getData();var i=a.getName(e);var n=a.get(a.mapDimension("value"),e);return Gu("nameValue",{name:i,value:n})};r.type="series.themeRiver";r.dependencies=["singleAxis"];r.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:true,position:"left",fontSize:11},emphasis:{label:{show:true}}};return r}(sc);function PL(e,t){e.eachSeriesByType("themeRiver",(function(e){var t=e.getData();var r=e.coordinateSystem;var a={};var i=r.getRect();a.rect=i;var n=e.get("boundaryGap");var o=r.getAxis();a.boundaryGap=n;if(o.orient==="horizontal"){n[0]=pt(n[0],i.height);n[1]=pt(n[1],i.height);var s=i.height-n[0]-n[1];NL(t,e,s)}else{n[0]=pt(n[0],i.width);n[1]=pt(n[1],i.width);var l=i.width-n[0]-n[1];NL(t,e,l)}t.setLayout("layoutInfo",a)}))}function NL(e,t,r){if(!e.count()){return}var i=t.coordinateSystem;var n=t.getLayerSeries();var o=e.mapDimension("single");var s=e.mapDimension("value");var l=a.map(n,(function(t){return a.map(t.indices,(function(t){var r=i.dataToPoint(e.get(o,t));r[1]=e.get(s,t);return r}))}));var u=OL(l);var c=u.y0;var v=r/u.max;var f=n.length;var h=n[0].indices.length;var d;for(var p=0;p<h;++p){d=c[p]*v;e.setItemLayout(n[0].indices[p],{layerIndex:0,x:l[0][p][0],y0:d,y:l[0][p][1]*v});for(var g=1;g<f;++g){d+=l[g-1][p][1]*v;e.setItemLayout(n[g].indices[p],{layerIndex:g,x:l[g][p][0],y0:d,y:l[g][p][1]*v})}}}function OL(e){var t=e.length;var r=e[0].length;var a=[];var i=[];var n=0;for(var o=0;o<r;++o){var s=0;for(var l=0;l<t;++l){s+=e[l][o][1]}if(s>n){n=s}a.push(s)}for(var u=0;u<r;++u){i[u]=(n-a[u])/2}n=0;for(var c=0;c<r;++c){var v=a[c]+i[c];if(v>n){n=v}}return{y0:i,max:n}}function RL(e){e.registerChartView(CL);e.registerSeriesModel(kL);e.registerLayout(PL);e.registerProcessor(dx("themeRiver"))}var EL=2;var zL=4;var VL=function(t){e(r,t);function r(e,r,a,i){var n=t.call(this)||this;n.z2=EL;n.textConfig={inside:true};Xr(n).seriesIndex=r.seriesIndex;var o=new U({z2:zL,silent:e.getModel().get(["label","silent"])});n.setTextContent(o);n.updateData(true,e,r,a,i);return n}r.prototype.updateData=function(e,t,r,i,n){this.node=t;t.piece=this;r=r||this._seriesModel;i=i||this._ecModel;var o=this;Xr(o).dataIndex=t.dataIndex;var s=t.getModel();var l=s.getModel("emphasis");var u=t.getLayout();var c=a.extend({},u);c.label=null;var v=t.getVisual("style");v.lineJoin="bevel";var f=t.getVisual("decal");if(f){v.decal=Vv(f,n)}var h=Em(s.getModel("itemStyle"),c,true);a.extend(c,h);a.each(ta,(function(e){var t=o.ensureState(e);var r=s.getModel([e,"itemStyle"]);t.style=r.getItemStyle();var a=Em(r,c);if(a){t.shape=a}}));if(e){o.setShape(c);o.shape.r=u.r0;ci(o,{shape:{r:u.r}},r,t.dataIndex)}else{ui(o,{shape:c},r);pi(o)}o.useStyle(v);this._updateLabel(r);var d=s.getShallow("cursor");d&&o.attr("cursor",d);this._seriesModel=r||this._seriesModel;this._ecModel=i||this._ecModel;var p=l.get("focus");var g=p==="ancestor"?t.getAncestorsIndices():p==="descendant"?t.getDescendantIndices():p;ja(this,g,l.get("blurScope"),l.get("disabled"))};r.prototype._updateLabel=function(e){var t=this;var r=this.node.getModel();var i=r.getModel("label");var n=this.node.getLayout();var o=n.endAngle-n.startAngle;var s=(n.startAngle+n.endAngle)/2;var l=Math.cos(s);var u=Math.sin(s);var c=this;var v=c.getTextContent();var f=this.node.dataIndex;var h=i.get("minAngle")/180*Math.PI;var d=i.get("show")&&!(h!=null&&Math.abs(o)<h);v.ignore=!d;a.each(ra,(function(i){var h=i==="normal"?r.getModel("label"):r.getModel([i,"label"]);var d=i==="normal";var g=d?v:v.ensureState(i);var y=e.getFormattedLabel(f,i);if(d){y=y||t.node.name}g.style=tn(h,{},null,i!=="normal",true);if(y){g.style.text=y}var m=h.get("show");if(m!=null&&!d){g.ignore=!m}var x=p(h,"position");var _=d?c:c.states[i];var b=_.style.fill;_.textConfig={outsideFill:h.get("color")==="inherit"?b:null,inside:x!=="outside"};var S;var w=p(h,"distance")||0;var M=p(h,"align");var I=p(h,"rotate");var D=Math.PI*.5;var T=Math.PI*1.5;var C=He(I==="tangential"?Math.PI/2-s:s);var A=C>D&&!Dt(C-D)&&C<T;if(x==="outside"){S=n.r+w;M=A?"right":"left"}else{if(!M||M==="center"){if(o===2*Math.PI&&n.r0===0){S=0}else{S=(n.r+n.r0)/2}M="center"}else if(M==="left"){S=n.r0+w;M=A?"right":"left"}else if(M==="right"){S=n.r-w;M=A?"left":"right"}}g.style.align=M;g.style.verticalAlign=p(h,"verticalAlign")||"middle";g.x=S*l+n.cx;g.y=S*u+n.cy;var L=0;if(I==="radial"){L=He(-s)+(A?Math.PI:0)}else if(I==="tangential"){L=He(Math.PI/2-s)+(A?Math.PI:0)}else if(a.isNumber(I)){L=I*Math.PI/180}g.rotation=He(L)}));function p(e,t){var r=e.get(t);if(r==null){return i.get(t)}return r}v.dirtyStyle()};return r}(fe);var BL="sunburstRootToNode";var GL="sunburstHighlight";var FL="sunburstUnhighlight";function HL(e){e.registerAction({type:BL,update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},r);function r(t,r){var a=iw(e,[BL],t);if(a){var i=t.getViewRoot();if(i){e.direction=ow(i,a.node)?"rollUp":"drillDown"}t.resetViewRoot(a.node)}}}));e.registerAction({type:GL,update:"none"},(function(e,t,r){e=d({},e);t.eachComponent({mainType:"series",subType:"sunburst",query:e},a);function a(t){var r=iw(e,[GL],t);if(r){e.dataIndex=r.node.dataIndex}}r.dispatchAction(d(e,{type:"highlight"}))}));e.registerAction({type:FL,update:"updateView"},(function(e,t,r){e=d({},e);r.dispatchAction(d(e,{type:"downplay"}))}))}var WL=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.render=function(e,t,r,i){var n=this;this.seriesModel=e;this.api=r;this.ecModel=t;var o=e.getData();var s=o.tree.root;var l=e.getViewRoot();var u=this.group;var c=e.get("renderLabelForZeroData");var v=[];l.eachNode((function(e){v.push(e)}));var f=this._oldChildren||[];h(v,f);g(s,l);this._initEvents();this._oldChildren=v;function h(e,t){if(e.length===0&&t.length===0){return}new Bh(t,e,r,r).add(i).update(i).remove(a.curry(i,null)).execute();function r(e){return e.getId()}function i(r,a){var i=r==null?null:e[r];var n=a==null?null:t[a];d(i,n)}}function d(a,i){if(!c&&a&&!a.getValue()){a=null}if(a!==s&&i!==s){if(i&&i.piece){if(a){i.piece.updateData(false,a,e,t,r);o.setItemGraphicEl(a.dataIndex,i.piece)}else{p(i)}}else if(a){var n=new VL(a,e,t,r);u.add(n);o.setItemGraphicEl(a.dataIndex,n)}}}function p(e){if(!e){return}if(e.piece){u.remove(e.piece);e.piece=null}}function g(a,i){if(i.depth>0){if(n.virtualPiece){n.virtualPiece.updateData(false,a,e,t,r)}else{n.virtualPiece=new VL(a,e,t,r);u.add(n.virtualPiece)}i.piece.off("click");n.virtualPiece.on("click",(function(e){n._rootToNode(i.parentNode)}))}else if(n.virtualPiece){u.remove(n.virtualPiece);n.virtualPiece=null}}};r.prototype._initEvents=function(){var e=this;this.group.off("click");this.group.on("click",(function(t){var r=false;var a=e.seriesModel.getViewRoot();a.eachNode((function(a){if(!r&&a.piece&&a.piece===t.target){var i=a.getModel().get("nodeClick");if(i==="rootToNode"){e._rootToNode(a)}else if(i==="link"){var n=a.getModel();var o=n.get("link");if(o){var s=n.get("target",true)||"_blank";Oo(o,s)}}r=true}}))}))};r.prototype._rootToNode=function(e){if(e!==this.seriesModel.getViewRoot()){this.api.dispatchAction({type:BL,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})}};r.prototype.containPoint=function(e,t){var r=t.getData();var a=r.getItemLayout(0);if(a){var i=e[0]-a.cx;var n=e[1]-a.cy;var o=Math.sqrt(i*i+n*n);return o<=a.r&&o>=a.r0}};r.type="sunburst";return r}(_c);var UL=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.ignoreStyleOnData=true;return e}r.prototype.getInitialData=function(e,t){var r={name:e.name,children:e.data};YL(r);var i=this._levelModels=a.map(e.levels||[],(function(e){return new Mn(e,this,t)}),this);var n=rw.createTree(r,this,o);function o(e){e.wrapMethod("getItemModel",(function(e,t){var r=n.getNodeByDataIndex(t);var a=i[r.depth];a&&(e.parentModel=a);return e}))}return n.data};r.prototype.optionUpdated=function(){this.resetViewRoot()};r.prototype.getDataParams=function(e){var r=t.prototype.getDataParams.apply(this,arguments);var a=this.getData().tree.getNodeByDataIndex(e);r.treePathInfo=sw(a,this);return r};r.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]};r.prototype.getViewRoot=function(){return this._viewRoot};r.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;if(!e||e!==t&&!t.contains(e)){this._viewRoot=t}};r.prototype.enableAriaDecal=function(){mw(this)};r.type="series.sunburst";r.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:true,startAngle:90,minAngle:0,stillShowZeroSum:true,nodeClick:"rootToNode",renderLabelForZeroData:false,label:{rotate:"radial",show:true,opacity:1,align:"center",position:"inside",distance:5,silent:true},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"};return r}(sc);function YL(e){var t=0;a.each(e.children,(function(e){YL(e);var r=e.value;a.isArray(r)&&(r=r[0]);t+=r}));var r=e.value;if(a.isArray(r)){r=r[0]}if(r==null||isNaN(r)){r=t}if(r<0){r=0}a.isArray(e.value)?e.value[0]=r:e.value=r}var XL=Math.PI/180;function ZL(e,t,r){t.eachSeriesByType(e,(function(e){var t=e.get("center");var i=e.get("radius");if(!a.isArray(i)){i=[0,i]}if(!a.isArray(t)){t=[t,t]}var n=r.getWidth();var o=r.getHeight();var s=Math.min(n,o);var l=pt(t[0],n);var u=pt(t[1],o);var c=pt(i[0],s/2);var v=pt(i[1],s/2);var f=-e.get("startAngle")*XL;var h=e.get("minAngle")*XL;var d=e.getData().tree.root;var p=e.getViewRoot();var g=p.depth;var y=e.get("sort");if(y!=null){jL(p,y)}var m=0;a.each(p.children,(function(e){!isNaN(e.getValue())&&m++}));var x=p.getValue();var _=Math.PI/(x||m)*2;var b=p.depth>0;var S=p.height-(b?-1:1);var w=(v-c)/(S||1);var M=e.get("clockwise");var I=e.get("stillShowZeroSum");var D=M?1:-1;var T=function(t,r){if(!t){return}var i=r;if(t!==d){var n=t.getValue();var o=x===0&&I?_:n*_;if(o<h){o=h}i=r+D*o;var v=t.depth-g-(b?-1:1);var f=c+w*v;var p=c+w*(v+1);var y=e.getLevelModel(t);if(y){var m=y.get("r0",true);var S=y.get("r",true);var C=y.get("radius",true);if(C!=null){m=C[0];S=C[1]}m!=null&&(f=pt(m,s/2));S!=null&&(p=pt(S,s/2))}t.setLayout({angle:o,startAngle:r,endAngle:i,clockwise:M,cx:l,cy:u,r0:f,r:p})}if(t.children&&t.children.length){var A=0;a.each(t.children,(function(e){A+=T(e,r+A)}))}return i-r};if(b){var C=c;var A=c+w;var L=Math.PI*2;d.setLayout({angle:L,startAngle:f,endAngle:f+L,clockwise:M,cx:l,cy:u,r0:C,r:A})}T(p,f)}))}function jL(e,t){var r=e.children||[];e.children=qL(r,t);if(r.length){a.each(e.children,(function(e){jL(e,t)}))}}function qL(e,t){if(a.isFunction(t)){var r=a.map(e,(function(e,t){var r=e.getValue();return{params:{depth:e.depth,height:e.height,dataIndex:e.dataIndex,getValue:function(){return r}},index:t}}));r.sort((function(e,r){return t(e.params,r.params)}));return a.map(r,(function(t){return e[t.index]}))}else{var i=t==="asc";return e.sort((function(e,t){var r=(e.getValue()-t.getValue())*(i?1:-1);return r===0?(e.dataIndex-t.dataIndex)*(i?-1:1):r}))}}function KL(e){var t={};function r(e,r,a){var i=e;while(i&&i.depth>1){i=i.parentNode}var n=r.getColorFromPalette(i.name||i.dataIndex+"",t);if(e.depth>1&&u(n)){n=K(n,(e.depth-1)/(a-1)*.5)}return n}e.eachSeriesByType("sunburst",(function(e){var t=e.getData();var a=t.tree;a.eachNode((function(i){var n=i.getModel();var o=n.getModel("itemStyle").getItemStyle();if(!o.fill){o.fill=r(i,e,a.root.height)}var s=t.ensureUniqueItemVisual(i.dataIndex,"style");d(s,o)}))}))}function JL(e){e.registerChartView(WL);e.registerSeriesModel(UL);e.registerLayout(N(ZL,"sunburst"));e.registerProcessor(N(dx,"sunburst"));e.registerVisual(KL);HL(e)}var $L={color:"fill",borderColor:"stroke"};var QL={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1};var ek=gr();var tk=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",true);this.currentZ=this.get("z",true)};r.prototype.getInitialData=function(e,t){return Ad(null,this)};r.prototype.getDataParams=function(e,r,a){var i=t.prototype.getDataParams.call(this,e,r);a&&(i.info=ek(a).info);return i};r.type="series.custom";r.dependencies=["grid","polar","geo","singleAxis","calendar"];r.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:true,clip:false};return r}(sc);function rk(e,t){t=t||[0,0];return a.map(["x","y"],(function(r,a){var i=this.getAxis(r);var n=t[a];var o=e[a]/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(n-o)-i.dataToCoord(n+o))}),this)}function ak(e){var t=e.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:a.bind(rk,e)}}}function ik(e,t){t=t||[0,0];return a.map([0,1],(function(r){var a=t[r];var i=e[r]/2;var n=[];var o=[];n[r]=a-i;o[r]=a+i;n[1-r]=o[1-r]=t[1-r];return Math.abs(this.dataToPoint(n)[r]-this.dataToPoint(o)[r])}),this)}function nk(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(t){return e.dataToPoint(t)},size:a.bind(ik,e)}}}function ok(e,t){var r=this.getAxis();var a=t instanceof Array?t[0]:t;var i=(e instanceof Array?e[0]:e)/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(a-i)-r.dataToCoord(a+i))}function sk(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:C(ok,e)}}}function lk(e,t){t=t||[0,0];return a.map(["Radius","Angle"],(function(r,a){var i="get"+r+"Axis";var n=this[i]();var o=t[a];var s=e[a]/2;var l=n.type==="category"?n.getBandWidth():Math.abs(n.dataToCoord(o-s)-n.dataToCoord(o+s));if(r==="Angle"){l=l*Math.PI/180}return l}),this)}function uk(e){var t=e.getRadiusAxis();var r=e.getAngleAxis();var i=t.getExtent();i[0]>i[1]&&i.reverse();return{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:i[1],r0:i[0]},api:{coord:function(a){var i=t.dataToRadius(a[0]);var n=r.dataToAngle(a[1]);var o=e.coordToPoint([i,n]);o.push(i,n*Math.PI/180);return o},size:a.bind(lk,e)}}}function ck(e){var t=e.getRect();var r=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:r.start,end:r.end,weeks:r.weeks,dayCount:r.allDay}},api:{coord:function(t,r){return e.dataToPoint(t,r)}}}}function vk(e,t,r,a){return e&&(e.legacy||e.legacy!==false&&!r&&!a&&t!=="tspan"&&(t==="text"||_(e,"text")))}function fk(e,t,r){var a=e;var i;var n;var o;if(t==="text"){o=a}else{o={};_(a,"text")&&(o.text=a.text);_(a,"rich")&&(o.rich=a.rich);_(a,"textFill")&&(o.fill=a.textFill);_(a,"textStroke")&&(o.stroke=a.textStroke);_(a,"fontFamily")&&(o.fontFamily=a.fontFamily);_(a,"fontSize")&&(o.fontSize=a.fontSize);_(a,"fontStyle")&&(o.fontStyle=a.fontStyle);_(a,"fontWeight")&&(o.fontWeight=a.fontWeight);n={type:"text",style:o,silent:true};i={};var l=_(a,"textPosition");if(r){i.position=l?a.textPosition:"inside"}else{l&&(i.position=a.textPosition)}_(a,"textPosition")&&(i.position=a.textPosition);_(a,"textOffset")&&(i.offset=a.textOffset);_(a,"textRotation")&&(i.rotation=a.textRotation);_(a,"textDistance")&&(i.distance=a.textDistance)}hk(o,e);s(o.rich,(function(e){hk(e,e)}));return{textConfig:i,textContent:n}}function hk(e,t){if(!t){return}t.font=t.textFont||t.font;_(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth);_(t,"textAlign")&&(e.align=t.textAlign);_(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign);_(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight);_(t,"textWidth")&&(e.width=t.textWidth);_(t,"textHeight")&&(e.height=t.textHeight);_(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor);_(t,"textPadding")&&(e.padding=t.textPadding);_(t,"textBorderColor")&&(e.borderColor=t.textBorderColor);_(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth);_(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius);_(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor);_(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur);_(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX);_(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY)}function dk(e,t,r){var a=e;a.textPosition=a.textPosition||r.position||"inside";r.offset!=null&&(a.textOffset=r.offset);r.rotation!=null&&(a.textRotation=r.rotation);r.distance!=null&&(a.textDistance=r.distance);var i=a.textPosition.indexOf("inside")>=0;var n=e.fill||"#000";pk(a,t);var o=a.textFill==null;if(i){if(o){a.textFill=r.insideFill||"#fff";!a.textStroke&&r.insideStroke&&(a.textStroke=r.insideStroke);!a.textStroke&&(a.textStroke=n);a.textStrokeWidth==null&&(a.textStrokeWidth=2)}}else{if(o){a.textFill=e.fill||r.outsideFill||"#000"}!a.textStroke&&r.outsideStroke&&(a.textStroke=r.outsideStroke)}a.text=t.text;a.rich=t.rich;s(t.rich,(function(e){pk(e,e)}));return a}function pk(e,t){if(!t){return}_(t,"fill")&&(e.textFill=t.fill);_(t,"stroke")&&(e.textStroke=t.fill);_(t,"lineWidth")&&(e.textStrokeWidth=t.lineWidth);_(t,"font")&&(e.font=t.font);_(t,"fontStyle")&&(e.fontStyle=t.fontStyle);_(t,"fontWeight")&&(e.fontWeight=t.fontWeight);_(t,"fontSize")&&(e.fontSize=t.fontSize);_(t,"fontFamily")&&(e.fontFamily=t.fontFamily);_(t,"align")&&(e.textAlign=t.align);_(t,"verticalAlign")&&(e.textVerticalAlign=t.verticalAlign);_(t,"lineHeight")&&(e.textLineHeight=t.lineHeight);_(t,"width")&&(e.textWidth=t.width);_(t,"height")&&(e.textHeight=t.height);_(t,"backgroundColor")&&(e.textBackgroundColor=t.backgroundColor);_(t,"padding")&&(e.textPadding=t.padding);_(t,"borderColor")&&(e.textBorderColor=t.borderColor);_(t,"borderWidth")&&(e.textBorderWidth=t.borderWidth);_(t,"borderRadius")&&(e.textBorderRadius=t.borderRadius);_(t,"shadowColor")&&(e.textBoxShadowColor=t.shadowColor);_(t,"shadowBlur")&&(e.textBoxShadowBlur=t.shadowBlur);_(t,"shadowOffsetX")&&(e.textBoxShadowOffsetX=t.shadowOffsetX);_(t,"shadowOffsetY")&&(e.textBoxShadowOffsetY=t.shadowOffsetY);_(t,"textShadowColor")&&(e.textShadowColor=t.textShadowColor);_(t,"textShadowBlur")&&(e.textShadowBlur=t.textShadowBlur);_(t,"textShadowOffsetX")&&(e.textShadowOffsetX=t.textShadowOffsetX);_(t,"textShadowOffsetY")&&(e.textShadowOffsetY=t.textShadowOffsetY)}var gk={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]};var yk=g(gk);A(se,(function(e,t){e[t]=1;return e}),{});se.join(", ");var mk=["","style","shape","extra"];var xk=gr();function _k(e,t,r,a,i){var n=e+"Animation";var o=si(e,a,i)||{};var s=xk(t).userDuring;if(o.duration>0){o.during=s?C(Lk,{el:t,userDuring:s}):null;o.setToFinal=true;o.scope=e}d(o,r[n]);return o}function bk(e,t,r,a){a=a||{};var i=a.dataIndex,n=a.isInit,o=a.clearStyle;var l=r.isAnimationEnabled();var u=xk(e);var c=t.style;u.userDuring=t.during;var v={};var f={};Ok(e,t,f);Pk("shape",t,f);Pk("extra",t,f);if(!n&&l){Nk(e,t,v);kk("shape",e,t,v);kk("extra",e,t,v);Rk(e,t,c,v)}f.style=c;Ik(e,f,o);Tk(e,t);if(l){if(n){var h={};s(mk,(function(e){var r=e?t[e]:t;if(r&&r.enterFrom){if(e){h[e]=h[e]||{}}d(e?h[e]:h,r.enterFrom)}}));var p=_k("enter",e,t,r,i);if(p.duration>0){e.animateFrom(h,p)}}else{Dk(e,t,i||0,r,v)}}Sk(e,t);c?e.dirty():e.markRedraw()}function Sk(e,t){var r=xk(e).leaveToProps;for(var a=0;a<mk.length;a++){var i=mk[a];var n=i?t[i]:t;if(n&&n.leaveTo){if(!r){r=xk(e).leaveToProps={}}if(i){r[i]=r[i]||{}}d(i?r[i]:r,n.leaveTo)}}}function wk(e,t,r,a){if(e){var i=e.parent;var n=xk(e).leaveToProps;if(n){var o=_k("update",e,t,r,0);o.done=function(){i.remove(e);a&&a()};e.animateTo(n,o)}else{i.remove(e);a&&a()}}}function Mk(e){return e==="all"}function Ik(e,t,r){var a=t.style;if(!e.isGroup&&a){if(r){e.useStyle({});var i=e.animators;for(var n=0;n<i.length;n++){var o=i[n];if(o.targetName==="style"){o.changeTarget(e.style)}}}e.setStyle(a)}if(t){t.style=null;t&&e.attr(t);t.style=a}}function Dk(e,t,r,a,i){if(i){var n=_k("update",e,t,a,r);if(n.duration>0){e.animateFrom(i,n)}}}function Tk(e,t){_(t,"silent")&&(e.silent=t.silent);_(t,"ignore")&&(e.ignore=t.ignore);if(e instanceof rt){_(t,"invisible")&&(e.invisible=t.invisible)}if(e instanceof Q){_(t,"autoBatch")&&(e.autoBatch=t.autoBatch)}}var Ck={};var Ak={setTransform:function(e,t){Ck.el[e]=t;return this},getTransform:function(e){return Ck.el[e]},setShape:function(e,t){var r=Ck.el;var a=r.shape||(r.shape={});a[e]=t;r.dirtyShape&&r.dirtyShape();return this},getShape:function(e){var t=Ck.el.shape;if(t){return t[e]}},setStyle:function(e,t){var r=Ck.el;var a=r.style;if(a){a[e]=t;r.dirtyStyle&&r.dirtyStyle()}return this},getStyle:function(e){var t=Ck.el.style;if(t){return t[e]}},setExtra:function(e,t){var r=Ck.el.extra||(Ck.el.extra={});r[e]=t;return this},getExtra:function(e){var t=Ck.el.extra;if(t){return t[e]}}};function Lk(){var e=this;var t=e.el;if(!t){return}var r=xk(t).userDuring;var a=e.userDuring;if(r!==a){e.el=e.userDuring=null;return}Ck.el=t;a(Ak)}function kk(e,t,r,a){var i=r[e];if(!i){return}var n=t[e];var o;if(n){var s=r.transition;var l=i.transition;if(l){!o&&(o=a[e]={});if(Mk(l)){d(o,n)}else{var u=jt(l);for(var c=0;c<u.length;c++){var v=u[c];var f=n[v];o[v]=f}}}else if(Mk(s)||h(s,e)>=0){!o&&(o=a[e]={});var p=g(n);for(var c=0;c<p.length;c++){var v=p[c];var f=n[v];if(Ek(i[v],f)){o[v]=f}}}}}function Pk(e,t,r){var a=t[e];if(!a){return}var i=r[e]={};var n=g(a);for(var o=0;o<n.length;o++){var s=n[o];i[s]=ot(a[s])}}function Nk(e,t,r){var a=t.transition;var i=Mk(a)?se:jt(a||[]);for(var n=0;n<i.length;n++){var o=i[n];if(o==="style"||o==="shape"||o==="extra"){continue}var s=e[o];r[o]=s}}function Ok(e,t,r){for(var a=0;a<yk.length;a++){var i=yk[a];var n=gk[i];var o=t[i];if(o){r[n[0]]=o[0];r[n[1]]=o[1]}}for(var a=0;a<se.length;a++){var s=se[a];if(t[s]!=null){r[s]=t[s]}}}function Rk(e,t,r,a){if(!r){return}var i=e.style;var n;if(i){var o=r.transition;var s=t.transition;if(o&&!Mk(o)){var l=jt(o);!n&&(n=a.style={});for(var u=0;u<l.length;u++){var c=l[u];var v=i[c];n[c]=v}}else if(e.getAnimationStyleProps&&(Mk(s)||Mk(o)||h(s,"style")>=0)){var f=e.getAnimationStyleProps();var d=f?f.style:null;if(d){!n&&(n=a.style={});var p=g(r);for(var u=0;u<p.length;u++){var c=p[u];if(d[c]){var v=i[c];n[c]=v}}}}}}function Ek(e,t){return!p(e)?e!=null&&isFinite(e):e!==t}var zk=gr();var Vk=["percent","easing","shape","style","extra"];function Bk(e){e.stopAnimation("keyframe");e.attr(zk(e))}function Gk(e,t,r){if(!r.isAnimationEnabled()||!t){return}if(n(t)){s(t,(function(t){Gk(e,t,r)}));return}var a=t.keyframes;var i=t.duration;if(r&&i==null){var o=si("enter",r,0);i=o&&o.duration}if(!a||!i){return}var l=zk(e);s(mk,(function(r){if(r&&!e[r]){return}var n;a.sort((function(e,t){return e.percent-t.percent}));s(a,(function(a){var o=e.animators;var u=r?a[r]:a;if(!u){return}var c=g(u);if(!r){c=D(c,(function(e){return h(Vk,e)<0}))}if(!c.length){return}if(!n){n=e.animate(r,t.loop,true);n.scope="keyframe"}for(var v=0;v<o.length;v++){if(o[v]!==n&&o[v].targetName===n.targetName){o[v].stopTracks(c)}}r&&(l[r]=l[r]||{});var f=r?l[r]:l;s(c,(function(t){f[t]=((r?e[r]:e)||{})[t]}));n.whenWithKeys(i*a.percent,u,c,a.easing)}));if(!n){return}n.delay(t.delay||0).duration(i).start(t.easing)}))}var Fk="emphasis";var Hk="normal";var Wk="blur";var Uk="select";var Yk=[Hk,Fk,Wk,Uk];var Xk={normal:["itemStyle"],emphasis:[Fk,"itemStyle"],blur:[Wk,"itemStyle"],select:[Uk,"itemStyle"]};var Zk={normal:["label"],emphasis:[Fk,"label"],blur:[Wk,"label"],select:[Uk,"label"]};var jk=["x","y"];var qk="e\0\0";var Kk={normal:{},emphasis:{},blur:{},select:{}};var Jk={cartesian2d:ak,geo:nk,single:sk,polar:uk,calendar:ck};function $k(e){return e instanceof Q}function Qk(e){return e instanceof rt}function eP(e,t){t.copyTransform(e);if(Qk(t)&&Qk(e)){t.setStyle(e.style);t.z=e.z;t.z2=e.z2;t.zlevel=e.zlevel;t.invisible=e.invisible;t.ignore=e.ignore;if($k(t)&&$k(e)){t.setShape(e.shape)}}}var tP=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.render=function(e,t,r,a){this._progressiveEls=null;var i=this._data;var n=e.getData();var o=this.group;var s=sP(e,n,t,r);if(!i){o.removeAll()}n.diff(i).add((function(t){uP(r,null,t,s(t,a),e,o,n)})).remove((function(t){var r=i.getItemGraphicEl(t);r&&wk(r,ek(r).option,e)})).update((function(t,l){var u=i.getItemGraphicEl(l);uP(r,u,t,s(t,a),e,o,n)})).execute();var l=e.get("clip",true)?am(e.coordinateSystem,false,e):null;if(l){o.setClipPath(l)}else{o.removeClipPath()}this._data=n};r.prototype.incrementalPrepareRender=function(e,t,r){this.group.removeAll();this._data=null};r.prototype.incrementalRender=function(e,t,r,a,i){var n=t.getData();var o=sP(t,n,r,a);var s=this._progressiveEls=[];function l(e){if(!e.isGroup){e.incremental=true;e.ensureState("emphasis").hoverLayer=true}}for(var u=e.start;u<e.end;u++){var c=uP(null,null,u,o(u,i),t,this.group,n);if(c){c.traverse(l);s.push(c)}}};r.prototype.eachRendered=function(e){ji(this._progressiveEls||this.group,e)};r.prototype.filterForExposedEvent=function(e,t,r,a){var i=t.element;if(i==null||r.name===i){return true}while((r=r.__hostTarget||r.parent)&&r!==this.group){if(r.name===i){return true}}return false};r.type="custom";return r}(_c);function rP(e){var t=e.type;var r;if(t==="path"){var a=e.shape;var i=a.width!=null&&a.height!=null?{x:a.x||0,y:a.y||0,width:a.width,height:a.height}:null;var n=wP(a);r=Ii(n,null,i,a.layout||"center");ek(r).customPathData=n}else if(t==="image"){r=new le({});ek(r).customImagePath=e.style.image}else if(t==="text"){r=new U({})}else if(t==="group"){r=new ue}else if(t==="compoundPath"){throw new Error('"compoundPath" is not supported yet.')}else{var o=Mi(t);if(!o){var s="";Ut(s)}r=new o}ek(r).customGraphicType=t;r.name=e.name;r.z2EmphasisLift=1;r.z2SelectLift=1;return r}function aP(e,t,r,a,i,n,o){Bk(t);var s=i&&i.normal.cfg;if(s){t.setTextConfig(s)}if(a&&a.transition==null){a.transition=jk}var l=a&&a.style;if(l){if(t.type==="text"){var u=l;_(u,"textFill")&&(u.fill=u.textFill);_(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0;var v=$k(t)?l.decal:null;if(e&&v){v.dirty=true;c=Vv(v,e)}l.__decalPattern=c}if(Qk(t)){if(l){var c=l.__decalPattern;if(c){l.decal=c}}}bk(t,a,n,{dataIndex:r,isInit:o,clearStyle:true});Gk(t,a.keyframeAnimation,n)}function iP(e,t,r,a,i){var n=t.isGroup?null:t;var o=i&&i[e].cfg;if(n){var s=n.ensureState(e);if(a===false){var l=n.getState(e);if(l){l.style=null}}else{s.style=a||null}if(o){s.textConfig=o}Da(n)}}function nP(e,t,r){if(e.isGroup){return}var a=e;var i=r.currentZ;var n=r.currentZLevel;a.z=i;a.zlevel=n;var o=t.z2;o!=null&&(a.z2=o||0);for(var s=0;s<Yk.length;s++){oP(a,t,Yk[s])}}function oP(e,t,r){var a=r===Hk;var i=a?t:pP(t,r);var n=i?i.z2:null;var o;if(n!=null){o=a?e:e.ensureState(r);o.z2=n||0}}function sP(e,t,r,a){var i=e.get("renderItem");var n=e.coordinateSystem;var o={};if(n){o=n.prepareCustoms?n.prepareCustoms(n):Jk[n.type](n)}var s=x({getWidth:a.getWidth,getHeight:a.getHeight,getZr:a.getZr,getDevicePixelRatio:a.getDevicePixelRatio,value:M,style:D,ordinalRawValue:I,styleEmphasis:T,visual:L,barLayout:k,currentSeriesIndices:P,font:N},o.api||{});var l={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:o.coordSys,dataInsideLength:t.count(),encode:lP(e.getData())};var c;var v;var f={};var h={};var d={};var p={};for(var g=0;g<Yk.length;g++){var m=Yk[g];d[m]=e.getModel(Xk[m]);p[m]=e.getModel(Zk[m])}function b(e){return e===c?v||(v=t.getItemModel(e)):t.getItemModel(e)}function S(e,r){return!t.hasItemOption?d[r]:e===c?f[r]||(f[r]=b(e).getModel(Xk[r])):b(e).getModel(Xk[r])}function w(e,r){return!t.hasItemOption?p[r]:e===c?h[r]||(h[r]=b(e).getModel(Zk[r])):b(e).getModel(Zk[r])}return function(e,r){c=e;v=null;f={};h={};return i&&i(x({dataIndexInside:e,dataIndex:t.getRawIndex(e),actionType:r?r.type:null},l),s)};function M(e,r){r==null&&(r=c);return t.getStore().get(t.getDimensionIndex(e||0),r)}function I(e,r){r==null&&(r=c);e=e||0;var a=t.getDimensionInfo(e);if(!a){var i=t.getDimensionIndex(e);return i>=0?t.getStore().get(i,r):undefined}var n=t.get(a.name,r);var o=a&&a.ordinalMeta;return o?o.categories[n]:n}function D(r,a){a==null&&(a=c);var i=t.getItemVisual(a,"style");var n=i&&i.fill;var o=i&&i.opacity;var s=S(a,Hk).getItemStyle();n!=null&&(s.fill=n);o!=null&&(s.opacity=o);var l={inheritColor:u(n)?n:"#000"};var v=w(a,Hk);var f=tn(v,null,l,false,true);f.text=v.getShallow("show")?y(e.getFormattedLabel(a,Hk),Oy(t,a)):null;var h=rn(v,l,false);A(r,s);s=dk(s,f,h);r&&C(s,r);s.legacy=true;return s}function T(r,a){a==null&&(a=c);var i=S(a,Fk).getItemStyle();var n=w(a,Fk);var o=tn(n,null,null,true,true);o.text=n.getShallow("show")?O(e.getFormattedLabel(a,Fk),e.getFormattedLabel(a,Hk),Oy(t,a)):null;var s=rn(n,null,true);A(r,i);i=dk(i,o,s);r&&C(i,r);i.legacy=true;return i}function C(e,t){for(var r in t){if(_(t,r)){e[r]=t[r]}}}function A(e,t){if(e){e.textFill&&(t.textFill=e.textFill);e.textPosition&&(t.textPosition=e.textPosition)}}function L(e,r){r==null&&(r=c);if(_($L,e)){var a=t.getItemVisual(r,"style");return a?a[$L[e]]:null}if(_(QL,e)){return t.getItemVisual(r,e)}}function k(e){if(n.type==="cartesian2d"){var t=n.getBaseAxis();return ep(x({axis:t},e))}}function P(){return r.getCurrentSeriesIndices()}function N(e){return cn(e,r)}}function lP(e){var t={};s(e.dimensions,(function(r){var a=e.getDimensionInfo(r);if(!a.isExtraCoord){var i=a.coordDim;var n=t[i]=t[i]||[];n[a.coordDimIndex]=e.getDimensionIndex(r)}}));return t}function uP(e,t,r,a,i,n,o){if(!a){n.remove(t);return}var s=cP(e,t,r,a,i,n);s&&o.setItemGraphicEl(r,s);s&&ja(s,a.focus,a.blurScope,a.emphasisDisabled);return s}function cP(e,t,r,a,i,n){var o=-1;var s=t;if(t&&vP(t,a,i)){o=h(n.childrenRef(),t);t=null}var l=!t;var u=t;if(!u){u=rP(a);if(s){eP(s,u)}}else{u.clearStates()}if(a.morph===false){u.disableMorphing=true}else if(u.disableMorphing){u.disableMorphing=false}Kk.normal.cfg=Kk.normal.conOpt=Kk.emphasis.cfg=Kk.emphasis.conOpt=Kk.blur.cfg=Kk.blur.conOpt=Kk.select.cfg=Kk.select.conOpt=null;Kk.isLegacy=false;hP(u,r,a,i,l,Kk);fP(u,r,a,i,l);aP(e,u,r,a,Kk,i,l);_(a,"info")&&(ek(u).info=a.info);for(var c=0;c<Yk.length;c++){var v=Yk[c];if(v!==Hk){var f=pP(a,v);var d=gP(a,f,v);iP(v,u,f,d,Kk)}}nP(u,a,i);if(a.type==="group"){yP(e,u,r,a,i)}if(o>=0){n.replaceAt(u,o)}else{n.add(u)}return u}function vP(e,t,r){var a=ek(e);var i=t.type;var n=t.shape;var o=t.style;return r.isUniversalTransitionEnabled()||i!=null&&i!==a.customGraphicType||i==="path"&&MP(n)&&wP(n)!==a.customPathData||i==="image"&&_(o,"image")&&o.image!==a.customImagePath}function fP(e,t,r,a,i){var n=r.clipPath;if(n===false){if(e&&e.getClipPath()){e.removeClipPath()}}else if(n){var o=e.getClipPath();if(o&&vP(o,n,a)){o=null}if(!o){o=rP(n);e.setClipPath(o)}aP(null,o,t,n,null,a,i)}}function hP(e,t,r,a,i,n){if(e.isGroup){return}dP(r,null,n);dP(r,Fk,n);var o=n.normal.conOpt;var s=n.emphasis.conOpt;var l=n.blur.conOpt;var u=n.select.conOpt;if(o!=null||s!=null||u!=null||l!=null){var c=e.getTextContent();if(o===false){c&&e.removeTextContent()}else{o=n.normal.conOpt=o||{type:"text"};if(!c){c=rP(o);e.setTextContent(c)}else{c.clearStates()}aP(null,c,t,o,null,a,i);var v=o&&o.style;for(var f=0;f<Yk.length;f++){var h=Yk[f];if(h!==Hk){var d=n[h].conOpt;iP(h,c,d,gP(o,d,h),null)}}v?c.dirty():c.markRedraw()}}}function dP(e,t,r){var a=!t?e:pP(e,t);var i=!t?e.style:gP(e,a,Fk);var n=e.type;var o=a?a.textConfig:null;var s=e.textContent;var l=!s?null:!t?s:pP(s,t);if(i&&(r.isLegacy||vk(i,n,!!o,!!l))){r.isLegacy=true;var u=fk(i,n,!t);if(!o&&u.textConfig){o=u.textConfig}if(!l&&u.textContent){l=u.textContent}}if(!t&&l){var c=l;!c.type&&(c.type="text")}var v=!t?r.normal:r[t];v.cfg=o;v.conOpt=l}function pP(e,t){return!t?e:e?e[t]:null}function gP(e,t,r){var a=t&&t.style;if(a==null&&r===Fk&&e){a=e.styleEmphasis}return a}function yP(e,t,r,a,i){var n=a.children;var o=n?n.length:0;var s=a.$mergeChildren;var l=s==="byName"||a.diffChildrenByName;var u=s===false;if(!o&&!l&&!u){return}if(l){xP({api:e,oldChildren:t.children()||[],newChildren:n||[],dataIndex:r,seriesModel:i,group:t});return}u&&t.removeAll();var c=0;for(;c<o;c++){var v=n[c];var f=t.childAt(c);if(v){if(v.ignore==null){v.ignore=false}cP(e,f,r,v,i,t)}else{f.ignore=true}}for(var h=t.childCount()-1;h>=c;h--){var d=t.childAt(h);mP(t,d,i)}}function mP(e,t,r){t&&wk(t,ek(e).option,r)}function xP(e){new Bh(e.oldChildren,e.newChildren,_P,_P,e).add(bP).update(bP).remove(SP).execute()}function _P(e,t){var r=e&&e.name;return r!=null?r:qk+t}function bP(e,t){var r=this.context;var a=e!=null?r.newChildren[e]:null;var i=t!=null?r.oldChildren[t]:null;cP(r.api,i,r.dataIndex,a,r.seriesModel,r.group)}function SP(e){var t=this.context;var r=t.oldChildren[e];r&&wk(r,ek(r).option,t.seriesModel)}function wP(e){return e&&(e.pathData||e.d)}function MP(e){return e&&(_(e,"pathData")||_(e,"d"))}function IP(e){e.registerChartView(tP);e.registerSeriesModel(tk)}var DP=gr();var TP=a.clone;var CP=a.bind;var AP=function(){function e(){this._dragging=false;this.animationThreshold=15}e.prototype.render=function(e,t,r,i){var n=t.get("value");var o=t.get("status");this._axisModel=e;this._axisPointerModel=t;this._api=r;if(!i&&this._lastValue===n&&this._lastStatus===o){return}this._lastValue=n;this._lastStatus=o;var s=this._group;var l=this._handle;if(!o||o==="hide"){s&&s.hide();l&&l.hide();return}s&&s.show();l&&l.show();var u={};this.makeElOption(u,n,e,t,r);var c=u.graphicKey;if(c!==this._lastGraphicKey){this.clear(r)}this._lastGraphicKey=c;var v=this._moveAnimation=this.determineAnimation(e,t);if(!s){s=this._group=new ue;this.createPointerEl(s,u,e,t);this.createLabelEl(s,u,e,t);r.getZr().add(s)}else{var f=a.curry(LP,t,v);this.updatePointerEl(s,u,f);this.updateLabelEl(s,u,f,t)}OP(s,t,true);this._renderHandle(n)};e.prototype.remove=function(e){this.clear(e)};e.prototype.dispose=function(e){this.clear(e)};e.prototype.determineAnimation=function(e,t){var r=t.get("animation");var a=e.axis;var i=a.type==="category";var n=t.get("snap");if(!n&&!i){return false}if(r==="auto"||r==null){var o=this.animationThreshold;if(i&&a.getBandWidth()>o){return true}if(n){var s=D_(e).seriesDataCount;var l=a.getExtent();return Math.abs(l[0]-l[1])/s>o}return false}return r===true};e.prototype.makeElOption=function(e,t,r,a,i){};e.prototype.createPointerEl=function(e,t,r,a){var i=t.pointer;if(i){var n=DP(e).pointerEl=new qi[i.type](TP(t.pointer));e.add(n)}};e.prototype.createLabelEl=function(e,t,r,a){if(t.label){var i=DP(e).labelEl=new U(TP(t.label));e.add(i);PP(i,a)}};e.prototype.updatePointerEl=function(e,t,r){var a=DP(e).pointerEl;if(a&&t.pointer){a.setStyle(t.pointer.style);r(a,{shape:t.pointer.shape})}};e.prototype.updateLabelEl=function(e,t,r,a){var i=DP(e).labelEl;if(i){i.setStyle(t.label.style);r(i,{x:t.label.x,y:t.label.y});PP(i,a)}};e.prototype._renderHandle=function(e){if(this._dragging||!this.updateHandleTransform){return}var t=this._axisPointerModel;var r=this._api.getZr();var i=this._handle;var n=t.getModel("handle");var o=t.get("status");if(!n.get("show")||!o||o==="hide"){i&&r.remove(i);this._handle=null;return}var s;if(!this._handle){s=true;i=this._handle=Fi(n.get("icon"),{cursor:"move",draggable:true,onmousemove:function(e){Ke.stop(e.event)},onmousedown:CP(this._onHandleDragMove,this,0,0),drift:CP(this._onHandleDragMove,this),ondragend:CP(this._onHandleDragEnd,this)});r.add(i)}OP(i,t,false);i.setStyle(n.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=n.get("size");if(!a.isArray(l)){l=[l,l]}i.scaleX=l[0]/2;i.scaleY=l[1]/2;Lc(this,"_doDispatchAxisPointer",n.get("throttle")||0,"fixRate");this._moveHandleToValue(e,s)};e.prototype._moveHandleToValue=function(e,t){LP(this._axisPointerModel,!t&&this._moveAnimation,this._handle,NP(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))};e.prototype._onHandleDragMove=function(e,t){var r=this._handle;if(!r){return}this._dragging=true;var a=this.updateHandleTransform(NP(r),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=a;r.stopAnimation();r.attr(NP(a));DP(r).lastProp=null;this._doDispatchAxisPointer()};e.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(!e){return}var t=this._payloadInfo;var r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})};e.prototype._onHandleDragEnd=function(){this._dragging=false;var e=this._handle;if(!e){return}var t=this._axisPointerModel.get("value");this._moveHandleToValue(t);this._api.dispatchAction({type:"hideTip"})};e.prototype.clear=function(e){this._lastValue=null;this._lastStatus=null;var t=e.getZr();var r=this._group;var a=this._handle;if(t&&r){this._lastGraphicKey=null;r&&t.remove(r);a&&t.remove(a);this._group=null;this._handle=null;this._payloadInfo=null}kc(this,"_doDispatchAxisPointer")};e.prototype.doClear=function(){};e.prototype.buildLabel=function(e,t,r){r=r||0;return{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}};return e}();function LP(e,t,r,a){if(!kP(DP(r).lastProp,a)){DP(r).lastProp=a;t?ui(r,a,e):(r.stopAnimation(),r.attr(a))}}function kP(e,t){if(a.isObject(e)&&a.isObject(t)){var r=true;a.each(t,(function(t,a){r=r&&kP(e[a],t)}));return!!r}else{return e===t}}function PP(e,t){e[t.get(["label","show"])?"show":"hide"]()}function NP(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function OP(e,t,r){var a=t.get("z");var i=t.get("zlevel");e&&e.traverse((function(e){if(e.type!=="group"){a!=null&&(e.z=a);i!=null&&(e.zlevel=i);e.silent=r}}))}function RP(e){var t=e.get("type");var r=e.getModel(t+"Style");var a;if(t==="line"){a=r.getLineStyle();a.fill=null}else if(t==="shadow"){a=r.getAreaStyle();a.stroke=null}return a}function EP(e,t,r,a,i){var n=r.get("value");var o=VP(n,t.axis,t.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])});var s=r.getModel("label");var l=Mo(s.get("padding")||0);var u=s.getFont();var c=Ne.getBoundingRect(o,u);var v=i.position;var f=c.width+l[1]+l[3];var h=c.height+l[0]+l[2];var d=i.align;d==="right"&&(v[0]-=f);d==="center"&&(v[0]-=f/2);var p=i.verticalAlign;p==="bottom"&&(v[1]-=h);p==="middle"&&(v[1]-=h/2);zP(v,f,h,a);var g=s.get("backgroundColor");if(!g||g==="auto"){g=t.get(["axisLine","lineStyle","color"])}e.label={x:v[0],y:v[1],style:tn(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:g}),z2:10}}function zP(e,t,r,a){var i=a.getWidth();var n=a.getHeight();e[0]=Math.min(e[0]+t,i)-t;e[1]=Math.min(e[1]+r,n)-r;e[0]=Math.max(e[0],0);e[1]=Math.max(e[1],0)}function VP(e,t,r,i,n){e=t.scale.parse(e);var o=t.scale.getLabel({value:e},{precision:n.precision});var s=n.formatter;if(s){var l={value:Wp(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};a.each(i,(function(e){var t=r.getSeriesByIndex(e.seriesIndex);var a=e.dataIndexInside;var i=t&&t.getDataParams(a);i&&l.seriesData.push(i)}));if(a.isString(s)){o=s.replace("{value}",o)}else if(a.isFunction(s)){o=s(l)}}return o}function BP(e,t,r){var a=re.create();re.rotate(a,a,r.rotation);re.translate(a,a,r.position);return Oi([e.dataToCoord(t),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],a)}function GP(e,t,r,a,i,n){var o=l_.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=i.get(["label","margin"]);EP(t,a,i,n,{position:BP(a.axis,e,r),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function FP(e,t,r){r=r||0;return{x1:e[r],y1:e[1-r],x2:t[r],y2:t[1-r]}}function HP(e,t,r){r=r||0;return{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}}function WP(e,t,r,a,i,n){return{cx:e,cy:t,r0:r,r:a,startAngle:i,endAngle:n,clockwise:true}}var UP=function(t){e(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}r.prototype.makeElOption=function(e,t,r,a,i){var n=r.axis;var o=n.grid;var s=a.get("type");var l=YP(o,n).getOtherAxis(n).getGlobalExtent();var u=n.toGlobalCoord(n.dataToCoord(t,true));if(s&&s!=="none"){var c=RP(a);var v=XP[s](n,u,l);v.style=c;e.graphicKey=v.type;e.pointer=v}var f=Jx(o.model,r);GP(t,e,f,r,a,i)};r.prototype.getHandleTransform=function(e,t,r){var a=Jx(t.axis.grid.model,t,{labelInside:false});a.labelMargin=r.get(["handle","margin"]);var i=BP(t.axis,e,a);return{x:i[0],y:i[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}};r.prototype.updateHandleTransform=function(e,t,r,a){var i=r.axis;var n=i.grid;var o=i.getGlobalExtent(true);var s=YP(n,i).getOtherAxis(i).getGlobalExtent();var l=i.dim==="x"?0:1;var u=[e.x,e.y];u[l]+=t[l];u[l]=Math.min(o[1],u[l]);u[l]=Math.max(o[0],u[l]);var c=(s[1]+s[0])/2;var v=[c,c];v[l]=u[l];var f=[{verticalAlign:"middle"},{align:"center"}];return{x:u[0],y:u[1],rotation:e.rotation,cursorPoint:v,tooltipOption:f[l]}};return r}(AP);function YP(e,t){var r={};r[t.dim+"AxisIndex"]=t.index;return e.getCartesian(r)}var XP={line:function(e,t,r){var a=FP([t,r[0]],[t,r[1]],ZP(e));return{type:"Line",subPixelOptimize:true,shape:a}},shadow:function(e,t,r){var a=Math.max(1,e.getBandWidth());var i=r[1]-r[0];return{type:"Rect",shape:HP([t-a/2,r[0]],[a,i],ZP(e))}}};function ZP(e){return e.dim==="x"?0:1}var jP=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.type="axisPointer";r.defaultOption={show:"auto",z:50,type:"line",snap:false,triggerTooltip:true,triggerEmphasis:true,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:true,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:false,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}};return r}(qo);var qP=gr();var KP=a.each;function JP(e,t,r){if(F.node){return}var a=t.getZr();qP(a).records||(qP(a).records={});$P(a,t);var i=qP(a).records[e]||(qP(a).records[e]={});i.handler=r}function $P(e,t){if(qP(e).initialized){return}qP(e).initialized=true;r("click",a.curry(tN,"click"));r("mousemove",a.curry(tN,"mousemove"));r("globalout",eN);function r(r,a){e.on(r,(function(r){var i=rN(t);KP(qP(e).records,(function(e){e&&a(e,r,i.dispatchAction)}));QP(i.pendings,t)}))}}function QP(e,t){var r=e.showTip.length;var a=e.hideTip.length;var i;if(r){i=e.showTip[r-1]}else if(a){i=e.hideTip[a-1]}if(i){i.dispatchAction=null;t.dispatchAction(i)}}function eN(e,t,r){e.handler("leave",null,r)}function tN(e,t,r,a){t.handler(e,r,a)}function rN(e){var t={showTip:[],hideTip:[]};var r=function(a){var i=t[a.type];if(i){i.push(a)}else{a.dispatchAction=r;e.dispatchAction(a)}};return{dispatchAction:r,pendings:t}}function aN(e,t){if(F.node){return}var r=t.getZr();var a=(qP(r).records||{})[e];if(a){qP(r).records[e]=null}}var iN=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.render=function(e,t,r){var a=t.getComponent("tooltip");var i=e.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";JP("axisPointer",r,(function(e,t,r){if(i!=="none"&&(e==="leave"||i.indexOf(e)>=0)){r({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})}}))};r.prototype.remove=function(e,t){aN("axisPointer",t)};r.prototype.dispose=function(e,t){aN("axisPointer",t)};r.type="axisPointer";return r}(gc);function nN(e,t){var r=[];var i=e.seriesIndex;var n;if(i==null||!(n=t.getSeriesByIndex(i))){return{point:[]}}var o=n.getData();var s=pr(o,e);if(s==null||s<0||a.isArray(s)){return{point:[]}}var l=o.getItemGraphicEl(s);var u=n.coordinateSystem;if(n.getTooltipPosition){r=n.getTooltipPosition(s)||[]}else if(u&&u.dataToPoint){if(e.isStacked){var c=u.getBaseAxis();var v=u.getOtherAxis(c);var f=v.dim;var h=c.dim;var d=f==="x"||f==="radius"?1:0;var p=o.mapDimension(h);var g=[];g[d]=o.get(p,s);g[1-d]=o.get(o.getCalculationInfo("stackResultDimension"),s);r=u.dataToPoint(g)||[]}else{r=u.dataToPoint(o.getValues(a.map(u.dimensions,(function(e){return o.mapDimension(e)})),s))||[]}}else if(l){var y=l.getBoundingRect().clone();y.applyTransform(l.transform);r=[y.x+y.width/2,y.y+y.height/2]}return{point:r,el:l}}var oN=gr();function sN(e,t,r){var a=e.currTrigger;var i=[e.x,e.y];var n=e;var o=e.dispatchAction||C(r.dispatchAction,r);var l=t.getComponent("axisPointer").coordSysAxesInfo;if(!l){return}if(yN(i)){i=nN({seriesIndex:n.seriesIndex,dataIndex:n.dataIndex},t).point}var u=yN(i);var c=n.axesInfo;var v=l.axesInfo;var f=a==="leave"||yN(i);var h={};var d={};var p={list:[],map:{}};var g={showPointer:N(cN,d),showTooltip:N(vN,p)};s(l.coordSysMap,(function(e,t){var r=u||e.containPoint(i);s(l.coordSysAxesInfo[t],(function(e,t){var a=e.axis;var n=pN(c,e);if(!f&&r&&(!c||n)){var o=n&&n.value;if(o==null&&!u){o=a.pointToData(i)}o!=null&&lN(e,o,g,false,h)}}))}));var y={};s(v,(function(e,t){var r=e.linkGroup;if(r&&!d[t]){s(r.axesInfo,(function(t,a){var i=d[a];if(t!==e&&i){var n=i.value;r.mapper&&(n=e.axis.scale.parse(r.mapper(n,gN(t),gN(e))));y[e.key]=n}}))}}));s(y,(function(e,t){lN(v[t],e,g,true,h)}));fN(d,v,h);hN(p,i,e,o);dN(v,o,r);return h}function lN(e,t,r,a,i){var n=e.axis;if(n.scale.isBlank()||!n.containData(t)){return}if(!e.involveSeries){r.showPointer(e,t);return}var o=uN(t,e);var s=o.payloadBatch;var l=o.snapToValue;if(s[0]&&i.seriesIndex==null){d(i,s[0])}if(!a&&e.snap){if(n.containData(l)&&l!=null){t=l}}r.showPointer(e,t,s);r.showTooltip(e,o,l)}function uN(e,t){var r=t.axis;var a=r.dim;var i=e;var n=[];var o=Number.MAX_VALUE;var l=-1;s(t.seriesModels,(function(t,u){var c=t.getData().mapDimensionsAll(a);var v;var f;if(t.getAxisTooltipData){var h=t.getAxisTooltipData(c,e,r);f=h.dataIndices;v=h.nestestValue}else{f=t.getData().indicesOfNearest(c[0],e,r.type==="category"?.5:null);if(!f.length){return}v=t.getData().get(c[0],f[0])}if(v==null||!isFinite(v)){return}var d=e-v;var p=Math.abs(d);if(p<=o){if(p<o||d>=0&&l<0){o=p;l=d;i=v;n.length=0}s(f,(function(e){n.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})}))}}));return{payloadBatch:n,snapToValue:i}}function cN(e,t,r,a){e[t.key]={value:r,payloadBatch:a}}function vN(e,t,r,a){var i=r.payloadBatch;var n=t.axis;var o=n.model;var s=t.axisPointerModel;if(!t.triggerTooltip||!i.length){return}var l=t.coordSys.model;var u=A_(l);var c=e.map[u];if(!c){c=e.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]};e.list.push(c)}c.dataByAxis.push({axisDim:n.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:a,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}function fN(e,t,r){var a=r.axesInfo=[];s(t,(function(t,r){var i=t.axisPointerModel.option;var n=e[r];if(n){!t.useHandle&&(i.status="show");i.value=n.value;i.seriesDataIndices=(n.payloadBatch||[]).slice()}else{!t.useHandle&&(i.status="hide")}i.status==="show"&&a.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:i.value})}))}function hN(e,t,r,a){if(yN(t)||!e.list.length){a({type:"hideTip"});return}var i=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};a({type:"showTip",escapeConnect:true,x:t[0],y:t[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:e.list})}function dN(e,t,r){var a=r.getZr();var i="axisPointerLastHighlights";var n=oN(a)[i]||{};var o=oN(a)[i]={};s(e,(function(e,t){var r=e.axisPointerModel.option;r.status==="show"&&e.triggerEmphasis&&s(r.seriesDataIndices,(function(e){var t=e.seriesIndex+" | "+e.dataIndex;o[t]=e}))}));var l=[];var u=[];s(n,(function(e,t){!o[t]&&u.push(e)}));s(o,(function(e,t){!n[t]&&l.push(e)}));u.length&&r.dispatchAction({type:"downplay",escapeConnect:true,notBlur:true,batch:u});l.length&&r.dispatchAction({type:"highlight",escapeConnect:true,notBlur:true,batch:l})}function pN(e,t){for(var r=0;r<(e||[]).length;r++){var a=e[r];if(t.axis.dim===a.axisDim&&t.axis.model.componentIndex===a.axisIndex){return a}}}function gN(e){var t=e.axis.model;var r={};var a=r.axisDim=e.axis.dim;r.axisIndex=r[a+"AxisIndex"]=t.componentIndex;r.axisName=r[a+"AxisName"]=t.name;r.axisId=r[a+"AxisId"]=t.id;return r}function yN(e){return!e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}function mN(e){k_.registerAxisPointerClass("CartesianAxisPointer",UP);e.registerComponentModel(jP);e.registerComponentView(iN);e.registerPreprocessor((function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;if(t&&!n(t)){e.axisPointer.link=[t]}}}));e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,(function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=x_(e,t)}));e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},sN)}function xN(e){Eh(W_);Eh(mN)}var _N=function(t){e(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}r.prototype.makeElOption=function(e,t,r,a,i){var n=r.axis;if(n.dim==="angle"){this.animationThreshold=Math.PI/18}var o=n.polar;var s=o.getOtherAxis(n);var l=s.getExtent();var u=n.dataToCoord(t);var c=a.get("type");if(c&&c!=="none"){var v=RP(a);var f=SN[c](n,o,u,l);f.style=v;e.graphicKey=f.type;e.pointer=f}var h=a.get(["label","margin"]);var d=bN(t,r,a,o,h);EP(e,r,a,i,d)};return r}(AP);function bN(e,t,r,a,i){var n=t.axis;var o=n.dataToCoord(e);var s=a.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l=a.getRadiusAxis().getExtent();var u;var c;var v;if(n.dim==="radius"){var f=re.create();re.rotate(f,f,s);re.translate(f,f,[a.cx,a.cy]);u=Oi([o,-i],f);var h=t.getModel("axisLabel").get("rotate")||0;var d=l_.innerTextLayout(s,h*Math.PI/180,-1);c=d.textAlign;v=d.textVerticalAlign}else{var p=l[1];u=a.coordToPoint([p+i,o]);var g=a.cx;var y=a.cy;c=Math.abs(u[0]-g)/p<.3?"center":u[0]>g?"left":"right";v=Math.abs(u[1]-y)/p<.3?"middle":u[1]>y?"top":"bottom"}return{position:u,align:c,verticalAlign:v}}var SN={line:function(e,t,r,a){return e.dim==="angle"?{type:"Line",shape:FP(t.coordToPoint([a[0],r]),t.coordToPoint([a[1],r]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:r}}},shadow:function(e,t,r,a){var i=Math.max(1,e.getBandWidth());var n=Math.PI/180;return e.dim==="angle"?{type:"Sector",shape:WP(t.cx,t.cy,a[0],a[1],(-r-i/2)*n,(-r+i/2)*n)}:{type:"Sector",shape:WP(t.cx,t.cy,r-i/2,r+i/2,0,Math.PI*2)}}};var wN=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.findAxisModel=function(e){var t;var r=this.ecModel;r.eachComponent(e,(function(e){if(e.getCoordSysModel()===this){t=e}}),this);return t};r.type="polar";r.dependencies=["radiusAxis","angleAxis"];r.defaultOption={z:0,center:["50%","50%"],radius:"80%"};return r}(qo);var MN=function(t){e(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}r.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",_r).models[0]};r.type="polarAxis";return r}(qo);a.mixin(MN,Kp);var IN=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.type="angleAxis";return r}(MN);var DN=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.type="radiusAxis";return r}(MN);var TN=function(t){e(r,t);function r(e,r){return t.call(this,"radius",e,r)||this}r.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)[this.dim==="radius"?0:1]};return r}(Vg);TN.prototype.dataToRadius=Vg.prototype.dataToCoord;TN.prototype.radiusToData=Vg.prototype.coordToData;var CN=gr();var AN=function(t){e(r,t);function r(e,r){return t.call(this,"angle",e,r||[0,360])||this}r.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)[this.dim==="radius"?0:1]};r.prototype.calculateCategoryInterval=function(){var e=this;var t=e.getLabelModel();var r=e.scale;var a=r.getExtent();var i=r.count();if(a[1]-a[0]<1){return 0}var n=a[0];var o=e.dataToCoord(n+1)-e.dataToCoord(n);var s=Math.abs(o);var l=Ne.getBoundingRect(n==null?"":n+"",t.getFont(),"center","top");var u=Math.max(l.height,7);var c=u/s;isNaN(c)&&(c=Infinity);var v=Math.max(0,Math.floor(c));var f=CN(e.model);var h=f.lastAutoInterval;var d=f.lastTickCount;if(h!=null&&d!=null&&Math.abs(h-v)<=1&&Math.abs(d-i)<=1&&h>v){v=h}else{f.lastTickCount=i;f.lastAutoInterval=v}return v};return r}(Vg);AN.prototype.dataToAngle=Vg.prototype.dataToCoord;AN.prototype.angleToData=Vg.prototype.coordToData;var LN=["radius","angle"];var kN=function(){function e(e){this.dimensions=LN;this.type="polar";this.cx=0;this.cy=0;this._radiusAxis=new TN;this._angleAxis=new AN;this.axisPointerEnabled=true;this.name=e||"";this._radiusAxis.polar=this._angleAxis.polar=this}e.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])};e.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])};e.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]};e.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]};e.prototype.getAxesByScale=function(e){var t=[];var r=this._angleAxis;var a=this._radiusAxis;r.scale.type===e&&t.push(r);a.scale.type===e&&t.push(a);return t};e.prototype.getAngleAxis=function(){return this._angleAxis};e.prototype.getRadiusAxis=function(){return this._radiusAxis};e.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t};e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()};e.prototype.getTooltipAxes=function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}};e.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])};e.prototype.pointToData=function(e,t){var r=this.pointToCoord(e);return[this._radiusAxis.radiusToData(r[0],t),this._angleAxis.angleToData(r[1],t)]};e.prototype.pointToCoord=function(e){var t=e[0]-this.cx;var r=e[1]-this.cy;var a=this.getAngleAxis();var i=a.getExtent();var n=Math.min(i[0],i[1]);var o=Math.max(i[0],i[1]);a.inverse?n=o-360:o=n+360;var s=Math.sqrt(t*t+r*r);t/=s;r/=s;var l=Math.atan2(-r,t)/Math.PI*180;var u=l<n?1:-1;while(l<n||l>o){l+=u*360}return[s,l]};e.prototype.coordToPoint=function(e){var t=e[0];var r=e[1]/180*Math.PI;var a=Math.cos(r)*t+this.cx;var i=-Math.sin(r)*t+this.cy;return[a,i]};e.prototype.getArea=function(){var e=this.getAngleAxis();var t=this.getRadiusAxis();var r=t.getExtent().slice();r[0]>r[1]&&r.reverse();var a=e.getExtent();var i=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-a[0]*i,endAngle:-a[1]*i,clockwise:e.inverse,contain:function(e,t){var r=e-this.cx;var a=t-this.cy;var i=r*r+a*a-1e-4;var n=this.r;var o=this.r0;return i<=n*n&&i>=o*o}}};e.prototype.convertToPixel=function(e,t,r){var a=PN(t);return a===this?this.dataToPoint(r):null};e.prototype.convertFromPixel=function(e,t,r){var a=PN(t);return a===this?this.pointToData(r):null};return e}();function PN(e){var t=e.seriesModel;var r=e.polarModel;return r&&r.coordinateSystem||t&&t.coordinateSystem}function NN(e,t,r){var i=t.get("center");var n=r.getWidth();var o=r.getHeight();e.cx=pt(i[0],n);e.cy=pt(i[1],o);var s=e.getRadiusAxis();var l=Math.min(n,o)/2;var u=t.get("radius");if(u==null){u=[0,"100%"]}else if(!a.isArray(u)){u=[0,u]}var c=[pt(u[0],l),pt(u[1],l)];s.inverse?s.setExtent(c[1],c[0]):s.setExtent(c[0],c[1])}function ON(e,t){var r=this;var i=r.getAngleAxis();var n=r.getRadiusAxis();i.scale.setExtent(Infinity,-Infinity);n.scale.setExtent(Infinity,-Infinity);e.eachSeries((function(e){if(e.coordinateSystem===r){var t=e.getData();a.each(jp(t,"radius"),(function(e){n.scale.unionExtentFromData(t,e)}));a.each(jp(t,"angle"),(function(e){i.scale.unionExtentFromData(t,e)}))}}));Bp(i.scale,i.model);Bp(n.scale,n.model);if(i.type==="category"&&!i.onBand){var o=i.getExtent();var s=360/i.scale.count();i.inverse?o[1]+=s:o[1]-=s;i.setExtent(o[0],o[1])}}function RN(e){return e.mainType==="angleAxis"}function EN(e,t){var r;e.type=t.get("type");e.scale=Gp(t);e.onBand=t.get("boundaryGap")&&e.type==="category";e.inverse=t.get("inverse");if(RN(t)){e.inverse=e.inverse!==t.get("clockwise");var a=t.get("startAngle");var i=(r=t.get("endAngle"))!==null&&r!==void 0?r:a+(e.inverse?-360:360);e.setExtent(a,i)}t.axis=e;e.model=t}var zN={dimensions:LN,create:function(e,t){var r=[];e.eachComponent("polar",(function(e,a){var i=new kN(a+"");i.update=ON;var n=i.getRadiusAxis();var o=i.getAngleAxis();var s=e.findAxisModel("radiusAxis");var l=e.findAxisModel("angleAxis");EN(n,s);EN(o,l);NN(i,e,t);r.push(i);e.coordinateSystem=i;i.model=e}));e.eachSeries((function(e){if(e.get("coordinateSystem")==="polar"){var t=e.getReferringComponents("polar",_r).models[0];e.coordinateSystem=t.coordinateSystem}}));return r}};var VN=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function BN(e,t,r){t[1]>t[0]&&(t=t.slice().reverse());var a=e.coordToPoint([t[0],r]);var i=e.coordToPoint([t[1],r]);return{x1:a[0],y1:a[1],x2:i[0],y2:i[1]}}function GN(e){var t=e.getRadiusAxis();return t.inverse?0:1}function FN(e){var t=e[0];var r=e[e.length-1];if(t&&r&&Math.abs(Math.abs(t.coord-r.coord)-360)<1e-4){e.pop()}}var HN=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.axisPointerClass="PolarAxisPointer";return e}r.prototype.render=function(e,t){this.group.removeAll();if(!e.get("show")){return}var r=e.axis;var i=r.polar;var n=i.getRadiusAxis().getExtent();var o=r.getTicksCoords();var s=r.getMinorTicksCoords();var l=a.map(r.getViewLabels(),(function(e){e=a.clone(e);var t=r.scale;var i=t.type==="ordinal"?t.getRawOrdinalNumber(e.tickValue):e.tickValue;e.coord=r.dataToCoord(i);return e}));FN(l);FN(o);a.each(VN,(function(t){if(e.get([t,"show"])&&(!r.scale.isBlank()||t==="axisLine")){WN[t](this.group,e,i,o,s,n,l)}}),this)};r.type="angleAxis";return r}(k_);var WN={axisLine:function(e,t,r,a,i,n){var o=t.getModel(["axisLine","lineStyle"]);var s=r.getAngleAxis();var l=Math.PI/180;var u=s.getExtent();var c=GN(r);var v=c?0:1;var f;var h=Math.abs(u[1]-u[0])===360?"Circle":"Arc";if(n[v]===0){f=new qi[h]({shape:{cx:r.cx,cy:r.cy,r:n[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:s.inverse},style:o.getLineStyle(),z2:1,silent:true})}else{f=new he({shape:{cx:r.cx,cy:r.cy,r:n[c],r0:n[v]},style:o.getLineStyle(),z2:1,silent:true})}f.style.fill=null;e.add(f)},axisTick:function(e,t,r,i,n,o){var s=t.getModel("axisTick");var l=(s.get("inside")?-1:1)*s.get("length");var u=o[GN(r)];var c=a.map(i,(function(e){return new ye({shape:BN(r,[u,u+l],e.coord)})}));e.add(Ci(c,{style:a.defaults(s.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(e,t,r,i,n,o){if(!n.length){return}var s=t.getModel("axisTick");var l=t.getModel("minorTick");var u=(s.get("inside")?-1:1)*l.get("length");var c=o[GN(r)];var v=[];for(var f=0;f<n.length;f++){for(var h=0;h<n[f].length;h++){v.push(new ye({shape:BN(r,[c,c+u],n[f][h].coord)}))}}e.add(Ci(v,{style:a.defaults(l.getModel("lineStyle").getLineStyle(),a.defaults(s.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))},axisLabel:function(e,t,r,i,n,o,s){var l=t.getCategories(true);var u=t.getModel("axisLabel");var c=u.get("margin");var v=t.get("triggerEvent");a.each(s,(function(i,n){var s=u;var f=i.tickValue;var h=o[GN(r)];var d=r.coordToPoint([h+c,i.coord]);var p=r.cx;var g=r.cy;var y=Math.abs(d[0]-p)/h<.3?"center":d[0]>p?"left":"right";var m=Math.abs(d[1]-g)/h<.3?"middle":d[1]>g?"top":"bottom";if(l&&l[f]){var x=l[f];if(a.isObject(x)&&x.textStyle){s=new Mn(x.textStyle,u,u.ecModel)}}var _=new U({silent:l_.isLabelSilent(t),style:tn(s,{x:d[0],y:d[1],fill:s.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:i.formattedLabel,align:y,verticalAlign:m})});e.add(_);if(v){var b=l_.makeAxisEventDataBase(t);b.targetType="axisLabel";b.value=i.rawLabel;Xr(_).eventData=b}}),this)},splitLine:function(e,t,r,i,n,o){var s=t.getModel("splitLine");var l=s.getModel("lineStyle");var u=l.get("color");var c=0;u=u instanceof Array?u:[u];var v=[];for(var f=0;f<i.length;f++){var h=c++%u.length;v[h]=v[h]||[];v[h].push(new ye({shape:BN(r,o,i[f].coord)}))}for(var f=0;f<v.length;f++){e.add(Ci(v[f],{style:a.defaults({stroke:u[f%u.length]},l.getLineStyle()),silent:true,z:t.get("z")}))}},minorSplitLine:function(e,t,r,a,i,n){if(!i.length){return}var o=t.getModel("minorSplitLine");var s=o.getModel("lineStyle");var l=[];for(var u=0;u<i.length;u++){for(var c=0;c<i[u].length;c++){l.push(new ye({shape:BN(r,n,i[u][c].coord)}))}}e.add(Ci(l,{style:s.getLineStyle(),silent:true,z:t.get("z")}))},splitArea:function(e,t,r,i,n,o){if(!i.length){return}var s=t.getModel("splitArea");var l=s.getModel("areaStyle");var u=l.get("color");var c=0;u=u instanceof Array?u:[u];var v=[];var f=Math.PI/180;var h=-i[0].coord*f;var d=Math.min(o[0],o[1]);var p=Math.max(o[0],o[1]);var g=t.get("clockwise");for(var y=1,m=i.length;y<=m;y++){var x=y===m?i[0].coord:i[y].coord;var _=c++%u.length;v[_]=v[_]||[];v[_].push(new fe({shape:{cx:r.cx,cy:r.cy,r0:d,r:p,startAngle:h,endAngle:-x*f,clockwise:g},silent:true}));h=-x*f}for(var y=0;y<v.length;y++){e.add(Ci(v[y],{style:a.defaults({fill:u[y%u.length]},l.getAreaStyle()),silent:true}))}}};var UN=["axisLine","axisTickLabel","axisName"];var YN=["splitLine","splitArea","minorSplitLine"];var XN=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.axisPointerClass="PolarAxisPointer";return e}r.prototype.render=function(e,t){this.group.removeAll();if(!e.get("show")){return}var r=this._axisGroup;var i=this._axisGroup=new ue;this.group.add(i);var n=e.axis;var o=n.polar;var s=o.getAngleAxis();var l=n.getTicksCoords();var u=n.getMinorTicksCoords();var c=s.getExtent()[0];var v=n.getExtent();var f=jN(o,e,c);var h=new l_(e,f);a.each(UN,h.add,h);i.add(h.getGroup());Vi(r,i,e);a.each(YN,(function(t){if(e.get([t,"show"])&&!n.scale.isBlank()){ZN[t](this.group,e,o,c,v,l,u)}}),this)};r.type="radiusAxis";return r}(k_);var ZN={splitLine:function(e,t,r,i,n,o){var s=t.getModel("splitLine");var l=s.getModel("lineStyle");var u=l.get("color");var c=0;var v=r.getAngleAxis();var f=Math.PI/180;var h=v.getExtent();var d=Math.abs(h[1]-h[0])===360?"Circle":"Arc";u=u instanceof Array?u:[u];var p=[];for(var g=0;g<o.length;g++){var y=c++%u.length;p[y]=p[y]||[];p[y].push(new qi[d]({shape:{cx:r.cx,cy:r.cy,r:Math.max(o[g].coord,0),startAngle:-h[0]*f,endAngle:-h[1]*f,clockwise:v.inverse}}))}for(var g=0;g<p.length;g++){e.add(Ci(p[g],{style:a.defaults({stroke:u[g%u.length],fill:null},l.getLineStyle()),silent:true}))}},minorSplitLine:function(e,t,r,i,n,o,s){if(!s.length){return}var l=t.getModel("minorSplitLine");var u=l.getModel("lineStyle");var c=[];for(var v=0;v<s.length;v++){for(var f=0;f<s[v].length;f++){c.push(new ce({shape:{cx:r.cx,cy:r.cy,r:s[v][f].coord}}))}}e.add(Ci(c,{style:a.defaults({fill:null},u.getLineStyle()),silent:true}))},splitArea:function(e,t,r,i,n,o){if(!o.length){return}var s=t.getModel("splitArea");var l=s.getModel("areaStyle");var u=l.get("color");var c=0;u=u instanceof Array?u:[u];var v=[];var f=o[0].coord;for(var h=1;h<o.length;h++){var d=c++%u.length;v[d]=v[d]||[];v[d].push(new fe({shape:{cx:r.cx,cy:r.cy,r0:f,r:o[h].coord,startAngle:0,endAngle:Math.PI*2},silent:true}));f=o[h].coord}for(var h=0;h<v.length;h++){e.add(Ci(v[h],{style:a.defaults({fill:u[h%u.length]},l.getAreaStyle()),silent:true}))}}};function jN(e,t,r){return{position:[e.cx,e.cy],rotation:r/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}function qN(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function KN(e,t){return t.dim+e.model.componentIndex}function JN(e,t,r){var i={};var n=$N(a.filter(t.getSeriesByType(e),(function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&e.coordinateSystem.type==="polar"})));t.eachSeriesByType(e,(function(e){if(e.coordinateSystem.type!=="polar"){return}var t=e.getData();var r=e.coordinateSystem;var a=r.getBaseAxis();var o=KN(r,a);var s=qN(e);var l=n[o][s];var u=l.offset;var c=l.width;var v=r.getOtherAxis(a);var f=e.coordinateSystem.cx;var h=e.coordinateSystem.cy;var d=e.get("barMinHeight")||0;var p=e.get("barMinAngle")||0;i[s]=i[s]||[];var g=t.mapDimension(v.dim);var y=t.mapDimension(a.dim);var m=Id(t,g);var x=a.dim!=="radius"||!e.get("roundCap",true);var _=v.model;var b=_.get("startValue");var S=v.dataToCoord(b||0);for(var w=0,M=t.count();w<M;w++){var I=t.get(g,w);var D=t.get(y,w);var T=I>=0?"p":"n";var C=S;if(m){if(!i[s][D]){i[s][D]={p:S,n:S}}C=i[s][D][T]}var A=void 0;var L=void 0;var k=void 0;var P=void 0;if(v.dim==="radius"){var N=v.dataToCoord(I)-S;var O=a.dataToCoord(D);if(Math.abs(N)<d){N=(N<0?-1:1)*d}A=C;L=C+N;k=O-u;P=k-c;m&&(i[s][D][T]=L)}else{var R=v.dataToCoord(I,x)-S;var E=a.dataToCoord(D);if(Math.abs(R)<p){R=(R<0?-1:1)*p}A=E+u;L=A+c;k=C;P=C+R;m&&(i[s][D][T]=P)}t.setItemLayout(w,{cx:f,cy:h,r0:A,r:L,startAngle:-k*Math.PI/180,endAngle:-P*Math.PI/180,clockwise:k>=P})}}))}function $N(e){var t={};a.each(e,(function(e,r){var a=e.getData();var i=e.coordinateSystem;var n=i.getBaseAxis();var o=KN(i,n);var s=n.getExtent();var l=n.type==="category"?n.getBandWidth():Math.abs(s[1]-s[0])/a.count();var u=t[o]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};var c=u.stacks;t[o]=u;var v=qN(e);if(!c[v]){u.autoWidthCount++}c[v]=c[v]||{width:0,maxWidth:0};var f=pt(e.get("barWidth"),l);var h=pt(e.get("barMaxWidth"),l);var d=e.get("barGap");var p=e.get("barCategoryGap");if(f&&!c[v].width){f=Math.min(u.remainedWidth,f);c[v].width=f;u.remainedWidth-=f}h&&(c[v].maxWidth=h);d!=null&&(u.gap=d);p!=null&&(u.categoryGap=p)}));var r={};a.each(t,(function(e,t){r[t]={};var i=e.stacks;var n=e.bandWidth;var o=pt(e.categoryGap,n);var s=pt(e.gap,1);var l=e.remainedWidth;var u=e.autoWidthCount;var c=(l-o)/(u+(u-1)*s);c=Math.max(c,0);a.each(i,(function(e,t){var r=e.maxWidth;if(r&&r<c){r=Math.min(r,l);if(e.width){r=Math.min(r,e.width)}l-=r;e.width=r;u--}}));c=(l-o)/(u+(u-1)*s);c=Math.max(c,0);var v=0;var f;a.each(i,(function(e,t){if(!e.width){e.width=c}f=e;v+=e.width*(1+s)}));if(f){v-=f.width*s}var h=-v/2;a.each(i,(function(e,a){r[t][a]=r[t][a]||{offset:h,width:e.width};h+=e.width*(1+s)}))}));return r}var QN={startAngle:90,clockwise:true,splitNumber:12,axisLabel:{rotate:0}};var eO={splitNumber:5};var tO=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.type="polar";return r}(gc);function rO(e){Eh(mN);k_.registerAxisPointerClass("PolarAxisPointer",_N);e.registerCoordinateSystem("polar",zN);e.registerComponentModel(wN);e.registerComponentView(tO);Ux(e,"angle",IN,QN);Ux(e,"radius",DN,eO);e.registerComponentView(HN);e.registerComponentView(XN);e.registerLayout(N(JN,"bar"))}function aO(e,t){t=t||{};var r=e.coordinateSystem;var i=e.axis;var n={};var o=i.position;var s=i.orient;var l=r.getRect();var u=[l.x,l.x+l.width,l.y,l.y+l.height];var c={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};n.position=[s==="vertical"?c.vertical[o]:u[0],s==="horizontal"?c.horizontal[o]:u[3]];var v={horizontal:0,vertical:1};n.rotation=Math.PI/2*v[s];var f={top:-1,bottom:1,right:1,left:-1};n.labelDirection=n.tickDirection=n.nameDirection=f[o];if(e.get(["axisTick","inside"])){n.tickDirection=-n.tickDirection}if(a.retrieve(t.labelInside,e.get(["axisLabel","inside"]))){n.labelDirection=-n.labelDirection}var h=t.rotate;h==null&&(h=e.get(["axisLabel","rotate"]));n.labelRotation=o==="top"?-h:h;n.z2=1;return n}var iO=["axisLine","axisTickLabel","axisName"];var nO=["splitArea","splitLine"];var oO=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.axisPointerClass="SingleAxisPointer";return e}r.prototype.render=function(e,r,i,n){var o=this.group;o.removeAll();var s=this._axisGroup;this._axisGroup=new ue;var l=aO(e);var u=new l_(e,l);a.each(iO,u.add,u);o.add(this._axisGroup);o.add(u.getGroup());a.each(nO,(function(t){if(e.get([t,"show"])){sO[t](this,this.group,this._axisGroup,e)}}),this);Vi(s,this._axisGroup,e);t.prototype.render.call(this,e,r,i,n)};r.prototype.remove=function(){O_(this)};r.type="singleAxis";return r}(k_);var sO={splitLine:function(e,t,r,i){var n=i.axis;if(n.scale.isBlank()){return}var o=i.getModel("splitLine");var s=o.getModel("lineStyle");var l=s.get("color");l=l instanceof Array?l:[l];var u=s.get("width");var c=i.coordinateSystem.getRect();var v=n.isHorizontal();var f=[];var h=0;var d=n.getTicksCoords({tickModel:o});var p=[];var g=[];for(var y=0;y<d.length;++y){var m=n.toGlobalCoord(d[y].coord);if(v){p[0]=m;p[1]=c.y;g[0]=m;g[1]=c.y+c.height}else{p[0]=c.x;p[1]=m;g[0]=c.x+c.width;g[1]=m}var x=new ye({shape:{x1:p[0],y1:p[1],x2:g[0],y2:g[1]},silent:true});Li(x.shape,u);var _=h++%l.length;f[_]=f[_]||[];f[_].push(x)}var b=s.getLineStyle(["color"]);for(var y=0;y<f.length;++y){t.add(Ci(f[y],{style:a.defaults({stroke:l[y%l.length]},b),silent:true}))}},splitArea:function(e,t,r,a){N_(e,r,a,a)}};var lO=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.getCoordSysModel=function(){return this};r.type="singleAxis";r.layoutMode="box";r.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:true,lineStyle:{width:1,type:"solid"}},tooltip:{show:true},axisTick:{show:true,length:6,lineStyle:{width:1}},axisLabel:{show:true,interval:"auto"},splitLine:{show:true,lineStyle:{type:"dashed",opacity:.2}}};return r}(qo);M(lO,Kp.prototype);var uO=function(t){e(r,t);function r(e,r,a,i,n){var o=t.call(this,e,r,a)||this;o.type=i||"value";o.position=n||"bottom";return o}r.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"};r.prototype.pointToData=function(e,t){return this.coordinateSystem.pointToData(e)[0]};return r}(Vg);var cO=["single"];var vO=function(){function e(e,t,r){this.type="single";this.dimension="single";this.dimensions=cO;this.axisPointerEnabled=true;this.model=e;this._init(e,t,r)}e.prototype._init=function(e,t,r){var a=this.dimension;var i=new uO(a,Gp(e),[0,0],e.get("type"),e.get("position"));var n=i.type==="category";i.onBand=n&&e.get("boundaryGap");i.inverse=e.get("inverse");i.orient=e.get("orient");e.axis=i;i.model=e;i.coordinateSystem=this;this._axis=i};e.prototype.update=function(e,t){e.eachSeries((function(e){if(e.coordinateSystem===this){var t=e.getData();s(t.mapDimensionsAll(this.dimension),(function(e){this._axis.scale.unionExtentFromData(t,e)}),this);Bp(this._axis.scale,this._axis.model)}}),this)};e.prototype.resize=function(e,t){this._rect=Fo({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()});this._adjustAxis()};e.prototype.getRect=function(){return this._rect};e.prototype._adjustAxis=function(){var e=this._rect;var t=this._axis;var r=t.isHorizontal();var a=r?[0,e.width]:[0,e.height];var i=t.inverse?1:0;t.setExtent(a[i],a[1-i]);this._updateAxisTransform(t,r?e.x:e.y)};e.prototype._updateAxisTransform=function(e,t){var r=e.getExtent();var a=r[0]+r[1];var i=e.isHorizontal();e.toGlobalCoord=i?function(e){return e+t}:function(e){return a-e+t};e.toLocalCoord=i?function(e){return e-t}:function(e){return a-e+t}};e.prototype.getAxis=function(){return this._axis};e.prototype.getBaseAxis=function(){return this._axis};e.prototype.getAxes=function(){return[this._axis]};e.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}};e.prototype.containPoint=function(e){var t=this.getRect();var r=this.getAxis();var a=r.orient;if(a==="horizontal"){return r.contain(r.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height}else{return r.contain(r.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height}};e.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e[t.orient==="horizontal"?0:1]))]};e.prototype.dataToPoint=function(e){var t=this.getAxis();var r=this.getRect();var a=[];var i=t.orient==="horizontal"?0:1;if(e instanceof Array){e=e[0]}a[i]=t.toGlobalCoord(t.dataToCoord(+e));a[1-i]=i===0?r.y+r.height/2:r.x+r.width/2;return a};e.prototype.convertToPixel=function(e,t,r){var a=fO(t);return a===this?this.dataToPoint(r):null};e.prototype.convertFromPixel=function(e,t,r){var a=fO(t);return a===this?this.pointToData(r):null};return e}();function fO(e){var t=e.seriesModel;var r=e.singleAxisModel;return r&&r.coordinateSystem||t&&t.coordinateSystem}function hO(e,t){var r=[];e.eachComponent("singleAxis",(function(a,i){var n=new vO(a,e,t);n.name="single_"+i;n.resize(a,t);a.coordinateSystem=n;r.push(n)}));e.eachSeries((function(e){if(e.get("coordinateSystem")==="singleAxis"){var t=e.getReferringComponents("singleAxis",_r).models[0];e.coordinateSystem=t&&t.coordinateSystem}}));return r}var dO={create:hO,dimensions:cO};var pO=["x","y"];var gO=["width","height"];var yO=function(t){e(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}r.prototype.makeElOption=function(e,t,r,a,i){var n=r.axis;var o=n.coordinateSystem;var s=_O(o,1-xO(n));var l=o.dataToPoint(t)[0];var u=a.get("type");if(u&&u!=="none"){var c=RP(a);var v=mO[u](n,l,s);v.style=c;e.graphicKey=v.type;e.pointer=v}var f=aO(r);GP(t,e,f,r,a,i)};r.prototype.getHandleTransform=function(e,t,r){var a=aO(t,{labelInside:false});a.labelMargin=r.get(["handle","margin"]);var i=BP(t.axis,e,a);return{x:i[0],y:i[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}};r.prototype.updateHandleTransform=function(e,t,r,a){var i=r.axis;var n=i.coordinateSystem;var o=xO(i);var s=_O(n,o);var l=[e.x,e.y];l[o]+=t[o];l[o]=Math.min(s[1],l[o]);l[o]=Math.max(s[0],l[o]);var u=_O(n,1-o);var c=(u[1]+u[0])/2;var v=[c,c];v[o]=l[o];return{x:l[0],y:l[1],rotation:e.rotation,cursorPoint:v,tooltipOption:{verticalAlign:"middle"}}};return r}(AP);var mO={line:function(e,t,r){var a=FP([t,r[0]],[t,r[1]],xO(e));return{type:"Line",subPixelOptimize:true,shape:a}},shadow:function(e,t,r){var a=e.getBandWidth();var i=r[1]-r[0];return{type:"Rect",shape:HP([t-a/2,r[0]],[a,i],xO(e))}}};function xO(e){return e.isHorizontal()?0:1}function _O(e,t){var r=e.getRect();return[r[pO[t]],r[pO[t]]+r[gO[t]]]}var bO=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.type="single";return r}(gc);function SO(e){Eh(mN);k_.registerAxisPointerClass("SingleAxisPointer",yO);e.registerComponentView(bO);e.registerComponentView(oO);e.registerComponentModel(lO);Ux(e,"single",lO,lO.defaultOption);e.registerCoordinateSystem("single",dO)}var wO=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.init=function(e,r,a){var i=Xo(e);t.prototype.init.apply(this,arguments);MO(e,i)};r.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments);MO(this.option,e)};r.prototype.getCellSize=function(){return this.option.cellSize};r.type="calendar";r.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:true,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:true,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:true,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:true,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}};return r}(qo);function MO(e,t){var r=e.cellSize;var i;if(!a.isArray(r)){i=e.cellSize=[r,r]}else{i=r}if(i.length===1){i[1]=i[0]}var n=a.map([0,1],(function(e){if(Wo(t,e)){i[e]="auto"}return i[e]!=null&&i[e]!=="auto"}));Yo(e,t,{type:"box",ignoreSize:n})}var IO=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.render=function(e,t,r){var a=this.group;a.removeAll();var i=e.coordinateSystem;var n=i.getRangeInfo();var o=i.getOrient();var s=t.getLocaleModel();this._renderDayRect(e,n,a);this._renderLines(e,n,o,a);this._renderYearText(e,n,o,a);this._renderMonthText(e,s,o,a);this._renderWeekText(e,s,n,o,a)};r.prototype._renderDayRect=function(e,t,r){var a=e.coordinateSystem;var i=e.getModel("itemStyle").getItemStyle();var n=a.getCellWidth();var o=a.getCellHeight();for(var s=t.start.time;s<=t.end.time;s=a.getNextNDay(s,1).time){var l=a.dataToRect([s],false).tl;var u=new ge({shape:{x:l[0],y:l[1],width:n,height:o},cursor:"default",style:i});r.add(u)}};r.prototype._renderLines=function(e,t,r,a){var i=this;var n=e.coordinateSystem;var o=e.getModel(["splitLine","lineStyle"]).getLineStyle();var s=e.get(["splitLine","show"]);var l=o.lineWidth;this._tlpoints=[];this._blpoints=[];this._firstDayOfMonth=[];this._firstDayPoints=[];var u=t.start;for(var c=0;u.time<=t.end.time;c++){f(u.formatedDate);if(c===0){u=n.getDateInfo(t.start.y+"-"+t.start.m)}var v=u.date;v.setMonth(v.getMonth()+1);u=n.getDateInfo(v)}f(n.getNextNDay(t.end.time,1).formatedDate);function f(t){i._firstDayOfMonth.push(n.getDateInfo(t));i._firstDayPoints.push(n.dataToRect([t],false).tl);var l=i._getLinePointsOfOneWeek(e,t,r);i._tlpoints.push(l[0]);i._blpoints.push(l[l.length-1]);s&&i._drawSplitline(l,o,a)}s&&this._drawSplitline(i._getEdgesPoints(i._tlpoints,l,r),o,a);s&&this._drawSplitline(i._getEdgesPoints(i._blpoints,l,r),o,a)};r.prototype._getEdgesPoints=function(e,t,r){var a=[e[0].slice(),e[e.length-1].slice()];var i=r==="horizontal"?0:1;a[0][i]=a[0][i]-t/2;a[1][i]=a[1][i]+t/2;return a};r.prototype._drawSplitline=function(e,t,r){var a=new pe({z2:20,shape:{points:e},style:t});r.add(a)};r.prototype._getLinePointsOfOneWeek=function(e,t,r){var a=e.coordinateSystem;var i=a.getDateInfo(t);var n=[];for(var o=0;o<7;o++){var s=a.getNextNDay(i.time,o);var l=a.dataToRect([s.time],false);n[2*s.day]=l.tl;n[2*s.day+1]=l[r==="horizontal"?"bl":"tr"]}return n};r.prototype._formatterLabel=function(e,t){if(u(e)&&e){return Ao(e,t)}if(m(e)){return e(t)}return t.nameMap};r.prototype._yearTextPositionControl=function(e,t,r,a,i){var n=t[0];var o=t[1];var s=["center","bottom"];if(a==="bottom"){o+=i;s=["center","top"]}else if(a==="left"){n-=i}else if(a==="right"){n+=i;s=["center","top"]}else{o-=i}var l=0;if(a==="left"||a==="right"){l=Math.PI/2}return{rotation:l,x:n,y:o,style:{align:s[0],verticalAlign:s[1]}}};r.prototype._renderYearText=function(e,t,r,a){var i=e.getModel("yearLabel");if(!i.get("show")){return}var n=i.get("margin");var o=i.get("position");if(!o){o=r!=="horizontal"?"top":"left"}var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]];var l=(s[0][0]+s[1][0])/2;var u=(s[0][1]+s[1][1])/2;var c=r==="horizontal"?0:1;var v={top:[l,s[c][1]],bottom:[l,s[1-c][1]],left:[s[1-c][0],u],right:[s[c][0],u]};var f=t.start.y;if(+t.end.y>+t.start.y){f=f+"-"+t.end.y}var h=i.get("formatter");var d={start:t.start.y,end:t.end.y,nameMap:f};var p=this._formatterLabel(h,d);var g=new U({z2:30,style:tn(i,{text:p})});g.attr(this._yearTextPositionControl(g,v[o],r,o,n));a.add(g)};r.prototype._monthTextPositionControl=function(e,t,r,a,i){var n="left";var o="top";var s=e[0];var l=e[1];if(r==="horizontal"){l=l+i;if(t){n="center"}if(a==="start"){o="bottom"}}else{s=s+i;if(t){o="middle"}if(a==="start"){n="right"}}return{x:s,y:l,align:n,verticalAlign:o}};r.prototype._renderMonthText=function(e,t,r,a){var i=e.getModel("monthLabel");if(!i.get("show")){return}var n=i.get("nameMap");var o=i.get("margin");var s=i.get("position");var l=i.get("align");var c=[this._tlpoints,this._blpoints];if(!n||u(n)){if(n){t=Gn(n)||t}n=t.get(["time","monthAbbr"])||[]}var v=s==="start"?0:1;var f=r==="horizontal"?0:1;o=s==="start"?-o:o;var h=l==="center";for(var p=0;p<c[v].length-1;p++){var g=c[v][p].slice();var y=this._firstDayOfMonth[p];if(h){var m=this._firstDayPoints[p];g[f]=(m[f]+c[0][p+1][f])/2}var x=i.get("formatter");var _=n[+y.m-1];var b={yyyy:y.y,yy:(y.y+"").slice(2),MM:y.m,M:+y.m,nameMap:_};var S=this._formatterLabel(x,b);var w=new U({z2:30,style:d(tn(i,{text:S}),this._monthTextPositionControl(g,h,r,s,o))});a.add(w)}};r.prototype._weekTextPositionControl=function(e,t,r,a,i){var n="center";var o="middle";var s=e[0];var l=e[1];var u=r==="start";if(t==="horizontal"){s=s+a+(u?1:-1)*i[0]/2;n=u?"right":"left"}else{l=l+a+(u?1:-1)*i[1]/2;o=u?"bottom":"top"}return{x:s,y:l,align:n,verticalAlign:o}};r.prototype._renderWeekText=function(e,t,r,a,i){var n=e.getModel("dayLabel");if(!n.get("show")){return}var o=e.coordinateSystem;var s=n.get("position");var l=n.get("nameMap");var c=n.get("margin");var v=o.getFirstDayOfWeek();if(!l||u(l)){if(l){t=Gn(l)||t}var h=t.get(["time","dayOfWeekShort"]);l=h||f(t.get(["time","dayOfWeekAbbr"]),(function(e){return e[0]}))}var p=o.getNextNDay(r.end.time,7-r.lweek).time;var g=[o.getCellWidth(),o.getCellHeight()];c=pt(c,Math.min(g[1],g[0]));if(s==="start"){p=o.getNextNDay(r.start.time,-(7+r.fweek)).time;c=-c}for(var y=0;y<7;y++){var m=o.getNextNDay(p,y);var x=o.dataToRect([m.time],false).center;var _=y;_=Math.abs((y+v)%7);var b=new U({z2:30,style:d(tn(n,{text:l[_]}),this._weekTextPositionControl(x,a,s,c,g))});i.add(b)}};r.type="calendar";return r}(gc);var DO=864e5;var TO=function(){function e(t,r,a){this.type="calendar";this.dimensions=e.dimensions;this.getDimensionsInfo=e.getDimensionsInfo;this._model=t}e.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]};e.prototype.getRangeInfo=function(){return this._rangeInfo};e.prototype.getModel=function(){return this._model};e.prototype.getRect=function(){return this._rect};e.prototype.getCellWidth=function(){return this._sw};e.prototype.getCellHeight=function(){return this._sh};e.prototype.getOrient=function(){return this._orient};e.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek};e.prototype.getDateInfo=function(e){e=Ct(e);var t=e.getFullYear();var r=e.getMonth()+1;var a=r<10?"0"+r:""+r;var i=e.getDate();var n=i<10?"0"+i:""+i;var o=e.getDay();o=Math.abs((o+7-this.getFirstDayOfWeek())%7);return{y:t+"",m:a,d:n,day:o,time:e.getTime(),formatedDate:t+"-"+a+"-"+n,date:e}};e.prototype.getNextNDay=function(e,t){t=t||0;if(t===0){return this.getDateInfo(e)}e=new Date(this.getDateInfo(e).time);e.setDate(e.getDate()+t);return this.getDateInfo(e)};e.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay");this._orient=this._model.get("orient");this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0;this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1;var i=["width","height"];var n=this._model.getCellSize().slice();var o=this._model.getBoxLayoutParams();var s=this._orient==="horizontal"?[r,7]:[7,r];a.each([0,1],(function(e){if(c(n,e)){o[i[e]]=n[e]*s[e]}}));var l={width:t.getWidth(),height:t.getHeight()};var u=this._rect=Fo(o,l);a.each([0,1],(function(e){if(!c(n,e)){n[e]=u[i[e]]/s[e]}}));function c(e,t){return e[t]!=null&&e[t]!=="auto"}this._sw=n[0];this._sh=n[1]};e.prototype.dataToPoint=function(e,t){a.isArray(e)&&(e=e[0]);t==null&&(t=true);var r=this.getDateInfo(e);var i=this._rangeInfo;var n=r.formatedDate;if(t&&!(r.time>=i.start.time&&r.time<i.end.time+DO)){return[NaN,NaN]}var o=r.day;var s=this._getRangeInfo([i.start.time,n]).nthWeek;if(this._orient==="vertical"){return[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]}return[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]};e.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time};e.prototype.dataToRect=function(e,t){var r=this.dataToPoint(e,t);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}};e.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1;var r=Math.floor((e[1]-this._rect.y)/this._sh)+1;var a=this._rangeInfo.range;if(this._orient==="vertical"){return this._getDateByWeeksAndDay(r,t-1,a)}return this._getDateByWeeksAndDay(t,r-1,a)};e.prototype.convertToPixel=function(e,t,r){var a=CO(t);return a===this?a.dataToPoint(r):null};e.prototype.convertFromPixel=function(e,t,r){var a=CO(t);return a===this?a.pointToData(r):null};e.prototype.containPoint=function(e){console.warn("Not implemented.");return false};e.prototype._initRangeOption=function(){var e=this._model.get("range");var t;if(a.isArray(e)&&e.length===1){e=e[0]}if(!a.isArray(e)){var r=e.toString();if(/^\d{4}$/.test(r)){t=[r+"-01-01",r+"-12-31"]}if(/^\d{4}[\/|-]\d{1,2}$/.test(r)){var i=this.getDateInfo(r);var n=i.date;n.setMonth(n.getMonth()+1);var o=this.getNextNDay(n,-1);t=[i.formatedDate,o.formatedDate]}if(/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)){t=[r,r]}}else{t=e}if(!t){return e}var s=this._getRangeInfo(t);if(s.start.time>s.end.time){t.reverse()}return t};e.prototype._getRangeInfo=function(e){var t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])];var r;if(t[0].time>t[1].time){r=true;t.reverse()}var a=Math.floor(t[1].time/DO)-Math.floor(t[0].time/DO)+1;var i=new Date(t[0].time);var n=i.getDate();var o=t[1].date.getDate();i.setDate(n+a-1);var s=i.getDate();if(s!==o){var l=i.getTime()-t[1].time>0?1:-1;while((s=i.getDate())!==o&&(i.getTime()-t[1].time)*l>0){a-=l;i.setDate(s-l)}}var u=Math.floor((a+t[0].day+6)/7);var c=r?-u+1:u-1;r&&t.reverse();return{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:a,weeks:u,nthWeek:c,fweek:t[0].day,lweek:t[1].day}};e.prototype._getDateByWeeksAndDay=function(e,t,r){var a=this._getRangeInfo(r);if(e>a.weeks||e===0&&t<a.fweek||e===a.weeks&&t>a.lweek){return null}var i=(e-1)*7-a.fweek+t;var n=new Date(a.start.time);n.setDate(+a.start.d+i);return this.getDateInfo(n)};e.create=function(t,r){var a=[];t.eachComponent("calendar",(function(t){var r=new e(t);a.push(r);t.coordinateSystem=r}));t.eachSeries((function(e){if(e.get("coordinateSystem")==="calendar"){e.coordinateSystem=a[e.get("calendarIndex")||0]}}));return a};e.dimensions=["time","value"];return e}();function CO(e){var t=e.calendarModel;var r=e.seriesModel;var a=t?t.coordinateSystem:r?r.coordinateSystem:null;return a}function AO(e){e.registerComponentModel(wO);e.registerComponentView(IO);e.registerCoordinateSystem("calendar",TO)}function LO(e,t){var r=e.existing;t.id=e.keyInfo.id;!t.type&&r&&(t.type=r.type);if(t.parentId==null){var a=t.parentOption;if(a){t.parentId=a.id}else if(r){t.parentId=r.parentId}}t.parentOption=null}function kO(e,t){var r;a.each(t,(function(t){e[t]!=null&&e[t]!=="auto"&&(r=true)}));return r}function PO(e,t,r){var i=a.extend({},r);var n=e[t];var o=r.$action||"merge";if(o==="merge"){if(n){a.merge(n,i,true);Yo(n,i,{ignoreSize:true});Zo(r,n);RO(r,n);RO(r,n,"shape");RO(r,n,"style");RO(r,n,"extra");r.clipPath=n.clipPath}else{e[t]=i}}else if(o==="replace"){e[t]=i}else if(o==="remove"){n&&(e[t]=null)}}var NO=["transition","enterFrom","leaveTo"];var OO=NO.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function RO(e,t,r){if(r){if(!e[r]&&t[r]){e[r]={}}e=e[r];t=t[r]}if(!e||!t){return}var a=r?NO:OO;for(var i=0;i<a.length;i++){var n=a[i];if(e[n]==null&&t[n]!=null){e[n]=t[n]}}}function EO(e,t){if(!e){return}e.hv=t.hv=[kO(t,["left","right"]),kO(t,["top","bottom"])];if(e.type==="group"){var r=e;var a=t;r.width==null&&(r.width=a.width=0);r.height==null&&(r.height=a.height=0)}}var zO=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.preventAutoZ=true;return e}r.prototype.mergeOption=function(e,r){var a=this.option.elements;this.option.elements=null;t.prototype.mergeOption.call(this,e,r);this.option.elements=a};r.prototype.optionUpdated=function(e,t){var r=this.option;var i=(t?r:e).elements;var n=r.elements=t?[]:r.elements;var o=[];this._flatten(i,o,null);var s=Qt(n,o,"normalMerge");var l=this._elOptionsToUpdate=[];a.each(s,(function(e,t){var r=e.newOption;if(!r){return}l.push(r);LO(e,r);PO(n,t,r);EO(n[t],r)}),this);r.elements=a.filter(n,(function(e){e&&delete e.$action;return e!=null}))};r.prototype._flatten=function(e,t,r){a.each(e,(function(e){if(!e){return}if(r){e.parentOption=r}t.push(e);var a=e.children;if(a&&a.length){this._flatten(a,t,e)}delete e.children}),this)};r.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;this._elOptionsToUpdate=null;return e};r.type="graphic";r.defaultOption={elements:[]};return r}(qo);var VO={path:null,compoundPath:null,group:ue,image:le,text:U};var BO=gr();var GO=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.init=function(){this._elMap=a.createHashMap()};r.prototype.render=function(e,t,r){if(e!==this._lastGraphicModel){this._clear()}this._lastGraphicModel=e;this._updateElements(e);this._relocate(e,r)};r.prototype._updateElements=function(e){var t=e.useElOptionsToUpdate();if(!t){return}var r=this._elMap;var i=this.group;var n=e.get("z");var o=e.get("zlevel");a.each(t,(function(t){var a=lr(t.id,null);var s=a!=null?r.get(a):null;var l=lr(t.parentId,null);var u=l!=null?r.get(l):i;var c=t.type;var v=t.style;if(c==="text"&&v){if(t.hv&&t.hv[1]){v.textVerticalAlign=v.textBaseline=v.verticalAlign=v.align=null}}var f=t.textContent;var h=t.textConfig;if(v&&vk(v,c,!!h,!!f)){var d=fk(v,c,true);if(!h&&d.textConfig){h=t.textConfig=d.textConfig}if(!f&&d.textContent){f=d.textContent}}var p=YO(t);var g=t.$action||"merge";var y=g==="merge";var m=g==="replace";if(y){var x=!s;var _=s;if(x){_=HO(a,u,t.type,r)}else{_&&(BO(_).isNew=false);Bk(_)}if(_){bk(_,p,e,{isInit:x});UO(_,t,n,o)}}else if(m){WO(s,t,r,e);var b=HO(a,u,t.type,r);if(b){bk(b,p,e,{isInit:true});UO(b,t,n,o)}}else if(g==="remove"){Sk(s,t);WO(s,t,r,e)}var S=r.get(a);if(S&&f){if(y){var w=S.getTextContent();w?w.attr(f):S.setTextContent(new U(f))}else if(m){S.setTextContent(new U(f))}}if(S){var M=t.clipPath;if(M){var I=M.type;var D=void 0;var x=false;if(y){var T=S.getClipPath();x=!T||BO(T).type!==I;D=x?FO(I):T}else if(m){x=true;D=FO(I)}S.setClipPath(D);bk(D,M,e,{isInit:x});Gk(D,M.keyframeAnimation,e)}var C=BO(S);S.setTextConfig(h);C.option=t;XO(S,e,t);Xi({el:S,componentModel:e,itemName:S.name,itemTooltipOption:t.tooltip});Gk(S,t.keyframeAnimation,e)}}))};r.prototype._relocate=function(e,t){var r=e.option.elements;var i=this.group;var n=this._elMap;var o=t.getWidth();var s=t.getHeight();var l=["x","y"];for(var u=0;u<r.length;u++){var c=r[u];var v=lr(c.id,null);var f=v!=null?n.get(v):null;if(!f||!f.isGroup){continue}var h=f.parent;var d=h===i;var p=BO(f);var g=BO(h);p.width=pt(p.option.width,d?o:g.width)||0;p.height=pt(p.option.height,d?s:g.height)||0}for(var u=r.length-1;u>=0;u--){var c=r[u];var v=lr(c.id,null);var f=v!=null?n.get(v):null;if(!f){continue}var h=f.parent;var g=BO(h);var y=h===i?{width:o,height:s}:{width:g.width,height:g.height};var m={};var x=Ho(f,c,y,null,{hv:c.hv,boundingMode:c.bounding},m);if(!BO(f).isNew&&x){var _=c.transition;var b={};for(var S=0;S<l.length;S++){var w=l[S];var M=m[w];if(_&&(Mk(_)||a.indexOf(_,w)>=0)){b[w]=M}else{f[w]=M}}ui(f,b,e,0)}else{f.attr(m)}}};r.prototype._clear=function(){var e=this;var t=this._elMap;t.each((function(r){WO(r,BO(r).option,t,e._lastGraphicModel)}));this._elMap=a.createHashMap()};r.prototype.dispose=function(){this._clear()};r.type="graphic";return r}(gc);function FO(e){var t=a.hasOwn(VO,e)?VO[e]:Mi(e);var r=new t({});BO(r).type=e;return r}function HO(e,t,r,a){var i=FO(r);t.add(i);a.set(e,i);BO(i).id=e;BO(i).isNew=true;return i}function WO(e,t,r,a){var i=e&&e.parent;if(i){e.type==="group"&&e.traverse((function(e){WO(e,t,r,a)}));wk(e,t,a);r.removeKey(BO(e).id)}}function UO(e,t,r,i){if(!e.isGroup){a.each([["cursor",rt.prototype.cursor],["zlevel",i||0],["z",r||0],["z2",0]],(function(r){var i=r[0];if(a.hasOwn(t,i)){e[i]=a.retrieve2(t[i],r[1])}else if(e[i]==null){e[i]=r[1]}}))}a.each(a.keys(t),(function(r){if(r.indexOf("on")===0){var i=t[r];e[r]=a.isFunction(i)?i:null}}));if(a.hasOwn(t,"draggable")){e.draggable=t.draggable}t.name!=null&&(e.name=t.name);t.id!=null&&(e.id=t.id)}function YO(e){e=a.extend({},e);a.each(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Eo),(function(t){delete e[t]}));return e}function XO(e,t,r){var a=Xr(e).eventData;if(!e.silent&&!e.ignore&&!a){a=Xr(e).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name}}if(a){a.info=r.info}}function ZO(e){e.registerComponentModel(zO);e.registerComponentView(GO);e.registerPreprocessor((function(e){var t=e.graphic;if(n(t)){if(!t[0]||!t[0].elements){e.graphic=[{elements:t}]}else{e.graphic=[e.graphic[0]]}}else if(t&&!t.elements){e.graphic=[{elements:[t]}]}}))}var jO=["x","y","radius","angle","single"];var qO=["cartesian2d","polar","singleAxis"];function KO(e){var t=e.get("coordinateSystem");return h(qO,t)>=0}function JO(e){return e+"Axis"}function $O(e,t){var r=o();var a=[];var i=o();e.eachComponent({mainType:"dataZoom",query:t},(function(e){if(!i.get(e.uid)){l(e)}}));var n;do{n=false;e.eachComponent("dataZoom",s)}while(n);function s(e){if(!i.get(e.uid)&&u(e)){l(e);n=true}}function l(e){i.set(e.uid,true);a.push(e);c(e)}function u(e){var t=false;e.eachTargetAxis((function(e,a){var i=r.get(e);if(i&&i[a]){t=true}}));return t}function c(e){e.eachTargetAxis((function(e,t){(r.get(e)||r.set(e,[]))[t]=true}))}return a}function QO(e){var t=e.ecModel;var r={infoList:[],infoMap:o()};e.eachTargetAxis((function(e,a){var i=t.getComponent(JO(e),a);if(!i){return}var n=i.getCoordSysModel();if(!n){return}var o=n.uid;var s=r.infoMap.get(o);if(!s){s={model:n,axisModels:[]};r.infoList.push(s);r.infoMap.set(o,s)}s.axisModels.push(i)}));return r}var eR=function(){function e(){this.indexList=[];this.indexMap=[]}e.prototype.add=function(e){if(!this.indexMap[e]){this.indexList.push(e);this.indexMap[e]=true}};return e}();var tR=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e._autoThrottle=true;e._noTarget=true;e._rangePropMode=["percent","percent"];return e}r.prototype.init=function(e,t,r){var a=rR(e);this.settledOption=a;this.mergeDefaultAndTheme(e,r);this._doInit(a)};r.prototype.mergeOption=function(e){var t=rR(e);S(this.option,e,true);S(this.settledOption,t,true);this._doInit(t)};r.prototype._doInit=function(e){var t=this.option;this._setDefaultThrottle(e);this._updateRangeUse(e);var r=this.settledOption;s([["start","startValue"],["end","endValue"]],(function(e,a){if(this._rangePropMode[a]==="value"){t[e[0]]=r[e[0]]=null}}),this);this._resetTarget()};r.prototype._resetTarget=function(){var e=this.get("orient",true);var t=this._targetAxisInfoMap=o();var r=this._fillSpecifiedTargetAxis(t);if(r){this._orient=e||this._makeAutoOrientByTargetAxis()}else{this._orient=e||"horizontal";this._fillAutoTargetAxisByOrient(t,this._orient)}this._noTarget=true;t.each((function(e){if(e.indexList.length){this._noTarget=false}}),this)};r.prototype._fillSpecifiedTargetAxis=function(e){var t=false;s(jO,(function(r){var a=this.getReferringComponents(JO(r),br);if(!a.specified){return}t=true;var i=new eR;s(a.models,(function(e){i.add(e.componentIndex)}));e.set(r,i)}),this);return t};r.prototype._fillAutoTargetAxisByOrient=function(e,t){var r=this.ecModel;var a=true;if(a){var i=t==="vertical"?"y":"x";var n=r.findComponents({mainType:i+"Axis"});o(n,i)}if(a){var n=r.findComponents({mainType:"singleAxis",filter:function(e){return e.get("orient",true)===t}});o(n,"single")}function o(t,r){var i=t[0];if(!i){return}var n=new eR;n.add(i.componentIndex);e.set(r,n);a=false;if(r==="x"||r==="y"){var o=i.getReferringComponents("grid",_r).models[0];o&&s(t,(function(e){if(i.componentIndex!==e.componentIndex&&o===e.getReferringComponents("grid",_r).models[0]){n.add(e.componentIndex)}}))}}if(a){s(jO,(function(t){if(!a){return}var i=r.findComponents({mainType:JO(t),filter:function(e){return e.get("type",true)==="category"}});if(i[0]){var n=new eR;n.add(i[0].componentIndex);e.set(t,n);a=false}}),this)}};r.prototype._makeAutoOrientByTargetAxis=function(){var e;this.eachTargetAxis((function(t){!e&&(e=t)}),this);return e==="y"?"vertical":"horizontal"};r.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")){this._autoThrottle=false}if(this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}};r.prototype._updateRangeUse=function(e){var t=this._rangePropMode;var r=this.get("rangeMode");s([["start","startValue"],["end","endValue"]],(function(a,i){var n=e[a[0]]!=null;var o=e[a[1]]!=null;if(n&&!o){t[i]="percent"}else if(!n&&o){t[i]="value"}else if(r){t[i]=r[i]}else if(n){t[i]="percent"}}))};r.prototype.noTarget=function(){return this._noTarget};r.prototype.getFirstTargetAxisModel=function(){var e;this.eachTargetAxis((function(t,r){if(e==null){e=this.ecModel.getComponent(JO(t),r)}}),this);return e};r.prototype.eachTargetAxis=function(e,t){this._targetAxisInfoMap.each((function(r,a){s(r.indexList,(function(r){e.call(t,a,r)}))}))};r.prototype.getAxisProxy=function(e,t){var r=this.getAxisModel(e,t);if(r){return r.__dzAxisProxy}};r.prototype.getAxisModel=function(e,t){var r=this._targetAxisInfoMap.get(e);if(r&&r.indexMap[t]){return this.ecModel.getComponent(JO(e),t)}};r.prototype.setRawRange=function(e){var t=this.option;var r=this.settledOption;s([["start","startValue"],["end","endValue"]],(function(a){if(e[a[0]]!=null||e[a[1]]!=null){t[a[0]]=r[a[0]]=e[a[0]];t[a[1]]=r[a[1]]=e[a[1]]}}),this);this._updateRangeUse(e)};r.prototype.setCalculatedRange=function(e){var t=this.option;s(["start","startValue","end","endValue"],(function(r){t[r]=e[r]}))};r.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e){return e.getDataPercentWindow()}};r.prototype.getValueRange=function(e,t){if(e==null&&t==null){var r=this.findRepresentativeAxisProxy();if(r){return r.getDataValueWindow()}}else{return this.getAxisProxy(e,t).getDataValueWindow()}};r.prototype.findRepresentativeAxisProxy=function(e){if(e){return e.__dzAxisProxy}var t;var r=this._targetAxisInfoMap.keys();for(var a=0;a<r.length;a++){var i=r[a];var n=this._targetAxisInfoMap.get(i);for(var o=0;o<n.indexList.length;o++){var s=this.getAxisProxy(i,n.indexList[o]);if(s.hostedBy(this)){return s}if(!t){t=s}}}return t};r.prototype.getRangePropMode=function(){return this._rangePropMode.slice()};r.prototype.getOrient=function(){return this._orient};r.type="dataZoom";r.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"];r.defaultOption={z:4,filterMode:"filter",start:0,end:100};return r}(qo);function rR(e){var t={};s(["start","end","startValue","endValue","throttle"],(function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}));return t}var aR=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.type="dataZoom.select";return r}(tR);var iR=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.render=function(e,t,r,a){this.dataZoomModel=e;this.ecModel=t;this.api=r};r.type="dataZoom";return r}(gc);var nR=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.type="dataZoom.select";return r}(iR);var oR=a.each;var sR=yt;var lR=function(){function e(e,t,r,a){this._dimName=e;this._axisIndex=t;this.ecModel=a;this._dataZoomModel=r}e.prototype.hostedBy=function(e){return this._dataZoomModel===e};e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()};e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()};e.prototype.getTargetSeriesModels=function(){var e=[];this.ecModel.eachSeries((function(t){if(KO(t)){var r=JO(this._dimName);var a=t.getReferringComponents(r,_r).models[0];if(a&&this._axisIndex===a.componentIndex){e.push(t)}}}),this);return e};e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)};e.prototype.getMinMaxSpan=function(){return a.clone(this._minMaxSpan)};e.prototype.calculateDataWindow=function(e){var t=this._dataExtent;var r=this.getAxisModel();var a=r.axis.scale;var i=this._dataZoomModel.getRangePropMode();var n=[0,100];var o=[];var s=[];var l;oR(["start","end"],(function(r,u){var c=e[r];var v=e[r+"Value"];if(i[u]==="percent"){c==null&&(c=n[u]);v=a.parse(dt(c,n,t))}else{l=true;v=v==null?t[u]:a.parse(v);c=dt(v,t,n)}s[u]=v==null||isNaN(v)?t[u]:v;o[u]=c==null||isNaN(c)?n[u]:c}));sR(s);sR(o);var u=this._minMaxSpan;l?c(s,o,t,n,false):c(o,s,n,t,true);function c(e,t,r,i,n){var o=n?"Span":"ValueSpan";zD(0,e,r,"all",u["min"+o],u["max"+o]);for(var s=0;s<2;s++){t[s]=dt(e[s],r,i,true);n&&(t[s]=a.parse(t[s]))}}return{valueWindow:s,percentWindow:o}};e.prototype.reset=function(e){if(e!==this._dataZoomModel){return}var t=this.getTargetSeriesModels();this._dataExtent=uR(this,this._dimName,t);this._updateMinMaxSpan();var r=this.calculateDataWindow(e.settledOption);this._valueWindow=r.valueWindow;this._percentWindow=r.percentWindow;this._setAxisModel()};e.prototype.filterData=function(e,t){if(e!==this._dataZoomModel){return}var r=this._dimName;var i=this.getTargetSeriesModels();var n=e.get("filterMode");var o=this._valueWindow;if(n==="none"){return}oR(i,(function(e){var t=e.getData();var i=t.mapDimensionsAll(r);if(!i.length){return}if(n==="weakFilter"){var l=t.getStore();var u=a.map(i,(function(e){return t.getDimensionIndex(e)}),t);t.filterSelf((function(e){var t;var r;var a;for(var n=0;n<i.length;n++){var s=l.get(u[n],e);var c=!isNaN(s);var v=s<o[0];var f=s>o[1];if(c&&!v&&!f){return true}c&&(a=true);v&&(t=true);f&&(r=true)}return a&&t&&r}))}else{oR(i,(function(r){if(n==="empty"){e.setData(t=t.map(r,(function(e){return!s(e)?NaN:e})))}else{var a={};a[r]=o;t.selectRange(a)}}))}oR(i,(function(e){t.setApproximateExtent(o,e)}))}));function s(e){return e>=o[0]&&e<=o[1]}};e.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={};var t=this._dataZoomModel;var r=this._dataExtent;oR(["min","max"],(function(a){var i=t.get(a+"Span");var n=t.get(a+"ValueSpan");n!=null&&(n=this.getAxisModel().axis.scale.parse(n));if(n!=null){i=dt(r[0]+n,r,[0,100],true)}else if(i!=null){n=dt(i,[0,100],r,true)-r[0]}e[a+"Span"]=i;e[a+"ValueSpan"]=n}),this)};e.prototype._setAxisModel=function(){var e=this.getAxisModel();var t=this._percentWindow;var r=this._valueWindow;if(!t){return}var a=_t(r,[0,500]);a=Math.min(a,20);var i=e.axis.scale.rawExtentInfo;if(t[0]!==0){i.setDeterminedMinMax("min",+r[0].toFixed(a))}if(t[1]!==100){i.setDeterminedMinMax("max",+r[1].toFixed(a))}i.freeze()};return e}();function uR(e,t,r){var a=[Infinity,-Infinity];oR(r,(function(e){qp(a,e.getData(),t)}));var i=e.getAxisModel();var n=Rp(i.axis.scale,i,a).calculate();return[n.min,n.max]}var cR={getTargetSeries:function(e){function t(t){e.eachComponent("dataZoom",(function(r){r.eachTargetAxis((function(a,i){var n=e.getComponent(JO(a),i);t(a,i,n,r)}))}))}t((function(e,t,r,a){r.__dzAxisProxy=null}));var r=[];t((function(t,a,i,n){if(!i.__dzAxisProxy){i.__dzAxisProxy=new lR(t,a,n,e);r.push(i.__dzAxisProxy)}}));var a=o();s(r,(function(e){s(e.getTargetSeriesModels(),(function(e){a.set(e.uid,e)}))}));return a},overallReset:function(e,t){e.eachComponent("dataZoom",(function(e){e.eachTargetAxis((function(t,r){e.getAxisProxy(t,r).reset(e)}));e.eachTargetAxis((function(r,a){e.getAxisProxy(r,a).filterData(e,t)}))}));e.eachComponent("dataZoom",(function(e){var t=e.findRepresentativeAxisProxy();if(t){var r=t.getDataPercentWindow();var a=t.getDataValueWindow();e.setCalculatedRange({start:r[0],end:r[1],startValue:a[0],endValue:a[1]})}}))}};function vR(e){e.registerAction("dataZoom",(function(e,t){var r=$O(t,e);s(r,(function(t){t.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})}))}))}var fR=false;function hR(e){if(fR){return}fR=true;e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,cR);vR(e);e.registerSubTypeDefaulter("dataZoom",(function(){return"slider"}))}function dR(e){e.registerComponentModel(aR);e.registerComponentView(nR);hR(e)}var pR=function(){function e(){}return e}();var gR={};function yR(e,t){gR[e]=t}function mR(e){return gR[e]}var xR=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;a.each(this.option.feature,(function(t,r){var i=mR(r);if(i){if(i.getDefaultOption){i.defaultOption=i.getDefaultOption(e)}a.merge(t,i.defaultOption)}}))};r.type="toolbox";r.layoutMode={type:"box",ignoreSize:true};r.defaultOption={show:true,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:true,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:false,position:"bottom"}};return r}(qo);function _R(e,t,r){var a=t.getBoxLayoutParams();var i=t.get("padding");var n={width:r.getWidth(),height:r.getHeight()};var o=Fo(a,n,i);Bo(t.get("orient"),e,t.get("itemGap"),o.width,o.height);Ho(e,a,n,i)}function bR(e,t){var r=Mo(t.get("padding"));var a=t.getItemStyle(["color","opacity"]);a.fill=t.get("backgroundColor");e=new ge({shape:{x:e.x-r[3],y:e.y-r[0],width:e.width+r[1]+r[3],height:e.height+r[0]+r[2],r:t.get("borderRadius")},style:a,silent:true,z2:-1});return e}var SR=function(t){e(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}r.prototype.render=function(e,t,r,i){var n=this.group;n.removeAll();if(!e.get("show")){return}var o=+e.get("itemSize");var s=e.get("orient")==="vertical";var l=e.get("feature")||{};var u=this._features||(this._features={});var c=[];a.each(l,(function(e,t){c.push(t)}));new Bh(this._featureNames||[],c).add(v).update(v).remove(a.curry(v,null)).execute();this._featureNames=c;function v(a,n){var o=c[a];var s=c[n];var v=l[o];var h=new Mn(v,e,e.ecModel);var d;if(i&&i.newTitle!=null&&i.featureName===o){v.title=i.newTitle}if(o&&!s){if(wR(o)){d={onclick:h.option.onclick,featureName:o}}else{var p=mR(o);if(!p){return}d=new p}u[o]=d}else{d=u[s];if(!d){return}}d.uid=Dn("toolbox-feature");d.model=h;d.ecModel=t;d.api=r;var g=d instanceof pR;if(!o&&s){g&&d.dispose&&d.dispose(t,r);return}if(!h.get("show")||g&&d.unusable){g&&d.remove&&d.remove(t,r);return}f(h,d,o);h.setIconStatus=function(e,t){var r=this.option;var a=this.iconPaths;r.iconStatus=r.iconStatus||{};r.iconStatus[e]=t;if(a[e]){(t==="emphasis"?Aa:La)(a[e])}};if(d instanceof pR){if(d.render){d.render(h,t,r,i)}}}function f(i,l,u){var c=i.getModel("iconStyle");var v=i.getModel(["emphasis","iconStyle"]);var f=l instanceof pR&&l.getIcons?l.getIcons():i.get("icon");var h=i.get("title")||{};var d;var p;if(a.isString(f)){d={};d[u]=f}else{d=f}if(a.isString(h)){p={};p[u]=h}else{p=h}var g=i.iconPaths={};a.each(d,(function(u,f){var h=Fi(u,{},{x:-o/2,y:-o/2,width:o,height:o});h.setStyle(c.getItemStyle());var d=h.ensureState("emphasis");d.style=v.getItemStyle();var y=new U({style:{text:p[f],align:v.get("textAlign"),borderRadius:v.get("textBorderRadius"),padding:v.get("textPadding"),fill:null,font:cn({fontStyle:v.get("textFontStyle"),fontFamily:v.get("textFontFamily"),fontSize:v.get("textFontSize"),fontWeight:v.get("textFontWeight")},t)},ignore:true});h.setTextContent(y);Xi({el:h,componentModel:e,itemName:f,formatterParamsExtra:{title:p[f]}});h.__title=p[f];h.on("mouseover",(function(){var t=v.getItemStyle();var a=s?e.get("right")==null&&e.get("left")!=="right"?"right":"left":e.get("bottom")==null&&e.get("top")!=="bottom"?"bottom":"top";y.setStyle({fill:v.get("textFill")||t.fill||t.stroke||"#000",backgroundColor:v.get("textBackgroundColor")});h.setTextConfig({position:v.get("textPosition")||a});y.ignore=!e.get("showTitle");r.enterEmphasis(this)})).on("mouseout",(function(){if(i.get(["iconStatus",f])!=="emphasis"){r.leaveEmphasis(this)}y.hide()}));(i.get(["iconStatus",f])==="emphasis"?Aa:La)(h);n.add(h);h.on("click",a.bind(l.onclick,l,t,r,f));g[f]=h}))}_R(n,e,r);n.add(bR(n.getBoundingRect(),e));s||n.eachChild((function(e){var t=e.__title;var i=e.ensureState("emphasis");var s=i.textConfig||(i.textConfig={});var l=e.getTextContent();var u=l&&l.ensureState("emphasis");if(u&&!a.isFunction(u)&&t){var c=u.style||(u.style={});var v=Ne.getBoundingRect(t,U.makeFont(c));var f=e.x+n.x;var h=e.y+n.y+o;var d=false;if(h+v.height>r.getHeight()){s.position="top";d=true}var p=d?-5-v.height:o+10;if(f+v.width/2>r.getWidth()){s.position=["100%",p];c.align="right"}else if(f-v.width/2<0){s.position=[0,p];c.align="left"}}}))};r.prototype.updateView=function(e,t,r,i){a.each(this._features,(function(e){e instanceof pR&&e.updateView&&e.updateView(e.model,t,r,i)}))};r.prototype.remove=function(e,t){a.each(this._features,(function(r){r instanceof pR&&r.remove&&r.remove(e,t)}));this.group.removeAll()};r.prototype.dispose=function(e,t){a.each(this._features,(function(r){r instanceof pR&&r.dispose&&r.dispose(e,t)}))};r.type="toolbox";return r}(gc);function wR(e){return e.indexOf("my")===0}var MR=function(t){e(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}r.prototype.onclick=function(e,t){var r=this.model;var a=r.get("name")||e.get("title.0.text")||"echarts";var i=t.getZr().painter.getType()==="svg";var n=i?"svg":r.get("type",true)||"png";var o=t.getConnectedDataURL({type:n,backgroundColor:r.get("backgroundColor",true)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")});var s=F.browser;if(typeof MouseEvent==="function"&&(s.newEdge||!s.ie&&!s.edge)){var l=document.createElement("a");l.download=a+"."+n;l.target="_blank";l.href=o;var u=new MouseEvent("click",{view:document.defaultView,bubbles:true,cancelable:false});l.dispatchEvent(u)}else{if(window.navigator.msSaveOrOpenBlob||i){var c=o.split(",");var v=c[0].indexOf("base64")>-1;var f=i?decodeURIComponent(c[1]):c[1];v&&(f=window.atob(f));var h=a+"."+n;if(window.navigator.msSaveOrOpenBlob){var d=f.length;var p=new Uint8Array(d);while(d--){p[d]=f.charCodeAt(d)}var g=new Blob([p]);window.navigator.msSaveOrOpenBlob(g,h)}else{var y=document.createElement("iframe");document.body.appendChild(y);var m=y.contentWindow;var x=m.document;x.open("image/svg+xml","replace");x.write(f);x.close();m.focus();x.execCommand("SaveAs",true,h);document.body.removeChild(y)}}else{var _=r.get("lang");var b=""+'<body style="margin:0;">'+'<img src="'+o+'" style="max-width:100%;" title="'+(_&&_[0]||"")+'" />'+"</body>";var S=window.open();S.document.write(b);S.document.title=a}}};r.getDefaultOption=function(e){var t={show:true,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return t};return r}(pR);var IR="__ec_magicType_stack__";var DR=[["line","bar"],["stack"]];var TR=function(t){e(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}r.prototype.getIcons=function(){var e=this.model;var t=e.get("icon");var r={};a.each(e.get("type"),(function(e){if(t[e]){r[e]=t[e]}}));return r};r.getDefaultOption=function(e){var t={show:true,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return t};r.prototype.onclick=function(e,t,r){var i=this.model;var n=i.get(["seriesIndex",r]);if(!CR[r]){return}var o={series:[]};var s=function(e){var t=e.subType;var n=e.id;var s=CR[r](t,n,e,i);if(s){a.defaults(s,e.option);o.series.push(s)}var l=e.coordinateSystem;if(l&&l.type==="cartesian2d"&&(r==="line"||r==="bar")){var u=l.getAxesByScale("ordinal")[0];if(u){var c=u.dim;var v=c+"Axis";var f=e.getReferringComponents(v,_r).models[0];var h=f.componentIndex;o[v]=o[v]||[];for(var d=0;d<=h;d++){o[v][h]=o[v][h]||{}}o[v][h].boundaryGap=r==="bar"}}};a.each(DR,(function(e){if(a.indexOf(e,r)>=0){a.each(e,(function(e){i.setIconStatus(e,"normal")}))}}));i.setIconStatus(r,"emphasis");e.eachComponent({mainType:"series",query:n==null?null:{seriesIndex:n}},s);var l;var u=r;if(r==="stack"){l=a.merge({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title);if(i.get(["iconStatus",r])!=="emphasis"){u="tiled"}}t.dispatchAction({type:"changeMagicType",currentType:u,newOption:o,newTitle:l,featureName:"magicType"})};return r}(pR);var CR={line:function(e,t,r,i){if(e==="bar"){return a.merge({id:t,type:"line",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},i.get(["option","line"])||{},true)}},bar:function(e,t,r,i){if(e==="line"){return a.merge({id:t,type:"bar",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},i.get(["option","bar"])||{},true)}},stack:function(e,t,r,i){var n=r.get("stack")===IR;if(e==="line"||e==="bar"){i.setIconStatus("stack",n?"normal":"emphasis");return a.merge({id:t,stack:n?"":IR},i.get(["option","stack"])||{},true)}}};bh({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(e,t){t.mergeOption(e.newOption)}));var AR=new Array(60).join("-");var LR="\t";function kR(e){var t={};var r=[];var a=[];e.eachRawSeries((function(e){var i=e.coordinateSystem;if(i&&(i.type==="cartesian2d"||i.type==="polar")){var n=i.getBaseAxis();if(n.type==="category"){var o=n.dim+"_"+n.index;if(!t[o]){t[o]={categoryAxis:n,valueAxis:i.getOtherAxis(n),series:[]};a.push({axisDim:n.dim,axisIndex:n.index})}t[o].series.push(e)}else{r.push(e)}}else{r.push(e)}}));return{seriesGroupByCategoryAxis:t,other:r,meta:a}}function PR(e){var t=[];a.each(e,(function(e,r){var i=e.categoryAxis;var n=e.valueAxis;var o=n.dim;var s=[" "].concat(a.map(e.series,(function(e){return e.name})));var l=[i.model.getCategories()];a.each(e.series,(function(e){var t=e.getRawData();l.push(e.getRawData().mapArray(t.mapDimension(o),(function(e){return e})))}));var u=[s.join(LR)];for(var c=0;c<l[0].length;c++){var v=[];for(var f=0;f<l.length;f++){v.push(l[f][c])}u.push(v.join(LR))}t.push(u.join("\n"))}));return t.join("\n\n"+AR+"\n\n")}function NR(e){return a.map(e,(function(e){var t=e.getRawData();var r=[e.name];var a=[];t.each(t.dimensions,(function(){var e=arguments.length;var i=arguments[e-1];var n=t.getName(i);for(var o=0;o<e-1;o++){a[o]=arguments[o]}r.push((n?n+LR:"")+a.join(LR))}));return r.join("\n")})).join("\n\n"+AR+"\n\n")}function OR(e){var t=kR(e);return{value:a.filter([PR(t.seriesGroupByCategoryAxis),NR(t.other)],(function(e){return!!e.replace(/[\n\t\s]/g,"")})).join("\n\n"+AR+"\n\n"),meta:t.meta}}function RR(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ER(e){var t=e.slice(0,e.indexOf("\n"));if(t.indexOf(LR)>=0){return true}}var zR=new RegExp("["+LR+"]+","g");function VR(e){var t=e.split(/\n+/g);var r=RR(t.shift()).split(zR);var i=[];var n=a.map(r,(function(e){return{name:e,data:[]}}));for(var o=0;o<t.length;o++){var s=RR(t[o]).split(zR);i.push(s.shift());for(var l=0;l<s.length;l++){n[l]&&(n[l].data[o]=s[l])}}return{series:n,categories:i}}function BR(e){var t=e.split(/\n+/g);var r=RR(t.shift());var a=[];for(var i=0;i<t.length;i++){var n=RR(t[i]);if(!n){continue}var o=n.split(zR);var s="";var l=void 0;var u=false;if(isNaN(o[0])){u=true;s=o[0];o=o.slice(1);a[i]={name:s,value:[]};l=a[i].value}else{l=a[i]=[]}for(var c=0;c<o.length;c++){l.push(+o[c])}if(l.length===1){u?a[i].value=l[0]:a[i]=l[0]}}return{name:r,data:a}}function GR(e,t){var r=e.split(new RegExp("\n*"+AR+"\n*","g"));var i={series:[]};a.each(r,(function(e,r){if(ER(e)){var a=VR(e);var n=t[r];var o=n.axisDim+"Axis";if(n){i[o]=i[o]||[];i[o][n.axisIndex]={data:a.categories};i.series=i.series.concat(a.series)}}else{var a=BR(e);i.series.push(a)}}));return i}var FR=function(t){e(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}r.prototype.onclick=function(e,t){setTimeout((function(){t.dispatchAction({type:"hideTip"})}));var r=t.getDom();var i=this.model;if(this._dom){r.removeChild(this._dom)}var n=document.createElement("div");n.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px";n.style.backgroundColor=i.get("backgroundColor")||"#fff";var o=document.createElement("h4");var s=i.get("lang")||[];o.innerHTML=s[0]||i.get("title");o.style.cssText="margin:10px 20px";o.style.color=i.get("textColor");var l=document.createElement("div");var u=document.createElement("textarea");l.style.cssText="overflow:auto";var c=i.get("optionToContent");var v=i.get("contentToOption");var f=OR(e);if(a.isFunction(c)){var h=c(t.getOption());if(a.isString(h)){l.innerHTML=h}else if(a.isDom(h)){l.appendChild(h)}}else{u.readOnly=i.get("readOnly");var d=u.style;d.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none";d.color=i.get("textColor");d.borderColor=i.get("textareaBorderColor");d.backgroundColor=i.get("textareaColor");u.value=f.value;l.appendChild(u)}var p=f.meta;var g=document.createElement("div");g.style.cssText="position:absolute;bottom:5px;left:0;right:0";var y="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px";var m=document.createElement("div");var x=document.createElement("div");y+=";background-color:"+i.get("buttonColor");y+=";color:"+i.get("buttonTextColor");var _=this;function b(){r.removeChild(n);_._dom=null}Je(m,"click",b);Je(x,"click",(function(){if(v==null&&c!=null||v!=null&&c==null){b();return}var e;try{if(a.isFunction(v)){e=v(l,t.getOption())}else{e=GR(u.value,p)}}catch(e){b();throw new Error("Data view format error "+e)}if(e){t.dispatchAction({type:"changeDataView",newOption:e})}b()}));m.innerHTML=s[1];x.innerHTML=s[2];x.style.cssText=m.style.cssText=y;!i.get("readOnly")&&g.appendChild(x);g.appendChild(m);n.appendChild(o);n.appendChild(l);n.appendChild(g);l.style.height=r.clientHeight-80+"px";r.appendChild(n);this._dom=n};r.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)};r.prototype.dispose=function(e,t){this.remove(e,t)};r.getDefaultOption=function(e){var t={show:true,readOnly:false,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return t};return r}(pR);function HR(e,t){return a.map(e,(function(e,r){var i=t&&t[r];if(a.isObject(i)&&!a.isArray(i)){var n=a.isObject(e)&&!a.isArray(e);if(!n){e={value:e}}var o=i.name!=null&&e.name==null;e=a.defaults(e,i);o&&delete e.name;return e}else{return e}}))}bh({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(e,t){var r=[];a.each(e.newOption.series,(function(e){var i=t.getSeriesByName(e.name)[0];if(!i){r.push(a.extend({type:"scatter"},e))}else{var n=i.get("data");r.push({name:e.name,data:HR(e.data,n)})}}));t.mergeOption(a.defaults({series:r},e.newOption))}));var WR=a.each;var UR=gr();function YR(e,t){var r=qR(e);WR(t,(function(t,a){var i=r.length-1;for(;i>=0;i--){var n=r[i];if(n[a]){break}}if(i<0){var o=e.queryComponents({mainType:"dataZoom",subType:"select",id:a})[0];if(o){var s=o.getPercentRange();r[0][a]={dataZoomId:a,start:s[0],end:s[1]}}}}));r.push(t)}function XR(e){var t=qR(e);var r=t[t.length-1];t.length>1&&t.pop();var a={};WR(r,(function(e,r){for(var i=t.length-1;i>=0;i--){e=t[i][r];if(e){a[r]=e;break}}}));return a}function ZR(e){UR(e).snapshots=null}function jR(e){return qR(e).length}function qR(e){var t=UR(e);if(!t.snapshots){t.snapshots=[{}]}return t.snapshots}var KR=function(t){e(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}r.prototype.onclick=function(e,t){ZR(e);t.dispatchAction({type:"restore",from:this.uid})};r.getDefaultOption=function(e){var t={show:true,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])};return t};return r}(pR);bh({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(e,t){t.resetOption("recreate")}));var JR=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];var $R=function(){function e(e,t,r){var a=this;this._targetInfoList=[];var i=eE(t,e);s(tE,(function(e,t){if(!r||!r.include||h(r.include,t)>=0){e(i,a._targetInfoList)}}))}e.prototype.setOutputRanges=function(e,t){this.matchOutputRanges(e,t,(function(e,t,r){(e.coordRanges||(e.coordRanges=[])).push(t);if(!e.coordRange){e.coordRange=t;var a=iE[e.brushType](0,r,t);e.__rangeOffset={offset:oE[e.brushType](a.values,e.range,[1,1]),xyMinMax:a.xyMinMax}}}));return e};e.prototype.matchOutputRanges=function(e,t,r){s(e,(function(e){var a=this.findTargetInfo(e,t);if(a&&a!==true){s(a.coordSyses,(function(a){var i=iE[e.brushType](1,a,e.range,true);r(e,i.values,a,t)}))}}),this)};e.prototype.setInputRanges=function(e,t){s(e,(function(e){var r=this.findTargetInfo(e,t);e.range=e.range||[];if(r&&r!==true){e.panelId=r.panelId;var a=iE[e.brushType](0,r.coordSys,e.coordRange);var i=e.__rangeOffset;e.range=i?oE[e.brushType](a.values,i.offset,lE(a.xyMinMax,i.xyMinMax)):a.values}}),this)};e.prototype.makePanelOpts=function(e,t){return f(this._targetInfoList,(function(r){var a=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:t?t(r):null,clipPath:qT(a),isTargetByCursor:JT(a,e,r.coordSysModel),getLinearBrushOtherExtent:KT(a)}}))};e.prototype.controlSeries=function(e,t,r){var a=this.findTargetInfo(e,r);return a===true||a&&h(a.coordSyses,t.coordinateSystem)>=0};e.prototype.findTargetInfo=function(e,t){var r=this._targetInfoList;var a=eE(t,e);for(var i=0;i<r.length;i++){var n=r[i];var o=e.panelId;if(o){if(n.panelId===o){return n}}else{for(var s=0;s<rE.length;s++){if(rE[s](a,n)){return n}}}}return true};return e}();function QR(e){e[0]>e[1]&&e.reverse();return e}function eE(e,t){return mr(e,t,{includeMainTypes:JR})}var tE={grid:function(e,t){var r=e.xAxisModels;var a=e.yAxisModels;var i=e.gridModels;var n=o();var l={};var u={};if(!r&&!a&&!i){return}s(r,(function(e){var t=e.axis.grid.model;n.set(t.id,t);l[t.id]=true}));s(a,(function(e){var t=e.axis.grid.model;n.set(t.id,t);u[t.id]=true}));s(i,(function(e){n.set(e.id,e);l[e.id]=true;u[e.id]=true}));n.each((function(e){var i=e.coordinateSystem;var n=[];s(i.getCartesians(),(function(e,t){if(h(r,e.getAxis("x").model)>=0||h(a,e.getAxis("y").model)>=0){n.push(e)}}));t.push({panelId:"grid--"+e.id,gridModel:e,coordSysModel:e,coordSys:n[0],coordSyses:n,getPanelRect:aE.grid,xAxisDeclared:l[e.id],yAxisDeclared:u[e.id]})}))},geo:function(e,t){s(e.geoModels,(function(e){var r=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:r,coordSyses:[r],getPanelRect:aE.geo})}))}};var rE=[function(e,t){var r=e.xAxisModel;var a=e.yAxisModel;var i=e.gridModel;!i&&r&&(i=r.axis.grid.model);!i&&a&&(i=a.axis.grid.model);return i&&i===t.gridModel},function(e,t){var r=e.geoModel;return r&&r===t.geoModel}];var aE={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys;var t=e.getBoundingRect().clone();t.applyTransform(Ni(e));return t}};var iE={lineX:N(nE,0),lineY:N(nE,1),rect:function(e,t,r,a){var i=e?t.pointToData([r[0][0],r[1][0]],a):t.dataToPoint([r[0][0],r[1][0]],a);var n=e?t.pointToData([r[0][1],r[1][1]],a):t.dataToPoint([r[0][1],r[1][1]],a);var o=[QR([i[0],n[0]]),QR([i[1],n[1]])];return{values:o,xyMinMax:o}},polygon:function(e,t,r,a){var i=[[Infinity,-Infinity],[Infinity,-Infinity]];var n=f(r,(function(r){var n=e?t.pointToData(r,a):t.dataToPoint(r,a);i[0][0]=Math.min(i[0][0],n[0]);i[1][0]=Math.min(i[1][0],n[1]);i[0][1]=Math.max(i[0][1],n[0]);i[1][1]=Math.max(i[1][1],n[1]);return n}));return{values:n,xyMinMax:i}}};function nE(e,t,r,a){var i=r.getAxis(["x","y"][e]);var n=QR(f([0,1],(function(e){return t?i.coordToData(i.toLocalCoord(a[e]),true):i.toGlobalCoord(i.dataToCoord(a[e]))})));var o=[];o[e]=n;o[1-e]=[NaN,NaN];return{values:n,xyMinMax:o}}var oE={lineX:N(sE,0),lineY:N(sE,1),rect:function(e,t,r){return[[e[0][0]-r[0]*t[0][0],e[0][1]-r[0]*t[0][1]],[e[1][0]-r[1]*t[1][0],e[1][1]-r[1]*t[1][1]]]},polygon:function(e,t,r){return f(e,(function(e,a){return[e[0]-r[0]*t[a][0],e[1]-r[1]*t[a][1]]}))}};function sE(e,t,r,a){return[t[0]-a[e]*r[0],t[1]-a[e]*r[1]]}function lE(e,t){var r=uE(e);var a=uE(t);var i=[r[0]/a[0],r[1]/a[1]];isNaN(i[0])&&(i[0]=1);isNaN(i[1])&&(i[1]=1);return i}function uE(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var cE=a.each;var vE=vr("toolbox-dataZoom_");var fE=function(t){e(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}r.prototype.render=function(e,t,r,i){if(!this._brushController){this._brushController=new fT(r.getZr());this._brushController.on("brush",a.bind(this._onBrush,this)).mount()}gE(e,t,this,i,r);pE(e,t)};r.prototype.onclick=function(e,t,r){hE[r].call(this)};r.prototype.remove=function(e,t){this._brushController&&this._brushController.unmount()};r.prototype.dispose=function(e,t){this._brushController&&this._brushController.dispose()};r.prototype._onBrush=function(e){var t=e.areas;if(!e.isEnd||!t.length){return}var r={};var a=this.ecModel;this._brushController.updateCovers([]);var i=new $R(dE(this.model),a,{include:["grid"]});i.matchOutputRanges(t,a,(function(e,t,r){if(r.type!=="cartesian2d"){return}var a=e.brushType;if(a==="rect"){n("x",r,t[0]);n("y",r,t[1])}else{n({lineX:"x",lineY:"y"}[a],r,t)}}));YR(a,r);this._dispatchZoomAction(r);function n(e,t,i){var n=t.getAxis(e);var s=n.model;var l=o(e,s,a);var u=l.findRepresentativeAxisProxy(s).getMinMaxSpan();if(u.minValueSpan!=null||u.maxValueSpan!=null){i=zD(0,i.slice(),n.scale.getExtent(),0,u.minValueSpan,u.maxValueSpan)}l&&(r[l.id]={dataZoomId:l.id,startValue:i[0],endValue:i[1]})}function o(e,t,r){var a;r.eachComponent({mainType:"dataZoom",subType:"select"},(function(r){var i=r.getAxisModel(e,t.componentIndex);i&&(a=r)}));return a}};r.prototype._dispatchZoomAction=function(e){var t=[];cE(e,(function(e,r){t.push(a.clone(e))}));t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})};r.getDefaultOption=function(e){var t={show:true,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return t};return r}(pR);var hE={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(XR(this.ecModel))}};function dE(e){var t={xAxisIndex:e.get("xAxisIndex",true),yAxisIndex:e.get("yAxisIndex",true),xAxisId:e.get("xAxisId",true),yAxisId:e.get("yAxisId",true)};if(t.xAxisIndex==null&&t.xAxisId==null){t.xAxisIndex="all"}if(t.yAxisIndex==null&&t.yAxisId==null){t.yAxisIndex="all"}return t}function pE(e,t){e.setIconStatus("back",jR(t)>1?"emphasis":"normal")}function gE(e,t,r,a,i){var n=r._isZoomActive;if(a&&a.type==="takeGlobalCursor"){n=a.key==="dataZoomSelect"?a.dataZoomSelectActive:false}r._isZoomActive=n;e.setIconStatus("zoom",n?"emphasis":"normal");var o=new $R(dE(e),t,{include:["grid"]});var s=o.makePanelOpts(i,(function(e){return e.xAxisDeclared&&!e.yAxisDeclared?"lineX":!e.xAxisDeclared&&e.yAxisDeclared?"lineY":"rect"}));r._brushController.setPanels(s).enableBrush(n&&s.length?{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()}:false)}xs("dataZoom",(function(e){var t=e.getComponent("toolbox",0);var r=["feature","dataZoom"];if(!t||t.get(r)==null){return}var a=t.getModel(r);var i=[];var n=dE(a);var o=mr(e,n);cE(o.xAxisModels,(function(e){return s(e,"xAxis","xAxisIndex")}));cE(o.yAxisModels,(function(e){return s(e,"yAxis","yAxisIndex")}));function s(e,t,r){var n=e.componentIndex;var o={type:"select",$fromToolbox:true,filterMode:a.get("filterMode",true)||"filter",id:vE+t+n};o[r]=n;i.push(o)}return i}));function yE(e){e.registerComponentModel(xR);e.registerComponentView(SR);yR("saveAsImage",MR);yR("magicType",TR);yR("dataView",FR);yR("dataZoom",fE);yR("restore",KR);Eh(dR)}var mE=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.type="tooltip";r.dependencies=["axisPointer"];r.defaultOption={z:60,show:true,showContent:true,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:false,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:false,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}};return r}(qo);function xE(e){var t=e.get("confine");return t!=null?!!t:e.get("renderMode")==="richText"}function _E(e){if(!F.domSupported){return}var t=document.documentElement.style;for(var r=0,a=e.length;r<a;r++){if(e[r]in t){return e[r]}}}var bE=_E(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);var SE=_E(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function wE(e,t){if(!e){return t}t=wo(t,true);var r=e.indexOf(t);e=r===-1?t:"-"+e.slice(0,r)+"-"+t;return e.toLowerCase()}function ME(e,t){var r=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return r?t?r[t]:r:null}var IE=wE(SE,"transition");var DE=wE(bE,"transform");var TE="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(F.transform3dSupported?"will-change:transform;":"");function CE(e){e=e==="left"?"right":e==="right"?"left":e==="top"?"bottom":"top";return e}function AE(e,t,r){if(!u(r)||r==="inside"){return""}var a=e.get("backgroundColor");var i=e.get("borderWidth");t=No(t);var n=CE(r);var o=Math.max(Math.round(i)*1.5,6);var s="";var l=DE+":";var c;if(h(["left","right"],n)>-1){s+="top:50%";l+="translateY(-50%) rotate("+(c=n==="left"?-225:-45)+"deg)"}else{s+="left:50%";l+="translateX(-50%) rotate("+(c=n==="top"?225:45)+"deg)"}var v=c*Math.PI/180;var f=o+i;var d=f*Math.abs(Math.cos(v))+f*Math.abs(Math.sin(v));var p=Math.round(((d-Math.SQRT2*i)/2+Math.SQRT2*i-(d-f)/2)*100)/100;s+=";"+n+":-"+p+"px";var g=t+" solid "+i+"px;";var y=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+g,"border-right:"+g,"background-color:"+a+";"];return'<div style="'+y.join("")+'"></div>'}function LE(e,t){var r="cubic-bezier(0.23,1,0.32,1)";var a=" "+e/2+"s "+r;var i="opacity"+a+",visibility"+a;if(!t){a=" "+e+"s "+r;i+=F.transformSupported?","+DE+a:",left"+a+",top"+a}return IE+":"+i}function kE(e,t,r){var a=e.toFixed(0)+"px";var i=t.toFixed(0)+"px";if(!F.transformSupported){return r?"top:"+i+";left:"+a+";":[["top",i],["left",a]]}var n=F.transform3dSupported;var o="translate"+(n?"3d":"")+"("+a+","+i+(n?",0":"")+")";return r?"top:0;left:0;"+DE+":"+o+";":[["top",0],["left",0],[bE,o]]}function PE(e){var t=[];var r=e.get("fontSize");var a=e.getTextColor();a&&t.push("color:"+a);t.push("font:"+e.getFont());r&&t.push("line-height:"+Math.round(r*3/2)+"px");var i=e.get("textShadowColor");var n=e.get("textShadowBlur")||0;var o=e.get("textShadowOffsetX")||0;var l=e.get("textShadowOffsetY")||0;i&&n&&t.push("text-shadow:"+o+"px "+l+"px "+n+"px "+i);s(["decoration","align"],(function(r){var a=e.get(r);a&&t.push("text-"+r+":"+a)}));return t.join(";")}function NE(e,t,r){var a=[];var i=e.get("transitionDuration");var n=e.get("backgroundColor");var o=e.get("shadowBlur");var l=e.get("shadowColor");var u=e.get("shadowOffsetX");var c=e.get("shadowOffsetY");var v=e.getModel("textStyle");var f=ec(e,"html");var h=u+"px "+c+"px "+o+"px "+l;a.push("box-shadow:"+h);t&&i&&a.push(LE(i,r));if(n){a.push("background-color:"+n)}s(["width","color","radius"],(function(t){var r="border-"+t;var i=wo(r);var n=e.get(i);n!=null&&a.push(r+":"+n+(t==="color"?"":"px"))}));a.push(PE(v));if(f!=null){a.push("padding:"+Mo(f).join("px ")+"px")}return a.join(";")+";"}function OE(e,t,r,a,i){var n=t&&t.painter;if(r){var o=n&&n.getViewportRoot();if(o){Ae(e,o,r,a,i)}}else{e[0]=a;e[1]=i;var s=n&&n.getViewportRootOffset();if(s){e[0]+=s.offsetLeft;e[1]+=s.offsetTop}}e[2]=e[0]/t.getWidth();e[3]=e[1]/t.getHeight()}var RE=function(){function e(e,t){this._show=false;this._styleCoord=[0,0,0,0];this._enterable=true;this._alwaysShowContent=false;this._firstShow=true;this._longHide=true;if(F.wxa){return null}var r=document.createElement("div");r.domBelongToZr=true;this.el=r;var a=this._zr=e.getZr();var i=t.appendTo;var n=i&&(u(i)?document.querySelector(i):B(i)?i:m(i)&&i(e.getDom()));OE(this._styleCoord,a,n,e.getWidth()/2,e.getHeight()/2);(n||e.getDom()).appendChild(r);this._api=e;this._container=n;var o=this;r.onmouseenter=function(){if(o._enterable){clearTimeout(o._hideTimeout);o._show=true}o._inContent=true};r.onmousemove=function(e){e=e||window.event;if(!o._enterable){var t=a.handler;var r=a.painter.getViewportRoot();$e(r,e,true);t.dispatch("mousemove",e)}};r.onmouseleave=function(){o._inContent=false;if(o._enterable){if(o._show){o.hideLater(o._hideDelay)}}}}e.prototype.update=function(e){if(!this._container){var t=this._api.getDom();var r=ME(t,"position");var a=t.style;if(a.position!=="absolute"&&r!=="absolute"){a.position="relative"}}var i=e.get("alwaysShowContent");i&&this._moveIfResized();this._alwaysShowContent=i;this.el.className=e.get("className")||""};e.prototype.show=function(e,t){clearTimeout(this._hideTimeout);clearTimeout(this._longHideTimeout);var r=this.el;var a=r.style;var i=this._styleCoord;if(!r.innerHTML){a.display="none"}else{a.cssText=TE+NE(e,!this._firstShow,this._longHide)+kE(i[0],i[1],true)+("border-color:"+No(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none"))}this._show=true;this._firstShow=false;this._longHide=false};e.prototype.setContent=function(e,t,r,a,i){var o=this.el;if(e==null){o.innerHTML="";return}var s="";if(u(i)&&r.get("trigger")==="item"&&!xE(r)){s=AE(r,a,i)}if(u(e)){o.innerHTML=e+s}else if(e){o.innerHTML="";if(!n(e)){e=[e]}for(var l=0;l<e.length;l++){if(B(e[l])&&e[l].parentNode!==o){o.appendChild(e[l])}}if(s&&o.childNodes.length){var c=document.createElement("div");c.innerHTML=s;o.appendChild(c)}}};e.prototype.setEnterable=function(e){this._enterable=e};e.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]};e.prototype.moveTo=function(e,t){var r=this._styleCoord;OE(r,this._zr,this._container,e,t);if(r[0]!=null&&r[1]!=null){var a=this.el.style;var i=kE(r[0],r[1]);s(i,(function(e){a[e[0]]=e[1]}))}};e.prototype._moveIfResized=function(){var e=this._styleCoord[2];var t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())};e.prototype.hide=function(){var e=this;var t=this.el.style;t.visibility="hidden";t.opacity="0";F.transform3dSupported&&(t.willChange="");this._show=false;this._longHideTimeout=setTimeout((function(){return e._longHide=true}),500)};e.prototype.hideLater=function(e){if(this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent){if(e){this._hideDelay=e;this._show=false;this._hideTimeout=setTimeout(C(this.hide,this),e)}else{this.hide()}}};e.prototype.isShow=function(){return this._show};e.prototype.dispose=function(){clearTimeout(this._hideTimeout);clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el);this.el=this._container=null};return e}();var EE=function(){function e(e){this._show=false;this._styleCoord=[0,0,0,0];this._alwaysShowContent=false;this._enterable=true;this._zr=e.getZr();BE(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}e.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized();this._alwaysShowContent=t};e.prototype.show=function(){if(this._hideTimeout){clearTimeout(this._hideTimeout)}this.el.show();this._show=true};e.prototype.setContent=function(e,t,r,i,n){var o=this;if(a.isObject(e)){Ut("")}if(this.el){this._zr.remove(this.el)}var s=r.getModel("textStyle");this.el=new U({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:ec(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")});a.each(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],(function(e){o.el.style[e]=r.get(e)}));a.each(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],(function(e){o.el.style[e]=s.get(e)||0}));this._zr.add(this.el);var l=this;this.el.on("mouseover",(function(){if(l._enterable){clearTimeout(l._hideTimeout);l._show=true}l._inContent=true}));this.el.on("mouseout",(function(){if(l._enterable){if(l._show){l.hideLater(l._hideDelay)}}l._inContent=false}))};e.prototype.setEnterable=function(e){this._enterable=e};e.prototype.getSize=function(){var e=this.el;var t=this.el.getBoundingRect();var r=VE(e.style);return[t.width+r.left+r.right,t.height+r.top+r.bottom]};e.prototype.moveTo=function(e,t){var r=this.el;if(r){var a=this._styleCoord;BE(a,this._zr,e,t);e=a[0];t=a[1];var i=r.style;var n=zE(i.borderWidth||0);var o=VE(i);r.x=e+n+o.left;r.y=t+n+o.top;r.markRedraw()}};e.prototype._moveIfResized=function(){var e=this._styleCoord[2];var t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())};e.prototype.hide=function(){if(this.el){this.el.hide()}this._show=false};e.prototype.hideLater=function(e){if(this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent){if(e){this._hideDelay=e;this._show=false;this._hideTimeout=setTimeout(a.bind(this.hide,this),e)}else{this.hide()}}};e.prototype.isShow=function(){return this._show};e.prototype.dispose=function(){this._zr.remove(this.el)};return e}();function zE(e){return Math.max(0,e)}function VE(e){var t=zE(e.shadowBlur||0);var r=zE(e.shadowOffsetX||0);var a=zE(e.shadowOffsetY||0);return{left:zE(t-r),right:zE(t+r),top:zE(t-a),bottom:zE(t+a)}}function BE(e,t,r,a){e[0]=r;e[1]=a;e[2]=e[0]/t.getWidth();e[3]=e[1]/t.getHeight()}var GE=new ge({shape:{x:-1,y:-1,width:2,height:2}});var FE=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.init=function(e,t){if(F.node||!t.getDom()){return}var r=e.getComponent("tooltip");var a=this._renderMode=Ir(r.get("renderMode"));this._tooltipContent=a==="richText"?new EE(t):new RE(t,{appendTo:r.get("appendToBody",true)?"body":r.get("appendTo",true)})};r.prototype.render=function(e,t,r){if(F.node||!r.getDom()){return}this.group.removeAll();this._tooltipModel=e;this._ecModel=t;this._api=r;var a=this._tooltipContent;a.update(e);a.setEnterable(e.get("enterable"));this._initGlobalListener();this._keepShow();if(this._renderMode!=="richText"&&e.get("transitionDuration")){Lc(this,"_updatePosition",50,"fixRate")}else{kc(this,"_updatePosition")}};r.prototype._initGlobalListener=function(){var e=this._tooltipModel;var t=e.get("triggerOn");JP("itemTooltip",this._api,C((function(e,r,a){if(t!=="none"){if(t.indexOf(e)>=0){this._tryShow(r,a)}else if(e==="leave"){this._hide(a)}}}),this))};r.prototype._keepShow=function(){var e=this._tooltipModel;var t=this._ecModel;var r=this._api;var a=e.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var i=this;clearTimeout(this._refreshUpdateTimeout);this._refreshUpdateTimeout=setTimeout((function(){!r.isDisposed()&&i.manuallyShowTip(e,t,r,{x:i._lastX,y:i._lastY,dataByCoordSys:i._lastDataByCoordSys})}))}};r.prototype.manuallyShowTip=function(e,t,r,a){if(a.from===this.uid||F.node||!r.getDom()){return}var i=WE(a,r);this._ticket="";var n=a.dataByCoordSys;var o=jE(a,t,r);if(o){var s=o.el.getBoundingRect().clone();s.applyTransform(o.el.transform);this._tryShow({offsetX:s.x+s.width/2,offsetY:s.y+s.height/2,target:o.el,position:a.position,positionDefault:"bottom"},i)}else if(a.tooltip&&a.x!=null&&a.y!=null){var l=GE;l.x=a.x;l.y=a.y;l.update();Xr(l).tooltipConfig={name:null,option:a.tooltip};this._tryShow({offsetX:a.x,offsetY:a.y,target:l},i)}else if(n){this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:n,tooltipOption:a.tooltipOption},i)}else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(e,t,r,a)){return}var u=nN(a,t);var c=u.point[0];var v=u.point[1];if(c!=null&&v!=null){this._tryShow({offsetX:c,offsetY:v,target:u.el,position:a.position,positionDefault:"bottom"},i)}}else if(a.x!=null&&a.y!=null){r.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y});this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:r.getZr().findHover(a.x,a.y).target},i)}};r.prototype.manuallyHideTip=function(e,t,r,a){var i=this._tooltipContent;if(this._tooltipModel){i.hideLater(this._tooltipModel.get("hideDelay"))}this._lastX=this._lastY=this._lastDataByCoordSys=null;if(a.from!==this.uid){this._hide(WE(a,r))}};r.prototype._manuallyAxisShowTip=function(e,t,r,a){var i=a.seriesIndex;var n=a.dataIndex;var o=t.getComponent("axisPointer").coordSysAxesInfo;if(i==null||n==null||o==null){return}var s=t.getSeriesByIndex(i);if(!s){return}var l=s.getData();var u=HE([l.getItemModel(n),s,(s.coordinateSystem||{}).model],this._tooltipModel);if(u.get("trigger")!=="axis"){return}r.dispatchAction({type:"updateAxisPointer",seriesIndex:i,dataIndex:n,position:a.position});return true};r.prototype._tryShow=function(e,t){var r=e.target;var a=this._tooltipModel;if(!a){return}this._lastX=e.offsetX;this._lastY=e.offsetY;var i=e.dataByCoordSys;if(i&&i.length){this._showAxisTooltip(i,e)}else if(r){var n=Xr(r);if(n.ssrType==="legend"){return}this._lastDataByCoordSys=null;var o;var s;Sv(r,(function(e){if(Xr(e).dataIndex!=null){o=e;return true}if(Xr(e).tooltipConfig!=null){s=e;return true}}),true);if(o){this._showSeriesItemTooltip(e,o,t)}else if(s){this._showComponentItemTooltip(e,s,t)}else{this._hide(t)}}else{this._lastDataByCoordSys=null;this._hide(t)}};r.prototype._showOrMove=function(e,t){var r=e.get("showDelay");t=C(t,this);clearTimeout(this._showTimout);r>0?this._showTimout=setTimeout(t,r):t()};r.prototype._showAxisTooltip=function(e,t){var r=this._ecModel;var a=this._tooltipModel;var i=[t.offsetX,t.offsetY];var n=HE([t.tooltipOption],a);var o=this._renderMode;var l=[];var u=Gu("section",{blocks:[],noHeader:true});var c=[];var v=new tc;s(e,(function(e){s(e.dataByAxis,(function(e){var t=r.getComponent(e.axisDim+"Axis",e.axisIndex);var i=e.value;if(!t||i==null){return}var n=VP(i,t.axis,r,e.seriesDataIndices,e.valueLabelOpt);var f=Gu("section",{header:n,noHeader:!b(n),sortBlocks:true,blocks:[]});u.blocks.push(f);s(e.seriesDataIndices,(function(s){var u=r.getSeriesByIndex(s.seriesIndex);var h=s.dataIndexInside;var p=u.getDataParams(h);if(p.dataIndex<0){return}p.axisDim=e.axisDim;p.axisIndex=e.axisIndex;p.axisType=e.axisType;p.axisId=e.axisId;p.axisValue=Wp(t.axis,{value:i});p.axisValueLabel=n;p.marker=v.makeTooltipMarker("item",No(p.color),o);var g=Jl(u.formatTooltip(h,true,null));var y=g.frag;if(y){var m=HE([u],a).get("valueFormatter");f.blocks.push(m?d({valueFormatter:m},y):y)}if(g.text){c.push(g.text)}l.push(p)}))}))}));u.blocks.reverse();c.reverse();var f=t.position;var h=n.get("order");var p=Xu(u,v,o,h,r.get("useUTC"),n.get("textStyle"));p&&c.unshift(p);var g=o==="richText"?"\n\n":"<br/>";var y=c.join(g);this._showOrMove(n,(function(){if(this._updateContentNotChangedOnAxis(e,l)){this._updatePosition(n,f,i[0],i[1],this._tooltipContent,l)}else{this._showTooltipContent(n,y,l,Math.random()+"",i[0],i[1],f,null,v)}}))};r.prototype._showSeriesItemTooltip=function(e,t,r){var a=this._ecModel;var i=Xr(t);var n=i.seriesIndex;var o=a.getSeriesByIndex(n);var s=i.dataModel||o;var l=i.dataIndex;var u=i.dataType;var c=s.getData(u);var v=this._renderMode;var f=e.positionDefault;var h=HE([c.getItemModel(l),s,o&&(o.coordinateSystem||{}).model],this._tooltipModel,f?{position:f}:null);var p=h.get("trigger");if(p!=null&&p!=="item"){return}var g=s.getDataParams(l,u);var y=new tc;g.marker=y.makeTooltipMarker("item",No(g.color),v);var m=Jl(s.formatTooltip(l,false,u));var x=h.get("order");var _=h.get("valueFormatter");var b=m.frag;var S=b?Xu(_?d({valueFormatter:_},b):b,y,v,x,a.get("useUTC"),h.get("textStyle")):m.text;var w="item_"+s.name+"_"+l;this._showOrMove(h,(function(){this._showTooltipContent(h,S,g,w,e.offsetX,e.offsetY,e.position,e.target,y)}));r({type:"showTip",dataIndexInside:l,dataIndex:c.getRawIndex(l),seriesIndex:n,from:this.uid})};r.prototype._showComponentItemTooltip=function(e,t,r){var a=this._renderMode==="html";var i=Xr(t);var n=i.tooltipConfig;var o=n.option||{};var s=o.encodeHTMLContent;if(u(o)){var l=o;o={content:l,formatter:l};s=true}if(s&&a&&o.content){o=w(o);o.content=Ce(o.content)}var c=[o];var v=this._ecModel.getComponent(i.componentMainType,i.componentIndex);if(v){c.push(v)}c.push({formatter:o.content});var f=e.positionDefault;var h=HE(c,this._tooltipModel,f?{position:f}:null);var d=h.get("content");var p=Math.random()+"";var g=new tc;this._showOrMove(h,(function(){var r=w(h.get("formatterParams")||{});this._showTooltipContent(h,d,r,p,e.offsetX,e.offsetY,e.position,t,g)}));r({type:"showTip",from:this.uid})};r.prototype._showTooltipContent=function(e,t,r,a,i,o,s,l,c){this._ticket="";if(!e.get("showContent")||!e.get("show")){return}var v=this._tooltipContent;v.setEnterable(e.get("enterable"));var f=e.get("formatter");s=s||e.get("position");var h=t;var d=this._getNearestPoint([i,o],r,e.get("trigger"),e.get("borderColor"));var p=d.color;if(f){if(u(f)){var g=e.ecModel.get("useUTC");var y=n(r)?r[0]:r;var x=y&&y.axisType&&y.axisType.indexOf("time")>=0;h=f;if(x){h=ro(y.axisValue,h,g)}h=Co(h,r,true)}else if(m(f)){var _=C((function(t,a){if(t===this._ticket){v.setContent(a,c,e,p,s);this._updatePosition(e,s,i,o,v,r,l)}}),this);this._ticket=a;h=f(r,a,_)}else{h=f}}v.setContent(h,c,e,p,s);v.show(e,p);this._updatePosition(e,s,i,o,v,r,l)};r.prototype._getNearestPoint=function(e,t,r,a){if(r==="axis"||n(t)){return{color:a||(this._renderMode==="html"?"#fff":"none")}}if(!n(t)){return{color:a||t.color||t.borderColor}}};r.prototype._updatePosition=function(e,t,r,a,o,s,l){var c=this._api.getWidth();var v=this._api.getHeight();t=t||e.get("position");var f=o.getSize();var h=e.get("align");var d=e.get("verticalAlign");var p=l&&l.getBoundingRect().clone();l&&p.applyTransform(l.transform);if(m(t)){t=t([r,a],s,o.el,p,{viewSize:[c,v],contentSize:f.slice()})}if(n(t)){r=pt(t[0],c);a=pt(t[1],v)}else if(i(t)){var g=t;g.width=f[0];g.height=f[1];var y=Fo(g,{width:c,height:v});r=y.x;a=y.y;h=null;d=null}else if(u(t)&&l){var x=XE(t,p,f,e.get("borderWidth"));r=x[0];a=x[1]}else{var x=UE(r,a,o,c,v,h?null:20,d?null:20);r=x[0];a=x[1]}h&&(r-=ZE(h)?f[0]/2:h==="right"?f[0]:0);d&&(a-=ZE(d)?f[1]/2:d==="bottom"?f[1]:0);if(xE(e)){var x=YE(r,a,o,c,v);r=x[0];a=x[1]}o.moveTo(r,a)};r.prototype._updateContentNotChangedOnAxis=function(e,t){var r=this._lastDataByCoordSys;var a=this._cbParamsList;var i=!!r&&r.length===e.length;i&&s(r,(function(r,n){var o=r.dataByAxis||[];var l=e[n]||{};var u=l.dataByAxis||[];i=i&&o.length===u.length;i&&s(o,(function(e,r){var n=u[r]||{};var o=e.seriesDataIndices||[];var l=n.seriesDataIndices||[];i=i&&e.value===n.value&&e.axisType===n.axisType&&e.axisId===n.axisId&&o.length===l.length;i&&s(o,(function(e,t){var r=l[t];i=i&&e.seriesIndex===r.seriesIndex&&e.dataIndex===r.dataIndex}));a&&s(e.seriesDataIndices,(function(e){var r=e.seriesIndex;var n=t[r];var o=a[r];if(n&&o&&o.data!==n.data){i=false}}))}))}));this._lastDataByCoordSys=e;this._cbParamsList=t;return!!i};r.prototype._hide=function(e){this._lastDataByCoordSys=null;e({type:"hideTip",from:this.uid})};r.prototype.dispose=function(e,t){if(F.node||!t.getDom()){return}kc(this,"_updatePosition");this._tooltipContent.dispose();aN("itemTooltip",t)};r.type="tooltip";return r}(gc);function HE(e,t,r){var a=t.ecModel;var i;if(r){i=new Mn(r,a,a);i=new Mn(t.option,i,a)}else{i=t}for(var n=e.length-1;n>=0;n--){var o=e[n];if(o){if(o instanceof Mn){o=o.get("tooltip",true)}if(u(o)){o={formatter:o}}if(o){i=new Mn(o,i,a)}}}return i}function WE(e,t){return e.dispatchAction||C(t.dispatchAction,t)}function UE(e,t,r,a,i,n,o){var s=r.getSize();var l=s[0];var u=s[1];if(n!=null){if(e+l+n+2>a){e-=l+n}else{e+=n}}if(o!=null){if(t+u+o>i){t-=u+o}else{t+=o}}return[e,t]}function YE(e,t,r,a,i){var n=r.getSize();var o=n[0];var s=n[1];e=Math.min(e+o,a)-o;t=Math.min(t+s,i)-s;e=Math.max(e,0);t=Math.max(t,0);return[e,t]}function XE(e,t,r,a){var i=r[0];var n=r[1];var o=Math.ceil(Math.SQRT2*a)+8;var s=0;var l=0;var u=t.width;var c=t.height;switch(e){case"inside":s=t.x+u/2-i/2;l=t.y+c/2-n/2;break;case"top":s=t.x+u/2-i/2;l=t.y-n-o;break;case"bottom":s=t.x+u/2-i/2;l=t.y+c+o;break;case"left":s=t.x-i-o;l=t.y+c/2-n/2;break;case"right":s=t.x+u+o;l=t.y+c/2-n/2}return[s,l]}function ZE(e){return e==="center"||e==="middle"}function jE(e,t,r){var a=xr(e).queryOptionMap;var i=a.keys()[0];if(!i||i==="series"){return}var n=Sr(t,i,a.get(i),{useDefault:false,enableAll:false,enableNone:false});var o=n.models[0];if(!o){return}var s=r.getViewOfComponentModel(o);var l;s.group.traverse((function(t){var r=Xr(t).tooltipConfig;if(r&&r.name===e.name){l=t;return true}}));if(l){return{componentMainType:i,componentIndex:o.componentIndex,el:l}}}function qE(e){Eh(mN);e.registerComponentModel(mE);e.registerComponentView(FE);e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},L);e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},L)}var KE=["rect","polygon","keep","clear"];function JE(e,t){var r=jt(e?e.brush:[]);if(!r.length){return}var i=[];a.each(r,(function(e){var t=e.hasOwnProperty("toolbox")?e.toolbox:[];if(t instanceof Array){i=i.concat(t)}}));var n=e&&e.toolbox;if(a.isArray(n)){n=n[0]}if(!n){n={feature:{}};e.toolbox=[n]}var o=n.feature||(n.feature={});var s=o.brush||(o.brush={});var l=s.type||(s.type=[]);l.push.apply(l,i);$E(l);if(t&&!l.length){l.push.apply(l,KE)}}function $E(e){var t={};a.each(e,(function(e){t[e]=1}));e.length=0;a.each(t,(function(t,r){e.push(r)}))}var QE=a.each;function ez(e){if(e){for(var t in e){if(e.hasOwnProperty(t)){return true}}}}function tz(e,t,r){var i={};QE(t,(function(t){var o=i[t]=n();QE(e[t],(function(e,i){if(!jw.isValidType(i)){return}var n={type:i,visual:e};r&&r(n,t);o[i]=new jw(n);if(i==="opacity"){n=a.clone(n);n.type="colorAlpha";o.__hidden.__alphaForOpacity=new jw(n)}}))}));return i;function n(){var e=function(){};e.prototype.__hidden=e.prototype;var t=new e;return t}}function rz(e,t,r){var i;a.each(r,(function(e){if(t.hasOwnProperty(e)&&ez(t[e])){i=true}}));i&&a.each(r,(function(r){if(t.hasOwnProperty(r)&&ez(t[r])){e[r]=a.clone(t[r])}else{delete e[r]}}))}function az(e,t,r,i,n,o){var s={};a.each(e,(function(e){var r=jw.prepareVisualTypes(t[e]);s[e]=r}));var l;function u(e){return gv(r,l,e)}function c(e,t){mv(r,l,e,t)}if(o==null){r.each(v)}else{r.each([o],v)}function v(e,a){l=o==null?e:a;var v=r.getRawDataItem(l);if(v&&v.visualMap===false){return}var f=i.call(n,e);var h=t[f];var d=s[f];for(var p=0,g=d.length;p<g;p++){var y=d[p];h[y]&&h[y].applyVisual(e,u,c)}}}function iz(e,t,r,i){var n={};a.each(e,(function(e){var r=jw.prepareVisualTypes(t[e]);n[e]=r}));return{progress:function e(a,o){var s;if(i!=null){s=o.getDimensionIndex(i)}function l(e){return gv(o,c,e)}function u(e,t){mv(o,c,e,t)}var c;var v=o.getStore();while((c=a.next())!=null){var f=o.getRawDataItem(c);if(f&&f.visualMap===false){continue}var h=i!=null?v.get(s,c):c;var d=r(h);var p=t[d];var g=n[d];for(var y=0,m=g.length;y<m;y++){var x=g[y];p[x]&&p[x].applyVisual(h,l,u)}}}}}function nz(e){var t=e.brushType;var r={point:function(a){return oz[t].point(a,r,e)},rect:function(a){return oz[t].rect(a,r,e)}};return r}var oz={lineX:sz(0),lineY:sz(1),rect:{point:function(e,t,r){return e&&r.boundingRect.contain(e[0],e[1])},rect:function(e,t,r){return e&&r.boundingRect.intersect(e)}},polygon:{point:function(e,t,r){return e&&r.boundingRect.contain(e[0],e[1])&&Be.contain(r.range,e[0],e[1])},rect:function(e,t,r){var a=r.range;if(!e||a.length<=1){return false}var i=e.x;var n=e.y;var o=e.width;var s=e.height;var l=a[0];if(Be.contain(a,i,n)||Be.contain(a,i+o,n)||Be.contain(a,i,n+s)||Be.contain(a,i+o,n+s)||we.create(e).contain(l[0],l[1])||Hi(i,n,i+o,n,a)||Hi(i,n,i,n+s,a)||Hi(i+o,n,i+o,n+s,a)||Hi(i,n+s,i+o,n+s,a)){return true}}}};function sz(e){var t=["x","y"];var r=["width","height"];return{point:function(t,r,a){if(t){var i=a.range;var n=t[e];return lz(n,i)}},rect:function(a,i,n){if(a){var o=n.range;var s=[a[t[e]],a[t[e]]+a[r[e]]];s[1]<s[0]&&s.reverse();return lz(s[0],o)||lz(s[1],o)||lz(o[0],s)||lz(o[1],s)}}}}function lz(e,t){return t[0]<=e&&e<=t[1]}var uz=["inBrush","outOfBrush"];var cz="__ecBrushSelect";var vz="__ecInBrushSelectEvent";function fz(e){e.eachComponent({mainType:"brush"},(function(t){var r=t.brushTargetManager=new $R(t.option,e);r.setInputRanges(t.areas,e)}))}function hz(e,t,r){var i=[];var n;var o;e.eachComponent({mainType:"brush"},(function(e){r&&r.type==="takeGlobalCursor"&&e.setBrushOption(r.key==="brush"?r.brushOption:{brushType:false})}));fz(e);e.eachComponent({mainType:"brush"},(function(t,r){var s={brushId:t.id,brushIndex:r,brushName:t.name,areas:a.clone(t.areas),selected:[]};i.push(s);var l=t.option;var u=l.brushLink;var c=[];var v=[];var f=[];var h=false;if(!r){n=l.throttleType;o=l.throttleDelay}var d=a.map(t.areas,(function(e){var t=mz[e.brushType];var r=a.defaults({boundingRect:t?t(e):void 0},e);r.selectors=nz(r);return r}));var p=tz(t.option,uz,(function(e){e.mappingMethod="fixed"}));a.isArray(u)&&a.each(u,(function(e){c[e]=1}));function g(e){return u==="all"||!!c[e]}function y(e){return!!e.length}e.eachSeries((function(e,t){var r=f[t]=[];e.subType==="parallel"?m(e,t):x(e,t,r)}));function m(e,t){var r=e.coordinateSystem;h=h||r.hasAxisBrushed();g(t)&&r.eachActiveState(e.getData(),(function(e,t){e==="active"&&(v[t]=1)}))}function x(r,i,n){if(!r.brushSelector||yz(t,i)){return}a.each(d,(function(a){if(t.brushTargetManager.controlSeries(a,r,e)){n.push(a)}h=h||y(n)}));if(g(i)&&y(n)){var o=r.getData();o.each((function(e){if(gz(r,n,o,e)){v[e]=1}}))}}e.eachSeries((function(e,t){var r={seriesId:e.id,seriesIndex:t,seriesName:e.name,dataIndex:[]};s.selected.push(r);var a=f[t];var i=e.getData();var n=g(t)?function(e){return v[e]?(r.dataIndex.push(i.getRawIndex(e)),"inBrush"):"outOfBrush"}:function(t){return gz(e,a,i,t)?(r.dataIndex.push(i.getRawIndex(t)),"inBrush"):"outOfBrush"};(g(t)?h:y(a))&&az(uz,p,i,n)}))}));dz(t,n,o,i,r)}function dz(e,t,r,a,i){if(!i){return}var n=e.getZr();if(n[vz]){return}if(!n[cz]){n[cz]=pz}var o=Lc(n,cz,r,t);o(e,a)}function pz(e,t){if(!e.isDisposed()){var r=e.getZr();r[vz]=true;e.dispatchAction({type:"brushSelect",batch:t});r[vz]=false}}function gz(e,t,r,a){for(var i=0,n=t.length;i<n;i++){var o=t[i];if(e.brushSelector(a,r,o.selectors,o)){return true}}}function yz(e,t){var r=e.option.seriesIndex;return r!=null&&r!=="all"&&(a.isArray(r)?a.indexOf(r,t)<0:t!==r)}var mz={rect:function(e){return xz(e.range)},polygon:function(e){var t;var r=e.range;for(var a=0,i=r.length;a<i;a++){t=t||[[Infinity,-Infinity],[Infinity,-Infinity]];var n=r[a];n[0]<t[0][0]&&(t[0][0]=n[0]);n[0]>t[0][1]&&(t[0][1]=n[0]);n[1]<t[1][0]&&(t[1][0]=n[1]);n[1]>t[1][1]&&(t[1][1]=n[1])}return t&&xz(t)}};function xz(e){return new we(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var _z=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.init=function(e,t){this.ecModel=e;this.api=t;this.model;(this._brushController=new fT(t.getZr())).on("brush",a.bind(this._onBrush,this)).mount()};r.prototype.render=function(e,t,r,a){this.model=e;this._updateController(e,t,r,a)};r.prototype.updateTransform=function(e,t,r,a){fz(t);this._updateController(e,t,r,a)};r.prototype.updateVisual=function(e,t,r,a){this.updateTransform(e,t,r,a)};r.prototype.updateView=function(e,t,r,a){this._updateController(e,t,r,a)};r.prototype._updateController=function(e,t,r,a){(!a||a.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(r)).enableBrush(e.brushOption).updateCovers(e.areas.slice())};r.prototype.dispose=function(){this._brushController.dispose()};r.prototype._onBrush=function(e){var t=this.model.id;var r=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:t,areas:a.clone(r),$from:t});e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:t,areas:a.clone(r),$from:t})};r.type="brush";return r}(gc);var bz="#ddd";var Sz=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.areas=[];e.brushOption={};return e}r.prototype.optionUpdated=function(e,t){var r=this.option;!t&&rz(r,e,["inBrush","outOfBrush"]);var a=r.inBrush=r.inBrush||{};r.outOfBrush=r.outOfBrush||{color:bz};if(!a.hasOwnProperty("liftZ")){a.liftZ=5}};r.prototype.setAreas=function(e){if(!e){return}this.areas=a.map(e,(function(e){return wz(this.option,e)}),this)};r.prototype.setBrushOption=function(e){this.brushOption=wz(this.option,e);this.brushType=this.brushOption.brushType};r.type="brush";r.dependencies=["geo","grid","xAxis","yAxis","parallel","series"];r.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:true,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:true,z:1e4};return r}(qo);function wz(e,t){return a.merge({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new Mn(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,true)}var Mz=["rect","polygon","lineX","lineY","keep","clear"];var Iz=function(t){e(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}r.prototype.render=function(e,t,r){var i;var n;var o;t.eachComponent({mainType:"brush"},(function(e){i=e.brushType;n=e.brushOption.brushMode||"single";o=o||!!e.areas.length}));this._brushType=i;this._brushMode=n;a.each(e.get("type",true),(function(t){e.setIconStatus(t,(t==="keep"?n==="multiple":t==="clear"?o:t===i)?"emphasis":"normal")}))};r.prototype.updateView=function(e,t,r){this.render(e,t,r)};r.prototype.getIcons=function(){var e=this.model;var t=e.get("icon",true);var r={};a.each(e.get("type",true),(function(e){if(t[e]){r[e]=t[e]}}));return r};r.prototype.onclick=function(e,t,r){var a=this._brushType;var i=this._brushMode;if(r==="clear"){t.dispatchAction({type:"axisAreaSelect",intervals:[]});t.dispatchAction({type:"brush",command:"clear",areas:[]})}else{t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:r==="keep"?a:a===r?false:r,brushMode:r==="keep"?i==="multiple"?"single":"multiple":i}})}};r.getDefaultOption=function(e){var t={show:true,type:Mz.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])};return t};return r}(pR);function Dz(e){e.registerComponentView(_z);e.registerComponentModel(Sz);e.registerPreprocessor(JE);e.registerVisual(e.PRIORITY.VISUAL.BRUSH,hz);e.registerAction({type:"brush",event:"brush",update:"updateVisual"},(function(e,t){t.eachComponent({mainType:"brush",query:e},(function(t){t.setAreas(e.areas)}))}));e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},L);e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},L);yR("brush",Iz)}var Tz=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.layoutMode={type:"box",ignoreSize:true};return e}r.type="title";r.defaultOption={z:6,show:true,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}};return r}(qo);var Cz=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.render=function(e,t,r){this.group.removeAll();if(!e.get("show")){return}var i=this.group;var n=e.getModel("textStyle");var o=e.getModel("subtextStyle");var s=e.get("textAlign");var l=a.retrieve2(e.get("textBaseline"),e.get("textVerticalAlign"));var u=new U({style:tn(n,{text:e.get("text"),fill:n.getTextColor()},{disableBox:true}),z2:10});var c=u.getBoundingRect();var v=e.get("subtext");var f=new U({style:tn(o,{text:v,fill:o.getTextColor(),y:c.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:true}),z2:10});var h=e.get("link");var d=e.get("sublink");var p=e.get("triggerEvent",true);u.silent=!h&&!p;f.silent=!d&&!p;if(h){u.on("click",(function(){Oo(h,"_"+e.get("target"))}))}if(d){f.on("click",(function(){Oo(d,"_"+e.get("subtarget"))}))}Xr(u).eventData=Xr(f).eventData=p?{componentType:"title",componentIndex:e.componentIndex}:null;i.add(u);v&&i.add(f);var g=i.getBoundingRect();var y=e.getBoxLayoutParams();y.width=g.width;y.height=g.height;var m=Fo(y,{width:r.getWidth(),height:r.getHeight()},e.get("padding"));if(!s){s=e.get("left")||e.get("right");if(s==="middle"){s="center"}if(s==="right"){m.x+=m.width}else if(s==="center"){m.x+=m.width/2}}if(!l){l=e.get("top")||e.get("bottom");if(l==="center"){l="middle"}if(l==="bottom"){m.y+=m.height}else if(l==="middle"){m.y+=m.height/2}l=l||"top"}i.x=m.x;i.y=m.y;i.markRedraw();var x={align:s,verticalAlign:l};u.setStyle(x);f.setStyle(x);g=i.getBoundingRect();var _=m.margin;var b=e.getItemStyle(["color","opacity"]);b.fill=e.get("backgroundColor");var S=new ge({shape:{x:g.x-_[3],y:g.y-_[0],width:g.width+_[1]+_[3],height:g.height+_[0]+_[2],r:e.get("borderRadius")},style:b,subPixelOptimize:true,silent:true});i.add(S)};r.type="title";return r}(gc);function Az(e){e.registerComponentModel(Tz);e.registerComponentView(Cz)}var Lz=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.layoutMode="box";return e}r.prototype.init=function(e,t,r){this.mergeDefaultAndTheme(e,r);this._initData()};r.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments);this._initData()};r.prototype.setCurrentIndex=function(e){if(e==null){e=this.option.currentIndex}var t=this._data.count();if(this.option.loop){e=(e%t+t)%t}else{e>=t&&(e=t-1);e<0&&(e=0)}this.option.currentIndex=e};r.prototype.getCurrentIndex=function(){return this.option.currentIndex};r.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1};r.prototype.setPlayState=function(e){this.option.autoPlay=!!e};r.prototype.getPlayState=function(){return!!this.option.autoPlay};r.prototype._initData=function(){var e=this.option;var t=e.data||[];var r=e.axisType;var a=this._names=[];var n;if(r==="category"){n=[];s(t,(function(e,t){var r=lr(Jt(e),"");var o;if(i(e)){o=w(e);o.value=t}else{o=t}n.push(o);a.push(r)}))}else{n=t}var o={category:"ordinal",time:"time",value:"number"}[r]||"number";var l=this._data=new hd([{name:"value",type:o}],this);l.initData(n,a)};r.prototype.getData=function(){return this._data};r.prototype.getCategories=function(){if(this.get("axisType")==="category"){return this._names.slice()}};r.type="timeline";r.defaultOption={z:4,show:true,axisType:"time",realtime:true,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:false,rewind:false,loop:true,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]};return r}(qo);var kz=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.type="timeline.slider";r.defaultOption=An(Lz.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:false,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:true,width:2,color:"#DAE1F5"},label:{position:"auto",show:true,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:true,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:true,showPlayBtn:true,showPrevBtn:true,showNextBtn:true,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:true,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]});return r}(Lz);M(kz,Kl.prototype);var Pz=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.type="timeline";return r}(gc);var Nz=function(t){e(r,t);function r(e,r,a,i){var n=t.call(this,e,r,a)||this;n.type=i||"value";return n}r.prototype.getLabelModel=function(){return this.model.getModel("label")};r.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"};return r}(Vg);var Oz=Math.PI;var Rz=gr();var Ez=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.init=function(e,t){this.api=t};r.prototype.render=function(e,t,r){this.model=e;this.api=r;this.ecModel=t;this.group.removeAll();if(e.get("show",true)){var a=this._layout(e,r);var i=this._createGroup("_mainGroup");var n=this._createGroup("_labelGroup");var o=this._axis=this._createAxis(a,e);e.formatTooltip=function(e){var t=o.scale.getLabel({value:e});return Gu("nameValue",{noName:true,value:t})};s(["AxisLine","AxisTick","Control","CurrentPointer"],(function(t){this["_render"+t](a,i,o,e)}),this);this._renderAxisLabel(a,n,o,e);this._position(a,e)}this._doPlayStop();this._updateTicksStatus()};r.prototype.remove=function(){this._clearTimer();this.group.removeAll()};r.prototype.dispose=function(){this._clearTimer()};r.prototype._layout=function(e,t){var r=e.get(["label","position"]);var a=e.get("orient");var i=Vz(e,t);var n;if(r==null||r==="auto"){n=a==="horizontal"?i.y+i.height/2<t.getHeight()/2?"-":"+":i.x+i.width/2<t.getWidth()/2?"+":"-"}else if(u(r)){n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][r]}else{n=r}var o={horizontal:"center",vertical:n>=0||n==="+"?"left":"right"};var s={horizontal:n>=0||n==="+"?"top":"bottom",vertical:"middle"};var l={horizontal:0,vertical:Oz/2};var c=a==="vertical"?i.height:i.width;var v=e.getModel("controlStyle");var f=v.get("show",true);var h=f?v.get("itemSize"):0;var d=f?v.get("itemGap"):0;var p=h+d;var g=e.get(["label","rotate"])||0;g=g*Oz/180;var y;var m;var x;var _=v.get("position",true);var b=f&&v.get("showPlayBtn",true);var S=f&&v.get("showPrevBtn",true);var w=f&&v.get("showNextBtn",true);var M=0;var I=c;if(_==="left"||_==="bottom"){b&&(y=[0,0],M+=p);S&&(m=[M,0],M+=p);w&&(x=[I-h,0],I-=p)}else{b&&(y=[I-h,0],I-=p);S&&(m=[0,0],M+=p);w&&(x=[I-h,0],I-=p)}var D=[M,I];if(e.get("inverse")){D.reverse()}return{viewRect:i,mainLength:c,orient:a,rotation:l[a],labelRotation:g,labelPosOpt:n,labelAlign:e.get(["label","align"])||o[a],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||s[a],playPosition:y,prevBtnPosition:m,nextBtnPosition:x,axisExtent:D,controlSize:h,controlGap:d}};r.prototype._position=function(e,t){var r=this._mainGroup;var a=this._labelGroup;var i=e.viewRect;if(e.orient==="vertical"){var n=re.create();var o=i.x;var s=i.y+i.height;re.translate(n,n,[-o,-s]);re.rotate(n,n,-Oz/2);re.translate(n,n,[o,s]);i=i.clone();i.applyTransform(n)}var l=y(i);var c=y(r.getBoundingRect());var v=y(a.getBoundingRect());var f=[r.x,r.y];var h=[a.x,a.y];h[0]=f[0]=l[0][0];var d=e.labelPosOpt;if(d==null||u(d)){var p=d==="+"?0:1;m(f,c,l,1,p);m(h,v,l,1,1-p)}else{var p=d>=0?0:1;m(f,c,l,1,p);h[1]=f[1]+d}r.setPosition(f);a.setPosition(h);r.rotation=a.rotation=e.rotation;g(r);g(a);function g(e){e.originX=l[0][0]-e.x;e.originY=l[1][0]-e.y}function y(e){return[[e.x,e.x+e.width],[e.y,e.y+e.height]]}function m(e,t,r,a,i){e[a]+=r[a][i]-t[a][i]}};r.prototype._createAxis=function(e,t){var r=t.getData();var a=t.get("axisType");var i=zz(t,a);i.getTicks=function(){return r.mapArray(["value"],(function(e){return{value:e}}))};var n=r.getDataExtent("value");i.setExtent(n[0],n[1]);i.calcNiceTicks();var o=new Nz("value",i,e.axisExtent,a);o.model=t;return o};r.prototype._createGroup=function(e){var t=this[e]=new ue;this.group.add(t);return t};r.prototype._renderAxisLine=function(e,t,r,a){var i=r.getExtent();if(!a.get(["lineStyle","show"])){return}var n=new ye({shape:{x1:i[0],y1:0,x2:i[1],y2:0},style:d({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:true,z2:1});t.add(n);var o=this._progressLine=new ye({shape:{x1:i[0],x2:this._currentPointer?this._currentPointer.x:i[0],y1:0,y2:0},style:x({lineCap:"round",lineWidth:n.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:true,z2:1});t.add(o)};r.prototype._renderAxisTick=function(e,t,r,a){var i=this;var n=a.getData();var o=r.scale.getTicks();this._tickSymbols=[];s(o,(function(e){var o=r.dataToCoord(e.value);var s=n.getItemModel(e.value);var l=s.getModel("itemStyle");var u=s.getModel(["emphasis","itemStyle"]);var c=s.getModel(["progress","itemStyle"]);var v={x:o,y:0,onclick:C(i._changeTimeline,i,e.value)};var f=Gz(s,l,t,v);f.ensureState("emphasis").style=u.getItemStyle();f.ensureState("progress").style=c.getItemStyle();Xa(f);var h=Xr(f);if(s.get("tooltip")){h.dataIndex=e.value;h.dataModel=a}else{h.dataIndex=h.dataModel=null}i._tickSymbols.push(f)}))};r.prototype._renderAxisLabel=function(e,t,r,a){var i=this;var n=r.getLabelModel();if(!n.get("show")){return}var o=a.getData();var l=r.getViewLabels();this._tickLabels=[];s(l,(function(a){var n=a.tickValue;var s=o.getItemModel(n);var l=s.getModel("label");var u=s.getModel(["emphasis","label"]);var c=s.getModel(["progress","label"]);var v=r.dataToCoord(a.tickValue);var f=new U({x:v,y:0,rotation:e.labelRotation-e.rotation,onclick:C(i._changeTimeline,i,n),silent:false,style:tn(l,{text:a.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});f.ensureState("emphasis").style=tn(u);f.ensureState("progress").style=tn(c);t.add(f);Xa(f);Rz(f).dataIndex=n;i._tickLabels.push(f)}))};r.prototype._renderControl=function(e,t,r,a){var i=e.controlSize;var n=e.rotation;var o=a.getModel("controlStyle").getItemStyle();var s=a.getModel(["emphasis","controlStyle"]).getItemStyle();var l=a.getPlayState();var u=a.get("inverse",true);c(e.nextBtnPosition,"next",C(this._changeTimeline,this,u?"-":"+"));c(e.prevBtnPosition,"prev",C(this._changeTimeline,this,u?"+":"-"));c(e.playPosition,l?"stop":"play",C(this._handlePlayClick,this,!l),true);function c(e,r,l,u){if(!e){return}var c=Re(y(a.get(["controlStyle",r+"BtnSize"]),i),i);var v=[0,-c/2,c,c];var f=Bz(a,r+"Icon",v,{x:e[0],y:e[1],originX:i/2,originY:0,rotation:u?-n:0,rectHover:true,style:o,onclick:l});f.ensureState("emphasis").style=s;t.add(f);Xa(f)}};r.prototype._renderCurrentPointer=function(e,t,r,a){var i=a.getData();var n=a.getCurrentIndex();var o=i.getItemModel(n).getModel("checkpointStyle");var s=this;var l={onCreate:function(e){e.draggable=true;e.drift=C(s._handlePointerDrag,s);e.ondragend=C(s._handlePointerDragend,s);Fz(e,s._progressLine,n,r,a,true)},onUpdate:function(e){Fz(e,s._progressLine,n,r,a)}};this._currentPointer=Gz(o,o,this._mainGroup,{},this._currentPointer,l)};r.prototype._handlePlayClick=function(e){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})};r.prototype._handlePointerDrag=function(e,t,r){this._clearTimer();this._pointerChangeTimeline([r.offsetX,r.offsetY])};r.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],true)};r.prototype._pointerChangeTimeline=function(e,t){var r=this._toAxisCoord(e)[0];var a=this._axis;var i=yt(a.getExtent().slice());r>i[1]&&(r=i[1]);r<i[0]&&(r=i[0]);this._currentPointer.x=r;this._currentPointer.markRedraw();var n=this._progressLine;if(n){n.shape.x2=r;n.dirty()}var o=this._findNearestTick(r);var s=this.model;if(t||o!==s.getCurrentIndex()&&s.get("realtime")){this._changeTimeline(o)}};r.prototype._doPlayStop=function(){var e=this;this._clearTimer();if(this.model.getPlayState()){this._timer=setTimeout((function(){var t=e.model;e._changeTimeline(t.getCurrentIndex()+(t.get("rewind",true)?-1:1))}),this.model.get("playInterval"))}};r.prototype._toAxisCoord=function(e){var t=this._mainGroup.getLocalTransform();return Oi(e,t,true)};r.prototype._findNearestTick=function(e){var t=this.model.getData();var r=Infinity;var a;var i=this._axis;t.each(["value"],(function(t,n){var o=i.dataToCoord(t);var s=Math.abs(o-e);if(s<r){r=s;a=n}}));return a};r.prototype._clearTimer=function(){if(this._timer){clearTimeout(this._timer);this._timer=null}};r.prototype._changeTimeline=function(e){var t=this.model.getCurrentIndex();if(e==="+"){e=t+1}else if(e==="-"){e=t-1}this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})};r.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex();var t=this._tickSymbols;var r=this._tickLabels;if(t){for(var a=0;a<t.length;a++){t&&t[a]&&t[a].toggleState("progress",a<e)}}if(r){for(var a=0;a<r.length;a++){r&&r[a]&&r[a].toggleState("progress",Rz(r[a]).dataIndex<=e)}}};r.type="timeline.slider";return r}(Pz);function zz(e,t){t=t||e.get("type");if(t){switch(t){case"category":return new Yd({ordinalMeta:e.getCategories(),extent:[Infinity,-Infinity]});case"time":return new fp({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new Zd}}}function Vz(e,t){return Fo(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}function Bz(e,t,r,a){var i=a.style;var n=Fi(e.get(["controlStyle",t]),a||{},new we(r[0],r[1],r[2],r[3]));if(i){n.setStyle(i)}return n}function Gz(e,t,r,a,i,n){var o=t.get("color");if(!i){var s=e.get("symbol");i=Pv(s,-1,-1,2,2,o);i.setStyle("strokeNoScale",true);r.add(i);n&&n.onCreate(i)}else{i.setColor(o);r.add(i);n&&n.onUpdate(i)}var l=t.getItemStyle(["color"]);i.setStyle(l);a=S({rectHover:true,z2:100},a,true);var u=Nv(e.get("symbolSize"));a.scaleX=u[0]/2;a.scaleY=u[1]/2;var c=Ov(e.get("symbolOffset"),u);if(c){a.x=(a.x||0)+c[0];a.y=(a.y||0)+c[1]}var v=e.get("symbolRotate");a.rotation=(v||0)*Math.PI/180||0;i.attr(a);i.updateTransform();return i}function Fz(e,t,r,a,i,n){if(e.dragging){return}var o=i.getModel("checkpointStyle");var s=a.dataToCoord(i.getData().get("value",r));if(n||!o.get("animation",true)){e.attr({x:s,y:0});t&&t.attr({shape:{x2:s}})}else{var l={duration:o.get("animationDuration",true),easing:o.get("animationEasing",true)};e.stopAnimation(null,true);e.animateTo({x:s,y:0},l);t&&t.animateTo({shape:{x2:s}},l)}}function Hz(e){e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(e,t,r){var a=t.getComponent("timeline");if(a&&e.currentIndex!=null){a.setCurrentIndex(e.currentIndex);if(!a.get("loop",true)&&a.isIndexMax()&&a.getPlayState()){a.setPlayState(false);r.dispatchAction({type:"timelinePlayChange",playState:false,from:e.from})}}t.resetOption("timeline",{replaceMerge:a.get("replaceMerge",true)});return x({currentIndex:a.option.currentIndex},e)}));e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(e,t){var r=t.getComponent("timeline");if(r&&e.playState!=null){r.setPlayState(e.playState)}}))}function Wz(e){var t=e&&e.timeline;if(!a.isArray(t)){t=t?[t]:[]}a.each(t,(function(e){if(!e){return}Uz(e)}))}function Uz(e){var t=e.type;var r={number:"value",time:"time"};if(r[t]){e.axisType=r[t];delete e.type}Yz(e);if(Xz(e,"controlPosition")){var i=e.controlStyle||(e.controlStyle={});if(!Xz(i,"position")){i.position=e.controlPosition}if(i.position==="none"&&!Xz(i,"show")){i.show=false;delete i.position}delete e.controlPosition}a.each(e.data||[],(function(e){if(a.isObject(e)&&!a.isArray(e)){if(!Xz(e,"value")&&Xz(e,"name")){e.value=e.name}Yz(e)}}))}function Yz(e){var t=e.itemStyle||(e.itemStyle={});var r=t.emphasis||(t.emphasis={});var i=e.label||e.label||{};var n=i.normal||(i.normal={});var o={normal:1,emphasis:1};a.each(i,(function(e,t){if(!o[t]&&!Xz(n,t)){n[t]=e}}));if(r.label&&!Xz(i,"emphasis")){i.emphasis=r.label;delete r.label}}function Xz(e,t){return e.hasOwnProperty(t)}function Zz(e){e.registerComponentModel(kz);e.registerComponentView(Ez);e.registerSubTypeDefaulter("timeline",(function(){return"slider"}));Hz(e);e.registerPreprocessor(Wz)}function jz(e,t){if(!e){return false}var r=n(e)?e:[e];for(var a=0;a<r.length;a++){if(r[a]&&r[a][t]){return true}}return false}function qz(e){qt(e,"label",["show"])}var Kz=gr();var Jz=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.createdBySelf=false;return e}r.prototype.init=function(e,t,r){this.mergeDefaultAndTheme(e,r);this._mergeOption(e,r,false,true)};r.prototype.isAnimationEnabled=function(){if(F.node){return false}var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()};r.prototype.mergeOption=function(e,t){this._mergeOption(e,t,false,false)};r.prototype._mergeOption=function(e,t,r,i){var n=this.mainType;if(!r){t.eachSeries((function(e){var r=e.get(this.mainType,true);var o=Kz(e)[n];if(!r||!r.data){Kz(e)[n]=null;return}if(!o){if(i){qz(r)}a.each(r.data,(function(e){if(e instanceof Array){qz(e[0]);qz(e[1])}else{qz(e)}}));o=this.createMarkerModelFromSeries(r,this,t);a.extend(o,{mainType:this.mainType,seriesIndex:e.seriesIndex,name:e.name,createdBySelf:true});o.__hostSeries=e}else{o._mergeOption(r,t,true)}Kz(e)[n]=o}),this)}};r.prototype.formatTooltip=function(e,t,r){var a=this.getData();var i=this.getRawValue(e);var n=a.getName(e);return Gu("section",{header:this.name,blocks:[Gu("nameValue",{name:n,value:i,noName:!n,noValue:i==null})]})};r.prototype.getData=function(){return this._data};r.prototype.setData=function(e){this._data=e};r.prototype.getDataParams=function(e,t){var r=Kl.prototype.getDataParams.call(this,e,t);var a=this.__hostSeries;if(a){r.seriesId=a.id;r.seriesName=a.name;r.seriesType=a.subType}return r};r.getMarkerModelFromSeries=function(e,t){return Kz(e)[t]};r.type="marker";r.dependencies=["series","grid","polar","geo"];return r}(qo);a.mixin(Jz,Kl.prototype);var $z=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.createMarkerModelFromSeries=function(e,t,a){return new r(e,t,a)};r.type="markPoint";r.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:true,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:true}}};return r}(Jz);function Qz(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function eV(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function tV(e,t,r,a,i,n){var o=[];var s=Id(t,a);var l=s?t.getCalculationInfo("stackResultDimension"):a;var u=uV(t,l,e);var c=t.indicesOfNearest(l,u)[0];o[i]=t.get(r,c);o[n]=t.get(l,c);var v=t.get(a,c);var f=mt(t.get(a,c));f=Math.min(f,20);if(f>=0){o[n]=+o[n].toFixed(f)}return[o,v]}var rV={min:N(tV,"min"),max:N(tV,"max"),average:N(tV,"average"),median:N(tV,"median")};function aV(e,t){if(!t){return}var r=e.getData();var a=e.coordinateSystem;var i=a&&a.dimensions;if(!eV(t)&&!n(t.coord)&&n(i)){var o=iV(t,r,a,e);t=w(t);if(t.type&&rV[t.type]&&o.baseAxis&&o.valueAxis){var s=h(i,o.baseAxis.dim);var l=h(i,o.valueAxis.dim);var u=rV[t.type](r,o.baseDataDim,o.valueDataDim,s,l);t.coord=u[0];t.value=u[1]}else{t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}}if(t.coord==null||!n(i)){t.coord=[]}else{var c=t.coord;for(var v=0;v<2;v++){if(rV[c[v]]){c[v]=uV(r,r.mapDimension(i[v]),c[v])}}}return t}function iV(e,t,r,a){var i={};if(e.valueIndex!=null||e.valueDim!=null){i.valueDataDim=e.valueIndex!=null?t.getDimension(e.valueIndex):e.valueDim;i.valueAxis=r.getAxis(nV(a,i.valueDataDim));i.baseAxis=r.getOtherAxis(i.valueAxis);i.baseDataDim=t.mapDimension(i.baseAxis.dim)}else{i.baseAxis=a.getBaseAxis();i.valueAxis=r.getOtherAxis(i.baseAxis);i.baseDataDim=t.mapDimension(i.baseAxis.dim);i.valueDataDim=t.mapDimension(i.valueAxis.dim)}return i}function nV(e,t){var r=e.getData().getDimensionInfo(t);return r&&r.coordDim}function oV(e,t){return e&&e.containData&&t.coord&&!Qz(t)?e.containData(t.coord):true}function sV(e,t,r){return e&&e.containZone&&t.coord&&r.coord&&!Qz(t)&&!Qz(r)?e.containZone(t.coord,r.coord):true}function lV(e,t){return e?function(e,r,a,i){var n=i<2?e.coord&&e.coord[i]:e.value;return tu(n,t[i])}:function(e,r,a,i){return tu(e.value,t[i])}}function uV(e,t,r){if(r==="average"){var a=0;var i=0;e.each(t,(function(e,t){if(!isNaN(e)){a+=e;i++}}));return a/i}else if(r==="median"){return e.getMedian(t)}else{return e.getDataExtent(t)[r==="max"?1:0]}}var cV=gr();var vV=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.init=function(){this.markerGroupMap=o()};r.prototype.render=function(e,t,r){var a=this;var i=this.markerGroupMap;i.each((function(e){cV(e).keep=false}));t.eachSeries((function(e){var i=Jz.getMarkerModelFromSeries(e,a.type);i&&a.renderSeries(e,i,t,r)}));i.each((function(e){!cV(e).keep&&a.group.remove(e.group)}))};r.prototype.markKeep=function(e){cV(e).keep=true};r.prototype.toggleBlurSeries=function(e,t){var r=this;s(e,(function(e){var a=Jz.getMarkerModelFromSeries(e,r.type);if(a){var i=a.getData();i.eachItemGraphicEl((function(e){if(e){t?ka(e):Pa(e)}}))}}))};r.type="marker";return r}(gc);function fV(e,t,r){var a=t.coordinateSystem;e.each((function(i){var n=e.getItemModel(i);var o;var s=pt(n.get("x"),r.getWidth());var l=pt(n.get("y"),r.getHeight());if(!isNaN(s)&&!isNaN(l)){o=[s,l]}else if(t.getMarkerPosition){o=t.getMarkerPosition(e.getValues(e.dimensions,i))}else if(a){var u=e.get(a.dimensions[0],i);var c=e.get(a.dimensions[1],i);o=a.dataToPoint([u,c])}if(!isNaN(s)){o[0]=s}if(!isNaN(l)){o[1]=l}e.setItemLayout(i,o)}))}var hV=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.updateTransform=function(e,t,r){t.eachSeries((function(e){var t=Jz.getMarkerModelFromSeries(e,"markPoint");if(t){fV(t.getData(),e,r);this.markerGroupMap.get(e.id).updateLayout()}}),this)};r.prototype.renderSeries=function(e,t,r,a){var i=e.coordinateSystem;var n=e.id;var o=e.getData();var s=this.markerGroupMap;var l=s.get(n)||s.set(n,new Fy);var u=dV(i,e,t);t.setData(u);fV(t.getData(),e,a);u.each((function(e){var r=u.getItemModel(e);var a=r.getShallow("symbol");var i=r.getShallow("symbolSize");var n=r.getShallow("symbolRotate");var s=r.getShallow("symbolOffset");var l=r.getShallow("symbolKeepAspect");if(m(a)||m(i)||m(n)||m(s)){var c=t.getRawValue(e);var v=t.getDataParams(e);if(m(a)){a=a(c,v)}if(m(i)){i=i(c,v)}if(m(n)){n=n(c,v)}if(m(s)){s=s(c,v)}}var f=r.getModel("itemStyle").getItemStyle();var h=yv(o,"color");if(!f.fill){f.fill=h}u.setItemVisual(e,{symbol:a,symbolSize:i,symbolRotate:n,symbolOffset:s,symbolKeepAspect:l,style:f})}));l.updateData(u);this.group.add(l.group);u.eachItemGraphicEl((function(e){e.traverse((function(e){Xr(e).dataModel=t}))}));this.markKeep(l);l.group.silent=t.get("silent")||e.get("silent")};r.type="markPoint";return r}(vV);function dV(e,t,r){var a;if(e){a=f(e&&e.dimensions,(function(e){var r=t.getData().getDimensionInfo(t.getData().mapDimension(e))||{};return d(d({},r),{name:e,ordinalMeta:null})}))}else{a=[{name:"value",type:"float"}]}var i=new hd(a,r);var n=f(r.get("data"),N(aV,t));if(e){n=D(n,N(oV,e))}var o=lV(!!e,a);i.initData(n,null,o);return i}function pV(e){e.registerComponentModel($z);e.registerComponentView(hV);e.registerPreprocessor((function(e){if(jz(e.series,"markPoint")){e.markPoint=e.markPoint||{}}}))}var gV=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.createMarkerModelFromSeries=function(e,t,a){return new r(e,t,a)};r.type="markLine";r.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:true,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:true},lineStyle:{width:3}},animationEasing:"linear"};return r}(Jz);var yV=gr();var mV=function(e,t,r,a){var i=e.getData();var o;if(!n(a)){var s=a.type;if(s==="min"||s==="max"||s==="average"||s==="median"||a.xAxis!=null||a.yAxis!=null){var l=void 0;var u=void 0;if(a.yAxis!=null||a.xAxis!=null){l=t.getAxis(a.yAxis!=null?"y":"x");u=R(a.yAxis,a.xAxis)}else{var v=iV(a,i,t,e);l=v.valueAxis;var f=Dd(i,v.valueDataDim);u=uV(i,f,s)}var h=l.dim==="x"?0:1;var p=1-h;var g=w(a);var y={coord:[]};g.type=null;g.coord=[];g.coord[p]=-Infinity;y.coord[p]=Infinity;var m=r.get("precision");if(m>=0&&c(u)){u=+u.toFixed(Math.min(m,20))}g.coord[h]=y.coord[h]=u;o=[g,y,{type:s,valueIndex:a.valueIndex,value:u}]}else{o=[]}}else{o=a}var x=[aV(e,o[0]),aV(e,o[1]),d({},o[2])];x[2].type=x[2].type||null;S(x[2],x[0]);S(x[2],x[1]);return x};function xV(e){return!isNaN(e)&&!isFinite(e)}function _V(e,t,r,a){var i=1-e;var n=a.dimensions[e];return xV(t[i])&&xV(r[i])&&t[e]===r[e]&&a.getAxis(n).containData(t[e])}function bV(e,t){if(e.type==="cartesian2d"){var r=t[0].coord;var a=t[1].coord;if(r&&a&&(_V(1,r,a,e)||_V(0,r,a,e))){return true}}return oV(e,t[0])&&oV(e,t[1])}function SV(e,t,r,a,i){var n=a.coordinateSystem;var o=e.getItemModel(t);var s;var l=pt(o.get("x"),i.getWidth());var u=pt(o.get("y"),i.getHeight());if(!isNaN(l)&&!isNaN(u)){s=[l,u]}else{if(a.getMarkerPosition){s=a.getMarkerPosition(e.getValues(e.dimensions,t))}else{var c=n.dimensions;var v=e.get(c[0],t);var f=e.get(c[1],t);s=n.dataToPoint([v,f])}if(im(n,"cartesian2d")){var h=n.getAxis("x");var d=n.getAxis("y");var c=n.dimensions;if(xV(e.get(c[0],t))){s[0]=h.toGlobalCoord(h.getExtent()[r?0:1])}else if(xV(e.get(c[1],t))){s[1]=d.toGlobalCoord(d.getExtent()[r?0:1])}}if(!isNaN(l)){s[0]=l}if(!isNaN(u)){s[1]=u}}e.setItemLayout(t,s)}var wV=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.updateTransform=function(e,t,r){t.eachSeries((function(e){var t=Jz.getMarkerModelFromSeries(e,"markLine");if(t){var a=t.getData();var i=yV(t).from;var n=yV(t).to;i.each((function(t){SV(i,t,true,e,r);SV(n,t,false,e,r)}));a.each((function(e){a.setItemLayout(e,[i.getItemLayout(e),n.getItemLayout(e)])}));this.markerGroupMap.get(e.id).updateLayout()}}),this)};r.prototype.renderSeries=function(e,t,r,a){var i=e.coordinateSystem;var o=e.id;var s=e.getData();var l=this.markerGroupMap;var u=l.get(o)||l.set(o,new AI);this.group.add(u.group);var c=MV(i,e,t);var v=c.from;var f=c.to;var h=c.line;yV(t).from=v;yV(t).to=f;t.setData(h);var d=t.get("symbol");var p=t.get("symbolSize");var g=t.get("symbolRotate");var m=t.get("symbolOffset");if(!n(d)){d=[d,d]}if(!n(p)){p=[p,p]}if(!n(g)){g=[g,g]}if(!n(m)){m=[m,m]}c.from.each((function(e){x(v,e,true);x(f,e,false)}));h.each((function(e){var t=h.getItemModel(e).getModel("lineStyle").getLineStyle();h.setItemLayout(e,[v.getItemLayout(e),f.getItemLayout(e)]);if(t.stroke==null){t.stroke=v.getItemVisual(e,"style").fill}h.setItemVisual(e,{fromSymbolKeepAspect:v.getItemVisual(e,"symbolKeepAspect"),fromSymbolOffset:v.getItemVisual(e,"symbolOffset"),fromSymbolRotate:v.getItemVisual(e,"symbolRotate"),fromSymbolSize:v.getItemVisual(e,"symbolSize"),fromSymbol:v.getItemVisual(e,"symbol"),toSymbolKeepAspect:f.getItemVisual(e,"symbolKeepAspect"),toSymbolOffset:f.getItemVisual(e,"symbolOffset"),toSymbolRotate:f.getItemVisual(e,"symbolRotate"),toSymbolSize:f.getItemVisual(e,"symbolSize"),toSymbol:f.getItemVisual(e,"symbol"),style:t})}));u.updateData(h);c.line.eachItemGraphicEl((function(e){Xr(e).dataModel=t;e.traverse((function(e){Xr(e).dataModel=t}))}));function x(t,r,i){var n=t.getItemModel(r);SV(t,r,i,e,a);var o=n.getModel("itemStyle").getItemStyle();if(o.fill==null){o.fill=yv(s,"color")}t.setItemVisual(r,{symbolKeepAspect:n.get("symbolKeepAspect"),symbolOffset:y(n.get("symbolOffset",true),m[i?0:1]),symbolRotate:y(n.get("symbolRotate",true),g[i?0:1]),symbolSize:y(n.get("symbolSize"),p[i?0:1]),symbol:y(n.get("symbol",true),d[i?0:1]),style:o})}this.markKeep(u);u.group.silent=t.get("silent")||e.get("silent")};r.type="markLine";return r}(vV);function MV(e,t,r){var a;if(e){a=f(e&&e.dimensions,(function(e){var r=t.getData().getDimensionInfo(t.getData().mapDimension(e))||{};return d(d({},r),{name:e,ordinalMeta:null})}))}else{a=[{name:"value",type:"float"}]}var i=new hd(a,r);var n=new hd(a,r);var o=new hd([],r);var s=f(r.get("data"),N(mV,t,e,r));if(e){s=D(s,N(bV,e))}var l=lV(!!e,a);i.initData(f(s,(function(e){return e[0]})),null,l);n.initData(f(s,(function(e){return e[1]})),null,l);o.initData(f(s,(function(e){return e[2]})));o.hasItemOption=true;return{from:i,to:n,line:o}}function IV(e){e.registerComponentModel(gV);e.registerComponentView(wV);e.registerPreprocessor((function(e){if(jz(e.series,"markLine")){e.markLine=e.markLine||{}}}))}var DV=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.createMarkerModelFromSeries=function(e,t,a){return new r(e,t,a)};r.type="markArea";r.defaultOption={z:1,tooltip:{trigger:"item"},animation:false,label:{show:true,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:true,position:"top"}}};return r}(Jz);var TV=gr();var CV=function(e,t,r,a){var i=a[0];var n=a[1];if(!i||!n){return}var o=aV(e,i);var s=aV(e,n);var l=o.coord;var u=s.coord;l[0]=R(l[0],-Infinity);l[1]=R(l[1],-Infinity);u[0]=R(u[0],Infinity);u[1]=R(u[1],Infinity);var c=V([{},o,s]);c.coord=[o.coord,s.coord];c.x0=o.x;c.y0=o.y;c.x1=s.x;c.y1=s.y;return c};function AV(e){return!isNaN(e)&&!isFinite(e)}function LV(e,t,r,a){var i=1-e;return AV(t[i])&&AV(r[i])}function kV(e,t){var r=t.coord[0];var a=t.coord[1];var i={coord:r,x:t.x0,y:t.y0};var n={coord:a,x:t.x1,y:t.y1};if(im(e,"cartesian2d")){if(r&&a&&(LV(1,r,a)||LV(0,r,a))){return true}return sV(e,i,n)}return oV(e,i)||oV(e,n)}function PV(e,t,r,a,i){var n=a.coordinateSystem;var o=e.getItemModel(t);var s;var l=pt(o.get(r[0]),i.getWidth());var u=pt(o.get(r[1]),i.getHeight());if(!isNaN(l)&&!isNaN(u)){s=[l,u]}else{if(a.getMarkerPosition){var c=e.getValues(["x0","y0"],t);var v=e.getValues(["x1","y1"],t);var f=n.clampData(c);var h=n.clampData(v);var d=[];if(r[0]==="x0"){d[0]=f[0]>h[0]?v[0]:c[0]}else{d[0]=f[0]>h[0]?c[0]:v[0]}if(r[1]==="y0"){d[1]=f[1]>h[1]?v[1]:c[1]}else{d[1]=f[1]>h[1]?c[1]:v[1]}s=a.getMarkerPosition(d,r,true)}else{var p=e.get(r[0],t);var g=e.get(r[1],t);var y=[p,g];n.clampData&&n.clampData(y,y);s=n.dataToPoint(y,true)}if(im(n,"cartesian2d")){var m=n.getAxis("x");var x=n.getAxis("y");var p=e.get(r[0],t);var g=e.get(r[1],t);if(AV(p)){s[0]=m.toGlobalCoord(m.getExtent()[r[0]==="x0"?0:1])}else if(AV(g)){s[1]=x.toGlobalCoord(x.getExtent()[r[1]==="y0"?0:1])}}if(!isNaN(l)){s[0]=l}if(!isNaN(u)){s[1]=u}}return s}var NV=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];var OV=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.updateTransform=function(e,t,r){t.eachSeries((function(e){var t=Jz.getMarkerModelFromSeries(e,"markArea");if(t){var a=t.getData();a.each((function(t){var i=f(NV,(function(i){return PV(a,t,i,e,r)}));a.setItemLayout(t,i);var n=a.getItemGraphicEl(t);n.setShape("points",i)}))}}),this)};r.prototype.renderSeries=function(e,t,r,a){var i=e.coordinateSystem;var n=e.id;var o=e.getData();var s=this.markerGroupMap;var l=s.get(n)||s.set(n,{group:new ue});this.group.add(l.group);this.markKeep(l);var c=RV(i,e,t);t.setData(c);c.each((function(t){var r=f(NV,(function(r){return PV(c,t,r,e,a)}));var n=i.getAxis("x").scale;var s=i.getAxis("y").scale;var l=n.getExtent();var v=s.getExtent();var h=[n.parse(c.get("x0",t)),n.parse(c.get("x1",t))];var d=[s.parse(c.get("y0",t)),s.parse(c.get("y1",t))];yt(h);yt(d);var p=!(l[0]>h[1]||l[1]<h[0]||v[0]>d[1]||v[1]<d[0]);var g=!p;c.setItemLayout(t,{points:r,allClipped:g});var y=c.getItemModel(t).getModel("itemStyle").getItemStyle();var m=yv(o,"color");if(!y.fill){y.fill=m;if(u(y.fill)){y.fill=Y.modifyAlpha(y.fill,.4)}}if(!y.stroke){y.stroke=m}c.setItemVisual(t,"style",y)}));c.diff(TV(l).data).add((function(e){var t=c.getItemLayout(e);if(!t.allClipped){var r=new de({shape:{points:t.points}});c.setItemGraphicEl(e,r);l.group.add(r)}})).update((function(e,r){var a=TV(l).data.getItemGraphicEl(r);var i=c.getItemLayout(e);if(!i.allClipped){if(a){ui(a,{shape:{points:i.points}},t,e)}else{a=new de({shape:{points:i.points}})}c.setItemGraphicEl(e,a);l.group.add(a)}else if(a){l.group.remove(a)}})).remove((function(e){var t=TV(l).data.getItemGraphicEl(e);l.group.remove(t)})).execute();c.eachItemGraphicEl((function(e,r){var a=c.getItemModel(r);var i=c.getItemVisual(r,"style");e.useStyle(c.getItemVisual(r,"style"));Qi(e,en(a),{labelFetcher:t,labelDataIndex:r,defaultText:c.getName(r)||"",inheritColor:u(i.fill)?Y.modifyAlpha(i.fill,1):"#000"});$a(e,a);ja(e,null,null,a.get(["emphasis","disabled"]));Xr(e).dataModel=t}));TV(l).data=c;l.group.silent=t.get("silent")||e.get("silent")};r.type="markArea";return r}(vV);function RV(e,t,r){var a;var i;var n=["x0","y0","x1","y1"];if(e){var o=f(e&&e.dimensions,(function(e){var r=t.getData();var a=r.getDimensionInfo(r.mapDimension(e))||{};return d(d({},a),{name:e,ordinalMeta:null})}));i=f(n,(function(e,t){return{name:e,type:o[t%2].type}}));a=new hd(i,r)}else{i=[{name:"value",type:"float"}];a=new hd(i,r)}var s=f(r.get("data"),N(CV,t,e,r));if(e){s=D(s,N(kV,e))}var l=e?function(e,t,r,a){var n=e.coord[Math.floor(a/2)][a%2];return tu(n,i[a])}:function(e,t,r,a){return tu(e.value,i[a])};a.initData(s,null,l);a.hasItemOption=true;return a}function EV(e){e.registerComponentModel(DV);e.registerComponentView(OV);e.registerPreprocessor((function(e){if(jz(e.series,"markArea")){e.markArea=e.markArea||{}}}))}var zV=function(e,t){if(t==="all"){return{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])}}else if(t==="inverse"){return{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}}};var VV=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.layoutMode={type:"box",ignoreSize:true};return e}r.prototype.init=function(e,t,r){this.mergeDefaultAndTheme(e,r);e.selected=e.selected||{};this._updateSelector(e)};r.prototype.mergeOption=function(e,r){t.prototype.mergeOption.call(this,e,r);this._updateSelector(e)};r.prototype._updateSelector=function(e){var t=e.selector;var r=this.ecModel;if(t===true){t=e.selector=["all","inverse"]}if(a.isArray(t)){a.each(t,(function(e,i){a.isString(e)&&(e={type:e});t[i]=a.merge(e,zV(r,e.type))}))}};r.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){var t=false;for(var r=0;r<e.length;r++){var a=e[r].get("name");if(this.isSelected(a)){this.select(a);t=true;break}}!t&&this.select(e[0].get("name"))}};r.prototype._updateData=function(e){var t=[];var r=[];e.eachRawSeries((function(a){var i=a.name;r.push(i);var n;if(a.legendVisualProvider){var o=a.legendVisualProvider;var s=o.getAllNames();if(!e.isSeriesFiltered(a)){r=r.concat(s)}if(s.length){t=t.concat(s)}else{n=true}}else{n=true}if(n&&ur(a)){t.push(a.name)}}));this._availableNames=r;var i=this.get("data")||t;var n=a.createHashMap();var o=a.map(i,(function(e){if(a.isString(e)||a.isNumber(e)){e={name:e}}if(n.get(e.name)){return null}n.set(e.name,true);return new Mn(e,this,this.ecModel)}),this);this._data=a.filter(o,(function(e){return!!e}))};r.prototype.getData=function(){return this._data};r.prototype.select=function(e){var t=this.option.selected;var r=this.get("selectedMode");if(r==="single"){var i=this._data;a.each(i,(function(e){t[e.get("name")]=false}))}t[e]=true};r.prototype.unSelect=function(e){if(this.get("selectedMode")!=="single"){this.option.selected[e]=false}};r.prototype.toggleSelected=function(e){var t=this.option.selected;if(!t.hasOwnProperty(e)){t[e]=true}this[t[e]?"unSelect":"select"](e)};r.prototype.allSelect=function(){var e=this._data;var t=this.option.selected;a.each(e,(function(e){t[e.get("name",true)]=true}))};r.prototype.inverseSelect=function(){var e=this._data;var t=this.option.selected;a.each(e,(function(e){var r=e.get("name",true);if(!t.hasOwnProperty(r)){t[r]=true}t[r]=!t[r]}))};r.prototype.isSelected=function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&a.indexOf(this._availableNames,e)>=0};r.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}};r.type="legend.plain";r.dependencies=["series"];r.defaultOption={z:4,show:true,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:true,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:true,selector:false,selectorLabel:{show:true,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:true,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:false}};return r}(qo);var BV=a.curry;var GV=a.each;var FV=ue;var HV=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.newlineDisabled=false;return e}r.prototype.init=function(){this.group.add(this._contentGroup=new FV);this.group.add(this._selectorGroup=new FV);this._isFirstRender=true};r.prototype.getContentGroup=function(){return this._contentGroup};r.prototype.getSelectorGroup=function(){return this._selectorGroup};r.prototype.render=function(e,t,r){var i=this._isFirstRender;this._isFirstRender=false;this.resetInner();if(!e.get("show",true)){return}var n=e.get("align");var o=e.get("orient");if(!n||n==="auto"){n=e.get("left")==="right"&&o==="vertical"?"right":"left"}var s=e.get("selector",true);var l=e.get("selectorPosition",true);if(s&&(!l||l==="auto")){l=o==="horizontal"?"end":"start"}this.renderInner(n,e,t,r,s,o,l);var u=e.getBoxLayoutParams();var c={width:r.getWidth(),height:r.getHeight()};var v=e.get("padding");var f=Fo(u,c,v);var h=this.layoutInner(e,n,f,i,s,l);var d=Fo(a.defaults({width:h.width,height:h.height},u),c,v);this.group.x=d.x-h.x;this.group.y=d.y-h.y;this.group.markRedraw();this.group.add(this._backgroundEl=bR(h,e))};r.prototype.resetInner=function(){this.getContentGroup().removeAll();this._backgroundEl&&this.group.remove(this._backgroundEl);this.getSelectorGroup().removeAll()};r.prototype.renderInner=function(e,t,r,i,n,o,s){var l=this.getContentGroup();var u=a.createHashMap();var c=t.get("selectedMode");var v=[];r.eachRawSeries((function(e){!e.get("legendHoverLink")&&v.push(e.id)}));GV(t.getData(),(function(n,o){var s=n.get("name");if(!this.newlineDisabled&&(s===""||s==="\n")){var f=new FV;f.newline=true;l.add(f);return}var h=r.getSeriesByName(s)[0];if(u.get(s)){return}if(h){var d=h.getData();var p=d.getVisual("legendLineStyle")||{};var g=d.getVisual("legendIcon");var y=d.getVisual("style");var m=this._createItem(h,s,o,n,t,e,p,y,g,c,i);m.on("click",BV(YV,s,null,i,v)).on("mouseover",BV(ZV,h.name,null,i,v)).on("mouseout",BV(jV,h.name,null,i,v));if(r.ssr){m.eachChild((function(e){var t=Xr(e);t.seriesIndex=h.seriesIndex;t.dataIndex=o;t.ssrType="legend"}))}u.set(s,true)}else{r.eachRawSeries((function(l){if(u.get(s)){return}if(l.legendVisualProvider){var f=l.legendVisualProvider;if(!f.containName(s)){return}var h=f.indexOfName(s);var d=f.getItemVisual(h,"style");var p=f.getItemVisual(h,"legendIcon");var g=J(d.fill);if(g&&g[3]===0){g[3]=.2;d=a.extend(a.extend({},d),{fill:$(g,"rgba")})}var y=this._createItem(l,s,o,n,t,e,{},d,p,c,i);y.on("click",BV(YV,null,s,i,v)).on("mouseover",BV(ZV,null,s,i,v)).on("mouseout",BV(jV,null,s,i,v));if(r.ssr){y.eachChild((function(e){var t=Xr(e);t.seriesIndex=l.seriesIndex;t.dataIndex=o;t.ssrType="legend"}))}u.set(s,true)}}),this)}}),this);if(n){this._createSelector(n,t,i,o,s)}};r.prototype._createSelector=function(e,t,r,a,i){var n=this.getSelectorGroup();GV(e,(function e(a){var i=a.type;var o=new U({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:i==="all"?"legendAllSelect":"legendInverseSelect"})}});n.add(o);var s=t.getModel("selectorLabel");var l=t.getModel(["emphasis","selectorLabel"]);Qi(o,{normal:s,emphasis:l},{defaultText:a.title});Xa(o)}))};r.prototype._createItem=function(e,t,r,i,n,o,s,l,u,c,v){var f=e.visualDrawType;var h=n.get("itemWidth");var d=n.get("itemHeight");var p=n.isSelected(t);var g=i.get("symbolRotate");var y=i.get("symbolKeepAspect");var m=i.get("icon");u=m||u||"roundRect";var x=WV(u,i,s,l,f,p,v);var _=new FV;var b=i.getModel("textStyle");if(a.isFunction(e.getLegendIcon)&&(!m||m==="inherit")){_.add(e.getLegendIcon({itemWidth:h,itemHeight:d,icon:u,iconRotate:g,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:y}))}else{var S=m==="inherit"&&e.getData().getVisual("symbol")?g==="inherit"?e.getData().getVisual("symbolRotate"):g:0;_.add(UV({itemWidth:h,itemHeight:d,icon:u,iconRotate:S,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:y}))}var w=o==="left"?h+5:-5;var M=o;var I=n.get("formatter");var D=t;if(a.isString(I)&&I){D=I.replace("{name}",t!=null?t:"")}else if(a.isFunction(I)){D=I(t)}var T=p?b.getTextColor():i.get("inactiveColor");_.add(new U({style:tn(b,{text:D,x:w,y:d/2,fill:T,align:M,verticalAlign:"middle"},{inheritColor:T})}));var C=new ge({shape:_.getBoundingRect(),style:{fill:"transparent"}});var A=i.getModel("tooltip");if(A.get("show")){Xi({el:C,componentModel:n,itemName:t,itemTooltipOption:A.option})}_.add(C);_.eachChild((function(e){e.silent=true}));C.silent=!c;this.getContentGroup().add(_);Xa(_);_.__legendDataIndex=r;return _};r.prototype.layoutInner=function(e,t,r,a,i,n){var o=this.getContentGroup();var s=this.getSelectorGroup();Bo(e.get("orient"),o,e.get("itemGap"),r.width,r.height);var l=o.getBoundingRect();var u=[-l.x,-l.y];s.markRedraw();o.markRedraw();if(i){Bo("horizontal",s,e.get("selectorItemGap",true));var c=s.getBoundingRect();var v=[-c.x,-c.y];var f=e.get("selectorButtonGap",true);var h=e.getOrient().index;var d=h===0?"width":"height";var p=h===0?"height":"width";var g=h===0?"y":"x";if(n==="end"){v[h]+=l[d]+f}else{u[h]+=c[d]+f}v[1-h]+=l[p]/2-c[p]/2;s.x=v[0];s.y=v[1];o.x=u[0];o.y=u[1];var y={x:0,y:0};y[d]=l[d]+f+c[d];y[p]=Math.max(l[p],c[p]);y[g]=Math.min(0,c[g]+v[1-h]);return y}else{o.x=u[0];o.y=u[1];return this.group.getBoundingRect()}};r.prototype.remove=function(){this.getContentGroup().removeAll();this._isFirstRender=true};r.type="legend.plain";return r}(gc);function WV(e,t,r,a,i,n,o){function s(e,t){if(e.lineWidth==="auto"){e.lineWidth=t.lineWidth>0?2:0}GV(e,(function(r,a){e[a]==="inherit"&&(e[a]=t[a])}))}var l=t.getModel("itemStyle");var u=l.getItemStyle();var c=e.lastIndexOf("empty",0)===0?"fill":"stroke";var v=l.getShallow("decal");u.decal=!v||v==="inherit"?a.decal:Vv(v,o);if(u.fill==="inherit"){u.fill=a[i]}if(u.stroke==="inherit"){u.stroke=a[c]}if(u.opacity==="inherit"){u.opacity=(i==="fill"?a:r).opacity}s(u,a);var f=t.getModel("lineStyle");var h=f.getLineStyle();s(h,r);u.fill==="auto"&&(u.fill=a.fill);u.stroke==="auto"&&(u.stroke=a.fill);h.stroke==="auto"&&(h.stroke=a.fill);if(!n){var d=t.get("inactiveBorderWidth");var p=u[c];u.lineWidth=d==="auto"?a.lineWidth>0&&p?2:0:u.lineWidth;u.fill=t.get("inactiveColor");u.stroke=t.get("inactiveBorderColor");h.stroke=f.get("inactiveColor");h.lineWidth=f.get("inactiveWidth")}return{itemStyle:u,lineStyle:h}}function UV(e){var t=e.icon||"roundRect";var r=Pv(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);r.setStyle(e.itemStyle);r.rotation=(e.iconRotate||0)*Math.PI/180;r.setOrigin([e.itemWidth/2,e.itemHeight/2]);if(t.indexOf("empty")>-1){r.style.stroke=r.style.fill;r.style.fill="#fff";r.style.lineWidth=2}return r}function YV(e,t,r,a){jV(e,t,r,a);r.dispatchAction({type:"legendToggleSelect",name:e!=null?e:t});ZV(e,t,r,a)}function XV(e){var t=e.getZr().storage.getDisplayList();var r;var a=0;var i=t.length;while(a<i&&!(r=t[a].states.emphasis)){a++}return r&&r.hoverLayer}function ZV(e,t,r,a){if(!XV(r)){r.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:a})}}function jV(e,t,r,a){if(!XV(r)){r.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:a})}}function qV(e){var t=e.findComponents({mainType:"legend"});if(t&&t.length){e.filterSeries((function(e){for(var r=0;r<t.length;r++){if(!t[r].isSelected(e.name)){return false}}return true}))}}function KV(e,t,r){var a={};var i=e==="toggleSelected";var n;r.eachComponent("legend",(function(r){if(i&&n!=null){r[n?"select":"unSelect"](t.name)}else if(e==="allSelect"||e==="inverseSelect"){r[e]()}else{r[e](t.name);n=r.isSelected(t.name)}var o=r.getData();s(o,(function(e){var t=e.get("name");if(t==="\n"||t===""){return}var i=r.isSelected(t);if(a.hasOwnProperty(t)){a[t]=a[t]&&i}else{a[t]=i}}))}));return e==="allSelect"||e==="inverseSelect"?{selected:a}:{name:t.name,selected:a}}function JV(e){e.registerAction("legendToggleSelect","legendselectchanged",N(KV,"toggleSelected"));e.registerAction("legendAllSelect","legendselectall",N(KV,"allSelect"));e.registerAction("legendInverseSelect","legendinverseselect",N(KV,"inverseSelect"));e.registerAction("legendSelect","legendselected",N(KV,"select"));e.registerAction("legendUnSelect","legendunselected",N(KV,"unSelect"))}function $V(e){e.registerComponentModel(VV);e.registerComponentView(HV);e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,qV);e.registerSubTypeDefaulter("legend",(function(){return"plain"}));JV(e)}var QV=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e};r.prototype.init=function(e,r,a){var i=Xo(e);t.prototype.init.call(this,e,r,a);eB(this,e,i)};r.prototype.mergeOption=function(e,r){t.prototype.mergeOption.call(this,e,r);eB(this,this.option,e)};r.type="legend.scroll";r.defaultOption=An(VV.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800});return r}(VV);function eB(e,t,r){var a=e.getOrient();var i=[1,1];i[a.index]=0;Yo(t,r,{type:"box",ignoreSize:!!i})}var tB=ue;var rB=["width","height"];var aB=["x","y"];var iB=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.newlineDisabled=true;e._currentIndex=0;return e}r.prototype.init=function(){t.prototype.init.call(this);this.group.add(this._containerGroup=new tB);this._containerGroup.add(this.getContentGroup());this.group.add(this._controllerGroup=new tB)};r.prototype.resetInner=function(){t.prototype.resetInner.call(this);this._controllerGroup.removeAll();this._containerGroup.removeClipPath();this._containerGroup.__rectSize=null};r.prototype.renderInner=function(e,r,i,n,o,s,l){var u=this;t.prototype.renderInner.call(this,e,r,i,n,o,s,l);var c=this._controllerGroup;var v=r.get("pageIconSize",true);var f=a.isArray(v)?v:[v,v];d("pagePrev",0);var h=r.getModel("pageTextStyle");c.add(new U({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:true}));d("pageNext",1);function d(e,t){var i=e+"DataIndex";var o=Fi(r.get("pageIcons",true)[r.getOrient().name][t],{onclick:a.bind(u._pageGo,u,i,r,n)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});o.name=e;c.add(o)}};r.prototype.layoutInner=function(e,t,r,i,n,o){var s=this.getSelectorGroup();var l=e.getOrient().index;var u=rB[l];var c=aB[l];var v=rB[1-l];var f=aB[1-l];n&&Bo("horizontal",s,e.get("selectorItemGap",true));var h=e.get("selectorButtonGap",true);var d=s.getBoundingRect();var p=[-d.x,-d.y];var g=a.clone(r);n&&(g[u]=r[u]-d[u]-h);var y=this._layoutContentAndController(e,i,g,l,u,v,f,c);if(n){if(o==="end"){p[l]+=y[u]+h}else{var m=d[u]+h;p[l]-=m;y[c]-=m}y[u]+=d[u]+h;p[1-l]+=y[f]+y[v]/2-d[v]/2;y[v]=Math.max(y[v],d[v]);y[f]=Math.min(y[f],d[f]+p[1-l]);s.x=p[0];s.y=p[1];s.markRedraw()}return y};r.prototype._layoutContentAndController=function(e,t,r,i,n,o,s,l){var u=this.getContentGroup();var c=this._containerGroup;var v=this._controllerGroup;Bo(e.get("orient"),u,e.get("itemGap"),!i?null:r.width,i?null:r.height);Bo("horizontal",v,e.get("pageButtonItemGap",true));var f=u.getBoundingRect();var h=v.getBoundingRect();var d=this._showController=f[n]>r[n];var p=[-f.x,-f.y];if(!t){p[i]=u[l]}var g=[0,0];var y=[-h.x,-h.y];var m=a.retrieve2(e.get("pageButtonGap",true),e.get("itemGap",true));if(d){var x=e.get("pageButtonPosition",true);if(x==="end"){y[i]+=r[n]-h[n]}else{g[i]+=h[n]+m}}y[1-i]+=f[o]/2-h[o]/2;u.setPosition(p);c.setPosition(g);v.setPosition(y);var _={x:0,y:0};_[n]=d?r[n]:f[n];_[o]=Math.max(f[o],h[o]);_[s]=Math.min(0,h[s]+y[1-i]);c.__rectSize=r[n];if(d){var b={x:0,y:0};b[n]=Math.max(r[n]-h[n]-m,0);b[o]=_[o];c.setClipPath(new ge({shape:b}));c.__rectSize=b[n]}else{v.eachChild((function(e){e.attr({invisible:true,silent:true})}))}var S=this._getPageInfo(e);S.pageIndex!=null&&ui(u,{x:S.contentPosition[0],y:S.contentPosition[1]},d?e:null);this._updatePageInfoView(e,S);return _};r.prototype._pageGo=function(e,t,r){var a=this._getPageInfo(t)[e];a!=null&&r.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:t.id})};r.prototype._updatePageInfoView=function(e,t){var r=this._controllerGroup;a.each(["pagePrev","pageNext"],(function(a){var i=a+"DataIndex";var n=t[i]!=null;var o=r.childOfName(a);if(o){o.setStyle("fill",n?e.get("pageIconColor",true):e.get("pageIconInactiveColor",true));o.cursor=n?"pointer":"default"}}));var i=r.childOfName("pageText");var n=e.get("pageFormatter");var o=t.pageIndex;var s=o!=null?o+1:0;var l=t.pageCount;i&&n&&i.setStyle("text",a.isString(n)?n.replace("{current}",s==null?"":s+"").replace("{total}",l==null?"":l+""):n({current:s,total:l}))};r.prototype._getPageInfo=function(e){var t=e.get("scrollDataIndex",true);var r=this.getContentGroup();var a=this._containerGroup.__rectSize;var i=e.getOrient().index;var n=rB[i];var o=aB[i];var s=this._findTargetItemIndex(t);var l=r.children();var u=l[s];var c=l.length;var v=!c?0:1;var f={contentPosition:[r.x,r.y],pageCount:v,pageIndex:v-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!u){return f}var h=m(u);f.contentPosition[i]=-h.s;for(var d=s+1,p=h,g=h,y=null;d<=c;++d){y=m(l[d]);if(!y&&g.e>p.s+a||y&&!x(y,p.s)){if(g.i>p.i){p=g}else{p=y}if(p){if(f.pageNextDataIndex==null){f.pageNextDataIndex=p.i}++f.pageCount}}g=y}for(var d=s-1,p=h,g=h,y=null;d>=-1;--d){y=m(l[d]);if((!y||!x(g,y.s))&&p.i<g.i){g=p;if(f.pagePrevDataIndex==null){f.pagePrevDataIndex=p.i}++f.pageCount;++f.pageIndex}p=y}return f;function m(e){if(e){var t=e.getBoundingRect();var r=t[o]+e[o];return{s:r,e:r+t[n],i:e.__legendDataIndex}}}function x(e,t){return e.e>=t&&e.s<=t+a}};r.prototype._findTargetItemIndex=function(e){if(!this._showController){return 0}var t;var r=this.getContentGroup();var a;r.eachChild((function(r,i){var n=r.__legendDataIndex;if(a==null&&n!=null){a=i}if(n===e){t=i}}));return t!=null?t:a};r.type="legend.scroll";return r}(HV);function nB(e){e.registerAction("legendScroll","legendscroll",(function(e,t){var r=e.scrollDataIndex;r!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},(function(e){e.setScrollDataIndex(r)}))}))}function oB(e){Eh($V);e.registerComponentModel(QV);e.registerComponentView(iB);nB(e)}function sB(e){Eh($V);Eh(oB)}var lB=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.type="dataZoom.inside";r.defaultOption=An(tR.defaultOption,{disabled:false,zoomLock:false,zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:false,preventDefaultMouseMove:true});return r}(tR);var uB=gr();function cB(e,t,r){uB(e).coordSysRecordMap.each((function(e){var a=e.dataZoomInfoMap.get(t.uid);if(a){a.getRange=r}}))}function vB(e,t){var r=uB(e).coordSysRecordMap;var a=r.keys();for(var i=0;i<a.length;i++){var n=a[i];var o=r.get(n);var s=o.dataZoomInfoMap;if(s){var l=t.uid;var u=s.get(l);if(u){s.removeKey(l);if(!s.keys().length){fB(r,o)}}}}}function fB(e,t){if(t){e.removeKey(t.model.uid);var r=t.controller;r&&r.dispose()}}function hB(e,t){var r={model:t,containsPoint:N(pB,t),dispatchAction:N(dB,e),dataZoomInfoMap:null,controller:null};var a=r.controller=new vb(e.getZr());s(["pan","zoom","scrollMove"],(function(e){a.on(e,(function(t){var a=[];r.dataZoomInfoMap.each((function(i){if(!t.isAvailableBehavior(i.model.option)){return}var n=(i.getRange||{})[e];var o=n&&n(i.dzReferCoordSysInfo,r.model.mainType,r.controller,t);!i.model.get("disabled",true)&&o&&a.push({dataZoomId:i.model.id,start:o[0],end:o[1]})}));a.length&&r.dispatchAction(a)}))}));return r}function dB(e,t){if(!e.isDisposed()){e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}}function pB(e,t,r,a){return e.coordinateSystem.containPoint([r,a])}function gB(e){var t;var r="type_";var a={type_true:2,type_move:1,type_false:0,type_undefined:-1};var i=true;e.each((function(e){var n=e.model;var o=n.get("disabled",true)?false:n.get("zoomLock",true)?"move":true;if(a[r+o]>a[r+t]){t=o}i=i&&n.get("preventDefaultMouseMove",true)}));return{controlType:t,opt:{zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:true,preventDefaultMouseMove:!!i}}}function yB(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,(function(e,t){var r=uB(t);var a=r.coordSysRecordMap||(r.coordSysRecordMap=o());a.each((function(e){e.dataZoomInfoMap=null}));e.eachComponent({mainType:"dataZoom",subType:"inside"},(function(e){var r=QO(e);s(r.infoList,(function(r){var i=r.model.uid;var n=a.get(i)||a.set(i,hB(t,r.model));var s=n.dataZoomInfoMap||(n.dataZoomInfoMap=o());s.set(e.uid,{dzReferCoordSysInfo:r,model:e,getRange:null})}))}));a.each((function(e){var t=e.controller;var r;var i=e.dataZoomInfoMap;if(i){var n=i.keys()[0];if(n!=null){r=i.get(n)}}if(!r){fB(a,e);return}var o=gB(i);t.enable(o.controlType,o.opt);t.setPointerChecker(e.containsPoint);Lc(e,"dispatchAction",r.model.get("throttle",true),"fixRate")}))}))}var mB=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type="dataZoom.inside";return e}r.prototype.render=function(e,r,a){t.prototype.render.apply(this,arguments);if(e.noTarget()){this._clear();return}this.range=e.getPercentRange();cB(a,e,{pan:C(xB.pan,this),zoom:C(xB.zoom,this),scrollMove:C(xB.scrollMove,this)})};r.prototype.dispose=function(){this._clear();t.prototype.dispose.apply(this,arguments)};r.prototype._clear=function(){vB(this.api,this.dataZoomModel);this.range=null};r.type="dataZoom.inside";return r}(iR);var xB={zoom:function(e,t,r,a){var i=this.range;var n=i.slice();var o=e.axisModels[0];if(!o){return}var s=bB[t](null,[a.originX,a.originY],o,r,e);var l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(n[1]-n[0])+n[0];var u=Math.max(1/a.scale,0);n[0]=(n[0]-l)*u+l;n[1]=(n[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();zD(0,n,[0,100],0,c.minSpan,c.maxSpan);this.range=n;if(i[0]!==n[0]||i[1]!==n[1]){return n}},pan:_B((function(e,t,r,a,i,n){var o=bB[a]([n.oldX,n.oldY],[n.newX,n.newY],t,i,r);return o.signal*(e[1]-e[0])*o.pixel/o.pixelLength})),scrollMove:_B((function(e,t,r,a,i,n){var o=bB[a]([0,0],[n.scrollDelta,n.scrollDelta],t,i,r);return o.signal*(e[1]-e[0])*n.scrollDelta}))};function _B(e){return function(t,r,a,i){var n=this.range;var o=n.slice();var s=t.axisModels[0];if(!s){return}var l=e(o,s,t,r,a,i);zD(l,o,[0,100],"all");this.range=o;if(n[0]!==o[0]||n[1]!==o[1]){return o}}}var bB={grid:function(e,t,r,a,i){var n=r.axis;var o={};var s=i.model.coordinateSystem.getRect();e=e||[0,0];if(n.dim==="x"){o.pixel=t[0]-e[0];o.pixelLength=s.width;o.pixelStart=s.x;o.signal=n.inverse?1:-1}else{o.pixel=t[1]-e[1];o.pixelLength=s.height;o.pixelStart=s.y;o.signal=n.inverse?-1:1}return o},polar:function(e,t,r,a,i){var n=r.axis;var o={};var s=i.model.coordinateSystem;var l=s.getRadiusAxis().getExtent();var u=s.getAngleAxis().getExtent();e=e?s.pointToCoord(e):[0,0];t=s.pointToCoord(t);if(r.mainType==="radiusAxis"){o.pixel=t[0]-e[0];o.pixelLength=l[1]-l[0];o.pixelStart=l[0];o.signal=n.inverse?1:-1}else{o.pixel=t[1]-e[1];o.pixelLength=u[1]-u[0];o.pixelStart=u[0];o.signal=n.inverse?-1:1}return o},singleAxis:function(e,t,r,a,i){var n=r.axis;var o=i.model.coordinateSystem.getRect();var s={};e=e||[0,0];if(n.orient==="horizontal"){s.pixel=t[0]-e[0];s.pixelLength=o.width;s.pixelStart=o.x;s.signal=n.inverse?1:-1}else{s.pixel=t[1]-e[1];s.pixelLength=o.height;s.pixelStart=o.y;s.signal=n.inverse?-1:1}return s}};function SB(e){hR(e);e.registerComponentModel(lB);e.registerComponentView(mB);yB(e)}var wB=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.type="dataZoom.slider";r.layoutMode="box";r.defaultOption=An(tR.defaultOption,{show:true,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:true,showDataShadow:"auto",realtime:true,zoomLock:false,textStyle:{color:"#6E7079"},brushSelect:true,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}});return r}(tR);var MB=ge;var IB=7;var DB=1;var TB=30;var CB=7;var AB="horizontal";var LB="vertical";var kB=5;var PB=["line","bar","candlestick","scatter"];var NB={easing:"cubicOut",duration:100,delay:0};var OB=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e._displayables={};return e}r.prototype.init=function(e,t){this.api=t;this._onBrush=C(this._onBrush,this);this._onBrushEnd=C(this._onBrushEnd,this)};r.prototype.render=function(e,r,a,i){t.prototype.render.apply(this,arguments);Lc(this,"_dispatchZoomAction",e.get("throttle"),"fixRate");this._orient=e.getOrient();if(e.get("show")===false){this.group.removeAll();return}if(e.noTarget()){this._clear();this.group.removeAll();return}if(!i||i.type!=="dataZoom"||i.from!==this.uid){this._buildView()}this._updateView()};r.prototype.dispose=function(){this._clear();t.prototype.dispose.apply(this,arguments)};r.prototype._clear=function(){kc(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush);e.off("mouseup",this._onBrushEnd)};r.prototype._buildView=function(){var e=this.group;e.removeAll();this._brushing=false;this._displayables.brushRect=null;this._resetLocation();this._resetInterval();var t=this._displayables.sliderGroup=new ue;this._renderBackground();this._renderHandle();this._renderDataShadow();e.add(t);this._positionGroup()};r.prototype._resetLocation=function(){var e=this.dataZoomModel;var t=this.api;var r=e.get("brushSelect");var a=r?CB:0;var i=this._findCoordRect();var n={width:t.getWidth(),height:t.getHeight()};var o=this._orient===AB?{right:n.width-i.x-i.width,top:n.height-TB-IB-a,width:i.width,height:TB}:{right:IB,top:i.y,width:TB,height:i.height};var l=Xo(e.option);s(["right","top","width","height"],(function(e){if(l[e]==="ph"){l[e]=o[e]}}));var u=Fo(l,n);this._location={x:u.x,y:u.y};this._size=[u.width,u.height];this._orient===LB&&this._size.reverse()};r.prototype._positionGroup=function(){var e=this.group;var t=this._location;var r=this._orient;var a=this.dataZoomModel.getFirstTargetAxisModel();var i=a&&a.get("inverse");var n=this._displayables.sliderGroup;var o=(this._dataShadowInfo||{}).otherAxisInverse;n.attr(r===AB&&!i?{scaleY:o?1:-1,scaleX:1}:r===AB&&i?{scaleY:o?1:-1,scaleX:-1}:r===LB&&!i?{scaleY:o?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:o?-1:1,scaleX:-1,rotation:Math.PI/2});var s=e.getBoundingRect([n]);e.x=t.x-s.x;e.y=t.y-s.y;e.markRedraw()};r.prototype._getViewExtent=function(){return[0,this._size[0]]};r.prototype._renderBackground=function(){var e=this.dataZoomModel;var t=this._size;var r=this._displayables.sliderGroup;var a=e.get("brushSelect");r.add(new MB({silent:true,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var i=new MB({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:C(this._onClickPanel,this)});var n=this.api.getZr();if(a){i.on("mousedown",this._onBrushStart,this);i.cursor="crosshair";n.on("mousemove",this._onBrush);n.on("mouseup",this._onBrushEnd)}else{n.off("mousemove",this._onBrush);n.off("mouseup",this._onBrushEnd)}r.add(i)};r.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();this._displayables.dataShadowSegs=[];if(!e){return}var t=this._size;var r=this._shadowSize||[];var a=e.series;var i=a.getRawData();var n=a.getShadowDim&&a.getShadowDim();var o=n&&i.getDimensionInfo(n)?a.getShadowDim():e.otherDim;if(o==null){return}var s=this._shadowPolygonPts;var l=this._shadowPolylinePts;if(i!==this._shadowData||o!==this._shadowDim||t[0]!==r[0]||t[1]!==r[1]){var u=i.getDataExtent(o);var c=(u[1]-u[0])*.3;u=[u[0]-c,u[1]+c];var v=[0,t[1]];var f=[0,t[0]];var h=[[t[0],0],[0,0]];var d=[];var p=f[1]/(i.count()-1);var g=0;var y=Math.round(i.count()/t[0]);var m;i.each([o],(function(e,t){if(y>0&&t%y){g+=p;return}var r=e==null||isNaN(e)||e==="";var a=r?0:dt(e,u,v,true);if(r&&!m&&t){h.push([h[h.length-1][0],0]);d.push([d[d.length-1][0],0])}else if(!r&&m){h.push([g,0]);d.push([g,0])}h.push([g,a]);d.push([g,a]);g+=p;m=r}));s=this._shadowPolygonPts=h;l=this._shadowPolylinePts=d}this._shadowData=i;this._shadowDim=o;this._shadowSize=[t[0],t[1]];var x=this.dataZoomModel;function _(e){var t=x.getModel(e?"selectedDataBackground":"dataBackground");var r=new ue;var a=new de({shape:{points:s},segmentIgnoreThreshold:1,style:t.getModel("areaStyle").getAreaStyle(),silent:true,z2:-20});var i=new pe({shape:{points:l},segmentIgnoreThreshold:1,style:t.getModel("lineStyle").getLineStyle(),silent:true,z2:-19});r.add(a);r.add(i);return r}for(var b=0;b<3;b++){var S=_(b===1);this._displayables.sliderGroup.add(S);this._displayables.dataShadowSegs.push(S)}};r.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel;var t=e.get("showDataShadow");if(t===false){return}var r;var a=this.ecModel;e.eachTargetAxis((function(i,n){var o=e.getAxisProxy(i,n).getTargetSeriesModels();s(o,(function(e){if(r){return}if(t!==true&&h(PB,e.get("type"))<0){return}var o=a.getComponent(JO(i),n).axis;var s=RB(i);var l;var u=e.coordinateSystem;if(s!=null&&u.getOtherAxis){l=u.getOtherAxis(o).inverse}s=e.getData().mapDimension(s);r={thisAxis:o,series:e,thisDim:i,otherDim:s,otherAxisInverse:l}}),this)}),this);return r};r.prototype._renderHandle=function(){var e=this.group;var t=this._displayables;var r=t.handles=[null,null];var a=t.handleLabels=[null,null];var i=this._displayables.sliderGroup;var n=this._size;var o=this.dataZoomModel;var l=this.api;var u=o.get("borderRadius")||0;var c=o.get("brushSelect");var v=t.filler=new MB({silent:c,style:{fill:o.get("fillerColor")},textConfig:{position:"inside"}});i.add(v);i.add(new MB({silent:true,subPixelOptimize:true,shape:{x:0,y:0,width:n[0],height:n[1],r:u},style:{stroke:o.get("dataBackgroundColor")||o.get("borderColor"),lineWidth:DB,fill:"rgba(0,0,0,0)"}}));s([0,1],(function(t){var n=o.get("handleIcon");if(!Av[n]&&n.indexOf("path://")<0&&n.indexOf("image://")<0){n="path://"+n}var s=Pv(n,-1,0,2,2,null,true);s.attr({cursor:EB(this._orient),draggable:true,drift:C(this._onDragMove,this,t),ondragend:C(this._onDragEnd,this),onmouseover:C(this._showDataInfo,this,true),onmouseout:C(this._showDataInfo,this,false),z2:5});var l=s.getBoundingRect();var u=o.get("handleSize");this._handleHeight=pt(u,this._size[1]);this._handleWidth=l.width/l.height*this._handleHeight;s.setStyle(o.getModel("handleStyle").getItemStyle());s.style.strokeNoScale=true;s.rectHover=true;s.ensureState("emphasis").style=o.getModel(["emphasis","handleStyle"]).getItemStyle();Xa(s);var c=o.get("handleColor");if(c!=null){s.style.fill=c}i.add(r[t]=s);var v=o.getModel("textStyle");e.add(a[t]=new U({silent:true,invisible:true,style:tn(v,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:v.getTextColor(),font:v.getFont()}),z2:10}))}),this);var f=v;if(c){var h=pt(o.get("moveHandleSize"),n[1]);var d=t.moveHandle=new ge({style:o.getModel("moveHandleStyle").getItemStyle(),silent:true,shape:{r:[0,0,2,2],y:n[1]-.5,height:h}});var p=h*.8;var g=t.moveHandleIcon=Pv(o.get("moveHandleIcon"),-p/2,-p/2,p,p,"#fff",true);g.silent=true;g.y=n[1]+h/2-.5;d.ensureState("emphasis").style=o.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var y=Math.min(n[1]/2,Math.max(h,10));f=t.moveZone=new ge({invisible:true,shape:{y:n[1]-y,height:h+y}});f.on("mouseover",(function(){l.enterEmphasis(d)})).on("mouseout",(function(){l.leaveEmphasis(d)}));i.add(d);i.add(g);i.add(f)}f.attr({draggable:true,cursor:EB(this._orient),drift:C(this._onDragMove,this,"all"),ondragstart:C(this._showDataInfo,this,true),ondragend:C(this._onDragEnd,this),onmouseover:C(this._showDataInfo,this,true),onmouseout:C(this._showDataInfo,this,false)})};r.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange();var t=this._getViewExtent();this._handleEnds=[dt(e[0],[0,100],t,true),dt(e[1],[0,100],t,true)]};r.prototype._updateInterval=function(e,t){var r=this.dataZoomModel;var a=this._handleEnds;var i=this._getViewExtent();var n=r.findRepresentativeAxisProxy().getMinMaxSpan();var o=[0,100];zD(t,a,i,r.get("zoomLock")?"all":e,n.minSpan!=null?dt(n.minSpan,o,i,true):null,n.maxSpan!=null?dt(n.maxSpan,o,i,true):null);var s=this._range;var l=this._range=yt([dt(a[0],i,o,true),dt(a[1],i,o,true)]);return!s||s[0]!==l[0]||s[1]!==l[1]};r.prototype._updateView=function(e){var t=this._displayables;var r=this._handleEnds;var a=yt(r.slice());var i=this._size;s([0,1],(function(e){var a=t.handles[e];var n=this._handleHeight;a.attr({scaleX:n/2,scaleY:n/2,x:r[e]+(e?-1:1),y:i[1]/2-n/2})}),this);t.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:i[1]});var n={x:a[0],width:a[1]-a[0]};if(t.moveHandle){t.moveHandle.setShape(n);t.moveZone.setShape(n);t.moveZone.getBoundingRect();t.moveHandleIcon&&t.moveHandleIcon.attr("x",n.x+n.width/2)}var o=t.dataShadowSegs;var l=[0,a[0],a[1],i[0]];for(var u=0;u<o.length;u++){var c=o[u];var v=c.getClipPath();if(!v){v=new ge;c.setClipPath(v)}v.setShape({x:l[u],y:0,width:l[u+1]-l[u],height:i[1]})}this._updateDataInfo(e)};r.prototype._updateDataInfo=function(e){var t=this.dataZoomModel;var r=this._displayables;var a=r.handleLabels;var i=this._orient;var n=["",""];if(t.get("showDetail")){var o=t.findRepresentativeAxisProxy();if(o){var s=o.getAxisModel().axis;var l=this._range;var u=e?o.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:o.getDataValueWindow();n=[this._formatLabel(u[0],s),this._formatLabel(u[1],s)]}}var c=yt(this._handleEnds.slice());v.call(this,0);v.call(this,1);function v(e){var t=Ni(r.handles[e].parent,this.group);var o=Ri(e===0?"right":"left",t);var s=this._handleWidth/2+kB;var l=Oi([c[e]+(e===0?-s:s),this._size[1]/2],t);a[e].setStyle({x:l[0],y:l[1],verticalAlign:i===AB?"middle":o,align:i===AB?o:"center",text:n[e]})}};r.prototype._formatLabel=function(e,t){var r=this.dataZoomModel;var a=r.get("labelFormatter");var i=r.get("labelPrecision");if(i==null||i==="auto"){i=t.getPixelPrecision()}var n=e==null||isNaN(e)?"":t.type==="category"||t.type==="time"?t.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(i,20));return m(a)?a(e,n):u(a)?a.replace("{value}",n):n};r.prototype._showDataInfo=function(e){e=this._dragging||e;var t=this._displayables;var r=t.handleLabels;r[0].attr("invisible",!e);r[1].attr("invisible",!e);t.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](t.moveHandle,1)};r.prototype._onDragMove=function(e,t,r,a){this._dragging=true;Ke.stop(a.event);var i=this._displayables.sliderGroup.getLocalTransform();var n=Oi([t,r],i,true);var o=this._updateInterval(e,n[0]);var s=this.dataZoomModel.get("realtime");this._updateView(!s);o&&s&&this._dispatchZoomAction(true)};r.prototype._onDragEnd=function(){this._dragging=false;this._showDataInfo(false);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction(false)};r.prototype._onClickPanel=function(e){var t=this._size;var r=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(r[0]<0||r[0]>t[0]||r[1]<0||r[1]>t[1]){return}var a=this._handleEnds;var i=(a[0]+a[1])/2;var n=this._updateInterval("all",r[0]-i);this._updateView();n&&this._dispatchZoomAction(false)};r.prototype._onBrushStart=function(e){var t=e.offsetX;var r=e.offsetY;this._brushStart=new Ie(t,r);this._brushing=true;this._brushStartTime=+new Date};r.prototype._onBrushEnd=function(e){if(!this._brushing){return}var t=this._displayables.brushRect;this._brushing=false;if(!t){return}t.attr("ignore",true);var r=t.shape;var a=+new Date;if(a-this._brushStartTime<200&&Math.abs(r.width)<5){return}var i=this._getViewExtent();var n=[0,100];this._range=yt([dt(r.x,i,n,true),dt(r.x+r.width,i,n,true)]);this._handleEnds=[r.x,r.x+r.width];this._updateView();this._dispatchZoomAction(false)};r.prototype._onBrush=function(e){if(this._brushing){Ke.stop(e.event);this._updateBrushRect(e.offsetX,e.offsetY)}};r.prototype._updateBrushRect=function(e,t){var r=this._displayables;var a=this.dataZoomModel;var i=r.brushRect;if(!i){i=r.brushRect=new MB({silent:true,style:a.getModel("brushStyle").getItemStyle()});r.sliderGroup.add(i)}i.attr("ignore",false);var n=this._brushStart;var o=this._displayables.sliderGroup;var s=o.transformCoordToLocal(e,t);var l=o.transformCoordToLocal(n.x,n.y);var u=this._size;s[0]=Math.max(Math.min(u[0],s[0]),0);i.setShape({x:l[0],y:0,width:s[0]-l[0],height:u[1]})};r.prototype._dispatchZoomAction=function(e){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?NB:null,start:t[0],end:t[1]})};r.prototype._findCoordRect=function(){var e;var t=QO(this.dataZoomModel).infoList;if(!e&&t.length){var r=t[0].model.coordinateSystem;e=r.getRect&&r.getRect()}if(!e){var a=this.api.getWidth();var i=this.api.getHeight();e={x:a*.2,y:i*.2,width:a*.6,height:i*.6}}return e};r.type="dataZoom.slider";return r}(iR);function RB(e){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[e]}function EB(e){return e==="vertical"?"ns-resize":"ew-resize"}function zB(e){e.registerComponentModel(wB);e.registerComponentView(OB);hR(e)}function VB(e){Eh(SB);Eh(zB)}var BB={get:function(e,t,r){var i=a.clone((GB[e]||{})[t]);return r?a.isArray(i)?i[i.length-1]:i:i}};var GB={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};var FB=jw.mapVisual;var HB=jw.eachVisual;var WB=a.isArray;var UB=a.each;var YB=yt;var XB=dt;var ZB=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.stateList=["inRange","outOfRange"];e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"];e.layoutMode={type:"box",ignoreSize:true};e.dataBound=[-Infinity,Infinity];e.targetVisuals={};e.controllerVisuals={};return e}r.prototype.init=function(e,t,r){this.mergeDefaultAndTheme(e,r)};r.prototype.optionUpdated=function(e,t){var r=this.option;!t&&rz(r,e,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()};r.prototype.resetVisual=function(e){var t=this.stateList;e=a.bind(e,this);this.controllerVisuals=tz(this.option.controller,t,e);this.targetVisuals=tz(this.option.target,t,e)};r.prototype.getItemSymbol=function(){return null};r.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex;var t=[];if(e==null||e==="all"){this.ecModel.eachSeries((function(e,r){t.push(r)}))}else{t=jt(e)}return t};r.prototype.eachTargetSeries=function(e,t){a.each(this.getTargetSeriesIndices(),(function(r){var a=this.ecModel.getSeriesByIndex(r);if(a){e.call(t,a)}}),this)};r.prototype.isTargetSeries=function(e){var t=false;this.eachTargetSeries((function(r){r===e&&(t=true)}));return t};r.prototype.formatValueText=function(e,t,r){var i=this.option;var n=i.precision;var o=this.dataBound;var s=i.formatter;var l;r=r||["<",">"];if(a.isArray(e)){e=e.slice();l=true}var u=t?e:l?[c(e[0]),c(e[1])]:c(e);if(a.isString(s)){return s.replace("{value}",l?u[0]:u).replace("{value2}",l?u[1]:u)}else if(a.isFunction(s)){return l?s(e[0],e[1]):s(e)}if(l){if(e[0]===o[0]){return r[0]+" "+u[1]}else if(e[1]===o[1]){return r[1]+" "+u[0]}else{return u[0]+" - "+u[1]}}else{return u}function c(e){return e===o[0]?"min":e===o[1]?"max":(+e).toFixed(Math.min(n,20))}};r.prototype.resetExtent=function(){var e=this.option;var t=YB([e.min,e.max]);this._dataExtent=t};r.prototype.getDataDimensionIndex=function(e){var t=this.option.dimension;if(t!=null){return e.getDimensionIndex(t)}var r=e.dimensions;for(var a=r.length-1;a>=0;a--){var i=r[a];var n=e.getDimensionInfo(i);if(!n.isCalculationCoord){return n.storeDimIndex}}};r.prototype.getExtent=function(){return this._dataExtent.slice()};r.prototype.completeVisualOption=function(){var e=this.ecModel;var t=this.option;var r={inRange:t.inRange,outOfRange:t.outOfRange};var i=t.target||(t.target={});var n=t.controller||(t.controller={});a.merge(i,r);a.merge(n,r);var o=this.isCategory();s.call(this,i);s.call(this,n);l.call(this,i,"inRange","outOfRange");u.call(this,n);function s(r){if(WB(t.color)&&!r.inRange){r.inRange={color:t.color.slice().reverse()}}r.inRange=r.inRange||{color:e.get("gradientColor")}}function l(e,t,r){var a=e[t];var i=e[r];if(a&&!i){i=e[r]={};UB(a,(function(e,t){if(!jw.isValidType(t)){return}var r=BB.get(t,"inactive",o);if(r!=null){i[t]=r;if(t==="color"&&!i.hasOwnProperty("opacity")&&!i.hasOwnProperty("colorAlpha")){i.opacity=[0,0]}}}))}}function u(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol;var r=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize;var i=this.get("inactiveColor");var n=this.getItemSymbol();var s=n||"roundRect";UB(this.stateList,(function(n){var l=this.itemSize;var u=e[n];if(!u){u=e[n]={color:o?i:[i]}}if(u.symbol==null){u.symbol=t&&a.clone(t)||(o?s:[s])}if(u.symbolSize==null){u.symbolSize=r&&a.clone(r)||(o?l[0]:[l[0],l[0]])}u.symbol=FB(u.symbol,(function(e){return e==="none"?s:e}));var c=u.symbolSize;if(c!=null){var v=-Infinity;HB(c,(function(e){e>v&&(v=e)}));u.symbolSize=FB(c,(function(e){return XB(e,[0,v],[0,l[0]],true)}))}}),this)}};r.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]};r.prototype.isCategory=function(){return!!this.option.categories};r.prototype.setSelected=function(e){};r.prototype.getSelected=function(){return null};r.prototype.getValueState=function(e){return null};r.prototype.getVisualMeta=function(e){return null};r.type="visualMap";r.dependencies=["series"];r.defaultOption={show:true,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:false,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}};return r}(qo);var jB=[20,140];var qB=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.optionUpdated=function(e,r){t.prototype.optionUpdated.apply(this,arguments);this.resetExtent();this.resetVisual((function(e){e.mappingMethod="linear";e.dataExtent=this.getExtent()}));this._resetRange()};r.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(e[0]==null||isNaN(e[0]))&&(e[0]=jB[0]);(e[1]==null||isNaN(e[1]))&&(e[1]=jB[1])};r.prototype._resetRange=function(){var e=this.getExtent();var t=this.option.range;if(!t||t.auto){e.auto=1;this.option.range=e}else if(a.isArray(t)){if(t[0]>t[1]){t.reverse()}t[0]=Math.max(t[0],e[0]);t[1]=Math.min(t[1],e[1])}};r.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments);a.each(this.stateList,(function(e){var t=this.option.controller[e].symbolSize;if(t&&t[0]!==t[1]){t[0]=t[1]/3}}),this)};r.prototype.setSelected=function(e){this.option.range=e.slice();this._resetRange()};r.prototype.getSelected=function(){var e=this.getExtent();var t=yt((this.get("range")||[]).slice());t[0]>e[1]&&(t[0]=e[1]);t[1]>e[1]&&(t[1]=e[1]);t[0]<e[0]&&(t[0]=e[0]);t[1]<e[0]&&(t[1]=e[0]);return t};r.prototype.getValueState=function(e){var t=this.option.range;var r=this.getExtent();return(t[0]<=r[0]||t[0]<=e)&&(t[1]>=r[1]||e<=t[1])?"inRange":"outOfRange"};r.prototype.findTargetDataIndices=function(e){var t=[];this.eachTargetSeries((function(r){var a=[];var i=r.getData();i.each(this.getDataDimensionIndex(i),(function(t,r){e[0]<=t&&t<=e[1]&&a.push(r)}),this);t.push({seriesId:r.id,dataIndex:a})}),this);return t};r.prototype.getVisualMeta=function(e){var t=KB(this,"outOfRange",this.getExtent());var r=KB(this,"inRange",this.option.range.slice());var a=[];function i(t,r){a.push({value:t,color:e(t,r)})}var n=0;var o=0;var s=r.length;var l=t.length;for(;o<l&&(!r.length||t[o]<=r[0]);o++){if(t[o]<r[n]){i(t[o],"outOfRange")}}for(var u=1;n<s;n++,u=0){u&&a.length&&i(r[n],"outOfRange");i(r[n],"inRange")}for(var u=1;o<l;o++){if(!r.length||r[r.length-1]<t[o]){if(u){a.length&&i(a[a.length-1].value,"outOfRange");u=0}i(t[o],"outOfRange")}}var c=a.length;return{stops:a,outerColors:[c?a[0].color:"transparent",c?a[c-1].color:"transparent"]}};r.type="visualMap.continuous";r.defaultOption=An(ZB.defaultOption,{align:"auto",calculable:false,hoverLink:true,realtime:true,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}});return r}(ZB);function KB(e,t,r){if(r[0]===r[1]){return r.slice()}var a=200;var i=(r[1]-r[0])/a;var n=r[0];var o=[];for(var s=0;s<=a&&n<r[1];s++){o.push(n);n+=i}o.push(r[1]);return o}var JB=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e.autoPositionValues={left:1,right:1,top:1,bottom:1};return e}r.prototype.init=function(e,t){this.ecModel=e;this.api=t};r.prototype.render=function(e,t,r,a){this.visualMapModel=e;if(e.get("show")===false){this.group.removeAll();return}this.doRender(e,t,r,a)};r.prototype.renderBackground=function(e){var t=this.visualMapModel;var r=Mo(t.get("padding")||0);var a=e.getBoundingRect();e.add(new ge({z2:-1,silent:true,shape:{x:a.x-r[3],y:a.y-r[0],width:a.width+r[3]+r[1],height:a.height+r[0]+r[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))};r.prototype.getControllerVisual=function(e,t,r){r=r||{};var i=r.forceState;var n=this.visualMapModel;var o={};if(t==="color"){var s=n.get("contentColor");o.color=s}function l(e){return o[e]}function u(e,t){o[e]=t}var c=n.controllerVisuals[i||n.getValueState(e)];var v=jw.prepareVisualTypes(c);a.each(v,(function(a){var i=c[a];if(r.convertOpacityToAlpha&&a==="opacity"){a="colorAlpha";i=c.__alphaForOpacity}if(jw.dependsOn(a,t)){i&&i.applyVisual(e,l,u)}}));return o[t]};r.prototype.positionGroup=function(e){var t=this.visualMapModel;var r=this.api;Ho(e,t.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})};r.prototype.doRender=function(e,t,r,a){};r.type="visualMap";return r}(gc);var $B=[["left","right","width"],["top","bottom","height"]];function QB(e,t,r){var a=e.option;var i=a.align;if(i!=null&&i!=="auto"){return i}var n={width:t.getWidth(),height:t.getHeight()};var o=a.orient==="horizontal"?1:0;var s=$B[o];var l=[0,null,10];var u={};for(var c=0;c<3;c++){u[$B[1-o][c]]=l[c];u[s[c]]=c===2?r[0]:a[s[c]]}var v=[["x","width",3],["y","height",0]][o];var f=Fo(u,n,a.padding);return s[(f.margin[v[2]]||0)+f[v[0]]+f[v[1]]*.5<n[v[1]]*.5?0:1]}function eG(e,t){a.each(e||[],(function(e){if(e.dataIndex!=null){e.dataIndexInside=e.dataIndex;e.dataIndex=null}e.highlightKey="visualMap"+(t?t.componentIndex:"")}));return e}var tG=dt;var rG=a.each;var aG=Math.min;var iG=Math.max;var nG=12;var oG=6;var sG=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e._shapes={};e._dataInterval=[];e._handleEnds=[];e._hoverLinkDataIndices=[];return e}r.prototype.init=function(e,r){t.prototype.init.call(this,e,r);this._hoverLinkFromSeriesMouseOver=a.bind(this._hoverLinkFromSeriesMouseOver,this);this._hideIndicator=a.bind(this._hideIndicator,this)};r.prototype.doRender=function(e,t,r,a){if(!a||a.type!=="selectDataRange"||a.from!==this.uid){this._buildView()}};r.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel;var t=this.group;this._orient=e.get("orient");this._useHandle=e.get("calculable");this._resetInterval();this._renderBar(t);var r=e.get("text");this._renderEndsText(t,r,0);this._renderEndsText(t,r,1);this._updateView(true);this.renderBackground(t);this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(t)};r.prototype._renderEndsText=function(e,t,r){if(!t){return}var a=t[1-r];a=a!=null?a+"":"";var i=this.visualMapModel;var n=i.get("textGap");var o=i.itemSize;var s=this._shapes.mainGroup;var l=this._applyTransform([o[0]/2,r===0?-n:o[1]+n],s);var u=this._applyTransform(r===0?"bottom":"top",s);var c=this._orient;var v=this.visualMapModel.textStyleModel;this.group.add(new U({style:tn(v,{x:l[0],y:l[1],verticalAlign:c==="horizontal"?"middle":u,align:c==="horizontal"?u:"center",text:a})}))};r.prototype._renderBar=function(e){var t=this.visualMapModel;var r=this._shapes;var i=t.itemSize;var n=this._orient;var o=this._useHandle;var s=QB(t,this.api,i);var l=r.mainGroup=this._createBarGroup(s);var u=new ue;l.add(u);u.add(r.outOfRange=lG());u.add(r.inRange=lG(null,o?vG(this._orient):null,a.bind(this._dragHandle,this,"all",false),a.bind(this._dragHandle,this,"all",true)));u.setClipPath(new ge({shape:{x:0,y:0,width:i[0],height:i[1],r:3}}));var c=t.textStyleModel.getTextRect("国");var v=iG(c.width,c.height);if(o){r.handleThumbs=[];r.handleLabels=[];r.handleLabelPoints=[];this._createHandle(t,l,0,i,v,n);this._createHandle(t,l,1,i,v,n)}this._createIndicator(t,l,i,v,n);e.add(l)};r.prototype._createHandle=function(e,t,r,i,n,o){var s=a.bind(this._dragHandle,this,r,false);var l=a.bind(this._dragHandle,this,r,true);var u=Re(e.get("handleSize"),i[0]);var c=Pv(e.get("handleIcon"),-u/2,-u/2,u,u,null,true);var v=vG(this._orient);c.attr({cursor:v,draggable:true,drift:s,ondragend:l,onmousemove:function(e){Ke.stop(e.event)}});c.x=i[0]/2;c.useStyle(e.getModel("handleStyle").getItemStyle());c.setStyle({strokeNoScale:true,strokeFirst:true});c.style.lineWidth*=2;c.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle();Qa(c,true);t.add(c);var f=this.visualMapModel.textStyleModel;var h=new U({cursor:v,draggable:true,drift:s,onmousemove:function(e){Ke.stop(e.event)},ondragend:l,style:tn(f,{x:0,y:0,text:""})});h.ensureState("blur").style={opacity:.1};h.stateTransition={duration:200};this.group.add(h);var d=[u,0];var p=this._shapes;p.handleThumbs[r]=c;p.handleLabelPoints[r]=d;p.handleLabels[r]=h};r.prototype._createIndicator=function(e,t,r,i,n){var o=Re(e.get("indicatorSize"),r[0]);var s=Pv(e.get("indicatorIcon"),-o/2,-o/2,o,o,null,true);s.attr({cursor:"move",invisible:true,silent:true,x:r[0]/2});var l=e.getModel("indicatorStyle").getItemStyle();if(s instanceof le){var u=s.style;s.useStyle(a.extend({image:u.image,x:u.x,y:u.y,width:u.width,height:u.height},l))}else{s.useStyle(l)}t.add(s);var c=this.visualMapModel.textStyleModel;var v=new U({silent:true,invisible:true,style:tn(c,{x:0,y:0,text:""})});this.group.add(v);var f=[(n==="horizontal"?i/2:oG)+r[0]/2,0];var h=this._shapes;h.indicator=s;h.indicatorLabel=v;h.indicatorLabelPoint=f;this._firstShowIndicator=true};r.prototype._dragHandle=function(e,t,r,a){if(!this._useHandle){return}this._dragging=!t;if(!t){var i=this._applyTransform([r,a],this._shapes.mainGroup,true);this._updateInterval(e,i[1]);this._hideIndicator();this._updateView()}if(t===!this.visualMapModel.get("realtime")){this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()})}if(t){!this._hovering&&this._clearHoverLinkToSeries()}else if(cG(this.visualMapModel)){this._doHoverLinkToSeries(this._handleEnds[e],false)}};r.prototype._resetInterval=function(){var e=this.visualMapModel;var t=this._dataInterval=e.getSelected();var r=e.getExtent();var a=[0,e.itemSize[1]];this._handleEnds=[tG(t[0],r,a,true),tG(t[1],r,a,true)]};r.prototype._updateInterval=function(e,t){t=t||0;var r=this.visualMapModel;var a=this._handleEnds;var i=[0,r.itemSize[1]];zD(t,a,i,e,0);var n=r.getExtent();this._dataInterval=[tG(a[0],i,n,true),tG(a[1],i,n,true)]};r.prototype._updateView=function(e){var t=this.visualMapModel;var r=t.getExtent();var a=this._shapes;var i=[0,t.itemSize[1]];var n=e?i:this._handleEnds;var o=this._createBarVisual(this._dataInterval,r,n,"inRange");var s=this._createBarVisual(r,r,i,"outOfRange");a.inRange.setStyle({fill:o.barColor}).setShape("points",o.barPoints);a.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints);this._updateHandle(n,o)};r.prototype._createBarVisual=function(e,t,r,a){var i={forceState:a,convertOpacityToAlpha:true};var n=this._makeColorGradient(e,i);var o=[this.getControllerVisual(e[0],"symbolSize",i),this.getControllerVisual(e[1],"symbolSize",i)];var s=this._createBarPoints(r,o);return{barColor:new be(0,0,0,1,n),barPoints:s,handlesColor:[n[0].color,n[n.length-1].color]}};r.prototype._makeColorGradient=function(e,t){var r=100;var a=[];var i=(e[1]-e[0])/r;a.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var n=1;n<r;n++){var o=e[0]+i*n;if(o>e[1]){break}a.push({color:this.getControllerVisual(o,"color",t),offset:n/r})}a.push({color:this.getControllerVisual(e[1],"color",t),offset:1});return a};r.prototype._createBarPoints=function(e,t){var r=this.visualMapModel.itemSize;return[[r[0]-t[0],e[0]],[r[0],e[0]],[r[0],e[1]],[r[0]-t[1],e[1]]]};r.prototype._createBarGroup=function(e){var t=this._orient;var r=this.visualMapModel.get("inverse");return new ue(t==="horizontal"&&!r?{scaleX:e==="bottom"?1:-1,rotation:Math.PI/2}:t==="horizontal"&&r?{scaleX:e==="bottom"?-1:1,rotation:-Math.PI/2}:t==="vertical"&&!r?{scaleX:e==="left"?1:-1,scaleY:-1}:{scaleX:e==="left"?1:-1})};r.prototype._updateHandle=function(e,t){if(!this._useHandle){return}var r=this._shapes;var a=this.visualMapModel;var i=r.handleThumbs;var n=r.handleLabels;var o=a.itemSize;var s=a.getExtent();rG([0,1],(function(l){var u=i[l];u.setStyle("fill",t.handlesColor[l]);u.y=e[l];var c=tG(e[l],[0,o[1]],s,true);var v=this.getControllerVisual(c,"symbolSize");u.scaleX=u.scaleY=v/o[0];u.x=o[0]-v/2;var f=Oi(r.handleLabelPoints[l],Ni(u,this.group));n[l].setStyle({x:f[0],y:f[1],text:a.formatValueText(this._dataInterval[l]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",r.mainGroup):"center"})}),this)};r.prototype._showIndicator=function(e,t,r,a){var i=this.visualMapModel;var n=i.getExtent();var o=i.itemSize;var s=[0,o[1]];var l=this._shapes;var u=l.indicator;if(!u){return}u.attr("invisible",false);var c={convertOpacityToAlpha:true};var v=this.getControllerVisual(e,"color",c);var f=this.getControllerVisual(e,"symbolSize");var h=tG(e,n,s,true);var d=o[0]-f/2;var p={x:u.x,y:u.y};u.y=h;u.x=d;var g=Oi(l.indicatorLabelPoint,Ni(u,this.group));var y=l.indicatorLabel;y.attr("invisible",false);var m=this._applyTransform("left",l.mainGroup);var x=this._orient;var _=x==="horizontal";y.setStyle({text:(r?r:"")+i.formatValueText(t),verticalAlign:_?m:"middle",align:_?"center":m});var b={x:d,y:h,style:{fill:v}};var S={style:{x:g[0],y:g[1]}};if(i.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var w={duration:100,easing:"cubicInOut",additive:true};u.x=p.x;u.y=p.y;u.animateTo(b,w);y.animateTo(S,w)}else{u.attr(b);y.attr(S)}this._firstShowIndicator=false;var M=this._shapes.handleLabels;if(M){for(var I=0;I<M.length;I++){this.api.enterBlur(M[I])}}};r.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",(function(t){e._hovering=true;if(!e._dragging){var r=e.visualMapModel.itemSize;var a=e._applyTransform([t.offsetX,t.offsetY],e._shapes.mainGroup,true,true);a[1]=aG(iG(0,a[1]),r[1]);e._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=r[0])}})).on("mouseout",(function(){e._hovering=false;!e._dragging&&e._clearHoverLinkToSeries()}))};r.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();if(this.visualMapModel.option.hoverLink){e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this);e.on("mouseout",this._hideIndicator,this)}else{this._clearHoverLinkFromSeries()}};r.prototype._doHoverLinkToSeries=function(e,t){var r=this.visualMapModel;var a=r.itemSize;if(!r.option.hoverLink){return}var i=[0,a[1]];var n=r.getExtent();e=aG(iG(i[0],e),i[1]);var o=uG(r,n,i);var s=[e-o,e+o];var l=tG(e,i,n,true);var u=[tG(s[0],i,n,true),tG(s[1],i,n,true)];s[0]<i[0]&&(u[0]=-Infinity);s[1]>i[1]&&(u[1]=Infinity);if(t){if(u[0]===-Infinity){this._showIndicator(l,u[1],"< ",o)}else if(u[1]===Infinity){this._showIndicator(l,u[0],"> ",o)}else{this._showIndicator(l,l,"≈ ",o)}}var c=this._hoverLinkDataIndices;var v=[];if(t||cG(r)){v=this._hoverLinkDataIndices=r.findTargetDataIndices(u)}var f=dr(c,v);this._dispatchHighDown("downplay",eG(f[0],r));this._dispatchHighDown("highlight",eG(f[1],r))};r.prototype._hoverLinkFromSeriesMouseOver=function(e){var t;Sv(e.target,(function(e){var r=Xr(e);if(r.dataIndex!=null){t=r;return true}}),true);if(!t){return}var r=this.ecModel.getSeriesByIndex(t.seriesIndex);var a=this.visualMapModel;if(!a.isTargetSeries(r)){return}var i=r.getData(t.dataType);var n=i.getStore().get(a.getDataDimensionIndex(i),t.dataIndex);if(!isNaN(n)){this._showIndicator(n,n)}};r.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",true);e.indicatorLabel&&e.indicatorLabel.attr("invisible",true);var t=this._shapes.handleLabels;if(t){for(var r=0;r<t.length;r++){this.api.leaveBlur(t[r])}}};r.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",eG(e,this.visualMapModel));e.length=0};r.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver);e.off("mouseout",this._hideIndicator)};r.prototype._applyTransform=function(e,t,r,i){var n=Ni(t,i?null:this.group);return a.isArray(e)?Oi(e,n,r):Ri(e,n,r)};r.prototype._dispatchHighDown=function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})};r.prototype.dispose=function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()};r.type="visualMap.continuous";return r}(JB);function lG(e,t,r,a){return new de({shape:{points:e},draggable:!!r,cursor:t,drift:r,onmousemove:function(e){Ke.stop(e.event)},ondragend:a})}function uG(e,t,r){var a=nG/2;var i=e.get("hoverLinkDataSize");if(i){a=tG(i,t,r,true)/2}return a}function cG(e){var t=e.get("hoverLinkOnHandle");return!!(t==null?e.get("realtime"):t)}function vG(e){return e==="vertical"?"ns-resize":"ew-resize"}var fG={type:"selectDataRange",event:"dataRangeSelected",update:"update"};var hG=function(e,t){t.eachComponent({mainType:"visualMap",query:e},(function(t){t.setSelected(e.selected)}))};var dG=[{createOnAllSeries:true,reset:function(e,t){var r=[];t.eachComponent("visualMap",(function(t){var i=e.pipelineContext;if(!t.isTargetSeries(e)||i&&i.large){return}r.push(iz(t.stateList,t.targetVisuals,a.bind(t.getValueState,t),t.getDataDimensionIndex(e.getData())))}));return r}},{createOnAllSeries:true,reset:function(e,t){var r=e.getData();var i=[];t.eachComponent("visualMap",(function(t){if(t.isTargetSeries(e)){var n=t.getVisualMeta(a.bind(pG,null,e,t))||{stops:[],outerColors:[]};var o=t.getDataDimensionIndex(r);if(o>=0){n.dimension=o;i.push(n)}}}));e.getData().setVisual("visualMeta",i)}}];function pG(e,t,r,a){var i=t.targetVisuals[a];var n=jw.prepareVisualTypes(i);var o={color:yv(e.getData(),"color")};for(var s=0,l=n.length;s<l;s++){var u=n[s];var c=i[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(r,v,f)}return o.color;function v(e){return o[e]}function f(e,t){o[e]=t}}var gG=a.each;function yG(e){var t=e&&e.visualMap;if(!a.isArray(t)){t=t?[t]:[]}gG(t,(function(e){if(!e){return}if(mG(e,"splitList")&&!mG(e,"pieces")){e.pieces=e.splitList;delete e.splitList}var t=e.pieces;if(t&&a.isArray(t)){gG(t,(function(e){if(a.isObject(e)){if(mG(e,"start")&&!mG(e,"min")){e.min=e.start}if(mG(e,"end")&&!mG(e,"max")){e.max=e.end}}}))}}))}function mG(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var xG=false;function _G(e){if(xG){return}xG=true;e.registerSubTypeDefaulter("visualMap",(function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}));e.registerAction(fG,hG);s(dG,(function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)}));e.registerPreprocessor(yG)}function bG(e){e.registerComponentModel(qB);e.registerComponentView(sG);_G(e)}var SG=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;e._pieceList=[];return e}r.prototype.optionUpdated=function(e,r){t.prototype.optionUpdated.apply(this,arguments);this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[];wG[this._mode].call(this,this._pieceList);this._resetSelected(e,r);var n=this.option.categories;this.resetVisual((function(e,t){if(i==="categories"){e.mappingMethod="category";e.categories=a.clone(n)}else{e.dataExtent=this.getExtent();e.mappingMethod="piecewise";e.pieceList=a.map(this._pieceList,(function(e){e=a.clone(e);if(t!=="inRange"){e.visual=null}return e}))}}))};r.prototype.completeVisualOption=function(){var e=this.option;var r={};var i=jw.listVisualTypes();var n=this.isCategory();a.each(e.pieces,(function(e){a.each(i,(function(t){if(e.hasOwnProperty(t)){r[t]=1}}))}));a.each(r,(function(t,r){var i=false;a.each(this.stateList,(function(t){i=i||o(e,t,r)||o(e.target,t,r)}),this);!i&&a.each(this.stateList,(function(t){(e[t]||(e[t]={}))[r]=BB.get(r,t==="inRange"?"active":"inactive",n)}))}),this);function o(e,t,r){return e&&e[t]&&e[t].hasOwnProperty(r)}t.prototype.completeVisualOption.apply(this,arguments)};r.prototype._resetSelected=function(e,t){var r=this.option;var i=this._pieceList;var n=(t?r:e).selected||{};r.selected=n;a.each(i,(function(e,t){var r=this.getSelectedMapKey(e);if(!n.hasOwnProperty(r)){n[r]=true}}),this);if(r.selectedMode==="single"){var o=false;a.each(i,(function(e,t){var r=this.getSelectedMapKey(e);if(n[r]){o?n[r]=false:o=true}}),this)}};r.prototype.getItemSymbol=function(){return this.get("itemSymbol")};r.prototype.getSelectedMapKey=function(e){return this._mode==="categories"?e.value+"":e.index+""};r.prototype.getPieceList=function(){return this._pieceList};r.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"};r.prototype.setSelected=function(e){this.option.selected=a.clone(e)};r.prototype.getValueState=function(e){var t=jw.findPieceIndex(e,this._pieceList);return t!=null?this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange":"outOfRange"};r.prototype.findTargetDataIndices=function(e){var t=[];var r=this._pieceList;this.eachTargetSeries((function(a){var i=[];var n=a.getData();n.each(this.getDataDimensionIndex(n),(function(t,a){var n=jw.findPieceIndex(t,r);n===e&&i.push(a)}),this);t.push({seriesId:a.id,dataIndex:i})}),this);return t};r.prototype.getRepresentValue=function(e){var t;if(this.isCategory()){t=e.value}else{if(e.value!=null){t=e.value}else{var r=e.interval||[];t=r[0]===-Infinity&&r[1]===Infinity?0:(r[0]+r[1])/2}}return t};r.prototype.getVisualMeta=function(e){if(this.isCategory()){return}var t=[];var r=["",""];var i=this;function n(a,n){var o=i.getRepresentValue({interval:a});if(!n){n=i.getValueState(o)}var s=e(o,n);if(a[0]===-Infinity){r[0]=s}else if(a[1]===Infinity){r[1]=s}else{t.push({value:a[0],color:s},{value:a[1],color:s})}}var o=this._pieceList.slice();if(!o.length){o.push({interval:[-Infinity,Infinity]})}else{var s=o[0].interval[0];s!==-Infinity&&o.unshift({interval:[-Infinity,s]});s=o[o.length-1].interval[1];s!==Infinity&&o.push({interval:[s,Infinity]})}var l=-Infinity;a.each(o,(function(e){var t=e.interval;if(t){t[0]>l&&n([l,t[0]],"outOfRange");n(t.slice());l=t[1]}}),this);return{stops:t,outerColors:r}};r.type="visualMap.piecewise";r.defaultOption=An(ZB.defaultOption,{selected:null,minOpen:false,maxOpen:false,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:true});return r}(ZB);var wG={splitNumber:function(e){var t=this.option;var r=Math.min(t.precision,20);var i=this.getExtent();var n=t.splitNumber;n=Math.max(parseInt(n,10),1);t.splitNumber=n;var o=(i[1]-i[0])/n;while(+o.toFixed(r)!==o&&r<5){r++}t.precision=r;o=+o.toFixed(r);if(t.minOpen){e.push({interval:[-Infinity,i[0]],close:[0,0]})}for(var s=0,l=i[0];s<n;l+=o,s++){var u=s===n-1?i[1]:l+o;e.push({interval:[l,u],close:[1,1]})}if(t.maxOpen){e.push({interval:[i[1],Infinity],close:[0,0]})}Nt(e);a.each(e,(function(e,t){e.index=t;e.text=this.formatValueText(e.interval)}),this)},categories:function(e){var t=this.option;a.each(t.categories,(function(t){e.push({text:this.formatValueText(t,true),value:t})}),this);MG(t,e)},pieces:function(e){var t=this.option;a.each(t.pieces,(function(t,r){if(!a.isObject(t)){t={value:t}}var i={text:"",index:r};if(t.label!=null){i.text=t.label}if(t.hasOwnProperty("value")){var n=i.value=t.value;i.interval=[n,n];i.close=[1,1]}else{var o=i.interval=[];var s=i.close=[0,0];var l=[1,0,1];var u=[-Infinity,Infinity];var c=[];for(var v=0;v<2;v++){var f=[["gte","gt","min"],["lte","lt","max"]][v];for(var h=0;h<3&&o[v]==null;h++){o[v]=t[f[h]];s[v]=l[h];c[v]=h===2}o[v]==null&&(o[v]=u[v])}c[0]&&o[1]===Infinity&&(s[0]=0);c[1]&&o[0]===-Infinity&&(s[1]=0);if(o[0]===o[1]&&s[0]&&s[1]){i.value=o[0]}}i.visual=jw.retrieveVisuals(t);e.push(i)}),this);MG(t,e);Nt(e);a.each(e,(function(e){var t=e.close;var r=[["<","≤"][t[1]],[">","≥"][t[0]]];e.text=e.text||this.formatValueText(e.value!=null?e.value:e.interval,false,r)}),this)}};function MG(e,t){var r=e.inverse;if(e.orient==="vertical"?!r:r){t.reverse()}}var IG=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.doRender=function(){var e=this.group;e.removeAll();var t=this.visualMapModel;var r=t.get("textGap");var i=t.textStyleModel;var n=i.getFont();var o=i.getTextColor();var s=this._getItemAlign();var l=t.itemSize;var u=this._getViewData();var c=u.endsText;var v=a.retrieve(t.get("showLabel",true),!c);c&&this._renderEndsText(e,c[0],l,v,s);a.each(u.viewPieceList,(function(i){var u=i.piece;var c=new ue;c.onclick=a.bind(this._onItemClick,this,u);this._enableHoverLink(c,i.indexInModelPieceList);var f=t.getRepresentValue(u);this._createItemSymbol(c,f,[0,0,l[0],l[1]]);if(v){var h=this.visualMapModel.getValueState(f);c.add(new U({style:{x:s==="right"?-r:l[0]+r,y:l[1]/2,text:u.text,verticalAlign:"middle",align:s,font:n,fill:o,opacity:h==="outOfRange"?.5:1}}))}e.add(c)}),this);c&&this._renderEndsText(e,c[1],l,v,s);Bo(t.get("orient"),e,t.get("itemGap"));this.renderBackground(e);this.positionGroup(e)};r.prototype._enableHoverLink=function(e,t){var r=this;e.on("mouseover",(function(){return a("highlight")})).on("mouseout",(function(){return a("downplay")}));var a=function(e){var a=r.visualMapModel;a.option.hoverLink&&r.api.dispatchAction({type:e,batch:eG(a.findTargetDataIndices(t),a)})}};r.prototype._getItemAlign=function(){var e=this.visualMapModel;var t=e.option;if(t.orient==="vertical"){return QB(e,this.api,e.itemSize)}else{var r=t.align;if(!r||r==="auto"){r="left"}return r}};r.prototype._renderEndsText=function(e,t,r,a,i){if(!t){return}var n=new ue;var o=this.visualMapModel.textStyleModel;n.add(new U({style:tn(o,{x:a?i==="right"?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:"middle",align:a?i:"center",text:t})}));e.add(n)};r.prototype._getViewData=function(){var e=this.visualMapModel;var t=a.map(e.getPieceList(),(function(e,t){return{piece:e,indexInModelPieceList:t}}));var r=e.get("text");var i=e.get("orient");var n=e.get("inverse");if(i==="horizontal"?n:!n){t.reverse()}else if(r){r=r.slice().reverse()}return{viewPieceList:t,endsText:r}};r.prototype._createItemSymbol=function(e,t,r){e.add(Pv(this.getControllerVisual(t,"symbol"),r[0],r[1],r[2],r[3],this.getControllerVisual(t,"color")))};r.prototype._onItemClick=function(e){var t=this.visualMapModel;var r=t.option;var i=r.selectedMode;if(!i){return}var n=a.clone(r.selected);var o=t.getSelectedMapKey(e);if(i==="single"||i===true){n[o]=true;a.each(n,(function(e,t){n[t]=t===o}))}else{n[o]=!n[o]}this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:n})};r.type="visualMap.piecewise";return r}(JB);function DG(e){e.registerComponentModel(SG);e.registerComponentView(IG);_G(e)}function TG(e){Eh(bG);Eh(DG)}var CG={label:{enabled:true},decal:{show:false}};var AG=gr();var LG={};function kG(e,t){var r=e.getModel("aria");if(!r.get("enabled")){return}var i=a.clone(CG);a.merge(i.label,e.getLocaleModel().get("aria"),false);a.merge(r.option,i,false);n();o();function n(){var t=r.getModel("decal");var i=t.get("show");if(i){var n=a.createHashMap();e.eachSeries((function(e){if(e.isColorBySeries()){return}var t=n.get(e.type);if(!t){t={};n.set(e.type,t)}AG(e).scope=t}));e.eachRawSeries((function(t){if(e.isSeriesFiltered(t)){return}if(a.isFunction(t.enableAriaDecal)){t.enableAriaDecal();return}var r=t.getData();if(!t.isColorBySeries()){var i=t.getRawData();var n={};var o=AG(t).scope;r.each((function(e){var t=r.getRawIndex(e);n[t]=e}));var s=i.count();i.each((function(e){var a=n[e];var l=i.getName(e)||e+"";var u=Ms(t.ecModel,l,o,s);var v=r.getItemVisual(a,"decal");r.setItemVisual(a,"decal",c(v,u))}))}else{var l=Ms(t.ecModel,t.name,LG,e.getSeriesCount());var u=r.getVisual("decal");r.setVisual("decal",c(u,l))}function c(e,t){var r=e?a.extend(a.extend({},t),e):t;r.dirty=true;return r}}))}}function o(){var i=t.getZr().dom;if(!i){return}var n=e.getLocaleModel().get("aria");var o=r.getModel("label");o.option=a.defaults(o.option,n);if(!o.get("enabled")){return}if(o.get("description")){i.setAttribute("aria-label",o.get("description"));return}var c=e.getSeriesCount();var v=o.get(["data","maxCount"])||10;var f=o.get(["series","maxCount"])||10;var h=Math.min(c,f);var d;if(c<1){return}else{var p=l();if(p){var g=o.get(["general","withTitle"]);d=s(g,{title:p})}else{d=o.get(["general","withoutTitle"])}var y=[];var m=c>1?o.get(["series","multiple","prefix"]):o.get(["series","single","prefix"]);d+=s(m,{seriesCount:c});e.eachSeries((function(e,t){if(t<h){var r=void 0;var a=e.get("name");var i=a?"withName":"withoutName";r=c>1?o.get(["series","multiple",i]):o.get(["series","single",i]);r=s(r,{seriesId:e.seriesIndex,seriesName:e.get("name"),seriesType:u(e.subType)});var n=e.getData();if(n.count()>v){var l=o.get(["data","partialData"]);r+=s(l,{displayCnt:v})}else{r+=o.get(["data","allData"])}var f=o.get(["data","separator","middle"]);var d=o.get(["data","separator","end"]);var p=[];for(var g=0;g<n.count();g++){if(g<v){var m=n.getName(g);var x=n.getValues(g);var _=o.get(["data",m?"withName":"withoutName"]);p.push(s(_,{name:m,value:x.join(f)}))}}r+=p.join(f)+d;y.push(r)}}));var x=o.getModel(["series","multiple","separator"]);var _=x.get("middle");var b=x.get("end");d+=y.join(_)+b;i.setAttribute("aria-label",d)}}function s(e,t){if(!a.isString(e)){return e}var r=e;a.each(t,(function(e,t){r=r.replace(new RegExp("\\{\\s*"+t+"\\s*\\}","g"),e)}));return r}function l(){var t=e.get("title");if(t&&t.length){t=t[0]}return t&&t.text}function u(t){var r=e.getLocaleModel().get(["series","typeNames"]);return r[t]||r.chart}}function PG(e){if(!e||!e.aria){return}var t=e.aria;if(t.show!=null){t.enabled=t.show}t.label=t.label||{};a.each(["description","general","series","data"],(function(e){if(t[e]!=null){t.label[e]=t[e]}}))}function NG(e){e.registerPreprocessor(PG);e.registerVisual(e.PRIORITY.VISUAL.ARIA,kG)}var OG={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"};var RG=function(){function e(e){var t=this._condVal=u(e)?new RegExp(e):G(e)?e:null;if(t==null){var r="";Ut(r)}}e.prototype.evaluate=function(e){var t=typeof e;return u(t)?this._condVal.test(e):c(t)?this._condVal.test(e+""):false};return e}();var EG=function(){function e(){}e.prototype.evaluate=function(){return this.value};return e}();var zG=function(){function e(){}e.prototype.evaluate=function(){var e=this.children;for(var t=0;t<e.length;t++){if(!e[t].evaluate()){return false}}return true};return e}();var VG=function(){function e(){}e.prototype.evaluate=function(){var e=this.children;for(var t=0;t<e.length;t++){if(e[t].evaluate()){return true}}return false};return e}();var BG=function(){function e(){}e.prototype.evaluate=function(){return!this.child.evaluate()};return e}();var GG=function(){function e(){}e.prototype.evaluate=function(){var e=!!this.valueParser;var t=this.getValue;var r=t(this.valueGetterParam);var a=e?this.valueParser(r):null;for(var i=0;i<this.subCondList.length;i++){if(!this.subCondList[i].evaluate(e?a:r)){return false}}return true};return e}();function FG(e,t){if(e===true||e===false){var r=new EG;r.value=e;return r}var a="";if(!YG(e)){Ut(a)}if(e.and){return HG("and",e,t)}else if(e.or){return HG("or",e,t)}else if(e.not){return WG(e,t)}return UG(e,t)}function HG(e,t,r){var a=t[e];var i="";if(!n(a)){Ut(i)}if(!a.length){Ut(i)}var o=e==="and"?new zG:new VG;o.children=f(a,(function(e){return FG(e,r)}));if(!o.children.length){Ut(i)}return o}function WG(e,t){var r=e.not;var a="";if(!YG(r)){Ut(a)}var i=new BG;i.child=FG(r,t);if(!i.child){Ut(a)}return i}function UG(e,t){var r="";var a=t.prepareGetValue(e);var i=[];var n=g(e);var o=e.parser;var s=o?au(o):null;for(var l=0;l<n.length;l++){var u=n[l];if(u==="parser"||t.valueGetterAttrMap.get(u)){continue}var c=_(OG,u)?OG[u]:u;var v=e[u];var f=s?s(v):v;var h=lu(c,f)||c==="reg"&&new RG(f);if(!h){Ut(r)}i.push(h)}if(!i.length){Ut(r)}var d=new GG;d.valueGetterParam=a;d.valueParser=s;d.getValue=t.getValue;d.subCondList=i;return d}function YG(e){return i(e)&&!p(e)}var XG=function(){function e(e,t){this._cond=FG(e,t)}e.prototype.evaluate=function(){return this._cond.evaluate()};return e}();function ZG(e,t){return new XG(e,t)}var jG={type:"echarts:filter",transform:function(e){var t=e.upstream;var r;var a=ZG(e.config,{valueGetterAttrMap:o({dimension:true}),prepareGetValue:function(e){var r="";var a=e.dimension;if(!_(e,"dimension")){Ut(r)}var i=t.getDimensionInfo(a);if(!i){Ut(r)}return{dimIdx:i.index}},getValue:function(e){return t.retrieveValueFromItem(r,e.dimIdx)}});var i=[];for(var n=0,s=t.count();n<s;n++){r=t.getRawDataItem(n);if(a.evaluate()){i.push(r)}}return{data:i}}};var qG={type:"echarts:sort",transform:function(e){var t=e.upstream;var r=e.config;var a="";var i=jt(r);if(!i.length){Ut(a)}var n=[];s(i,(function(e){var r=e.dimension;var i=e.order;var o=e.parser;var s=e.incomparable;if(r==null){Ut(a)}if(i!=="asc"&&i!=="desc"){Ut(a)}if(s&&s!=="min"&&s!=="max"){var l="";Ut(l)}if(i!=="asc"&&i!=="desc"){var u="";Ut(u)}var c=t.getDimensionInfo(r);if(!c){Ut(a)}var v=o?au(o):null;if(o&&!v){Ut(a)}n.push({dimIdx:c.index,parser:v,comparator:new ou(i,s)})}));var o=t.sourceFormat;if(o!==rs&&o!==as){Ut(a)}var l=[];for(var u=0,c=t.count();u<c;u++){l.push(t.getRawDataItem(u))}l.sort((function(e,r){for(var a=0;a<n.length;a++){var i=n[a];var o=t.retrieveValueFromItem(e,i.dimIdx);var s=t.retrieveValueFromItem(r,i.dimIdx);if(i.parser){o=i.parser(o);s=i.parser(s)}var l=i.comparator.evaluate(o,s);if(l!==0){return l}}return 0}));return{data:l}}};function KG(e){e.registerTransform(jG);e.registerTransform(qG)}var JG=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type="dataset";return e}r.prototype.init=function(e,r,a){t.prototype.init.call(this,e,r,a);this._sourceManager=new Pu(this);Nu(this)};r.prototype.mergeOption=function(e,r){t.prototype.mergeOption.call(this,e,r);Nu(this)};r.prototype.optionUpdated=function(){this._sourceManager.dirty()};r.prototype.getSourceManager=function(){return this._sourceManager};r.type="dataset";r.defaultOption={seriesLayoutBy:ss};return r}(qo);var $G=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type="dataset";return e}r.type="dataset";return r}(gc);function QG(e){e.registerComponentModel(JG);e.registerComponentView($G)}function eF(e){return n(e[0])}function tF(e,t){var r=[];var a=e.length;for(var i=0;i<a;i++){r.push({one:e[i],many:[]})}for(var i=0;i<t.length;i++){var n=t[i].length;var o=void 0;for(o=0;o<n;o++){r[o%a].many.push(t[i][o])}}var s=0;for(var i=a-1;i>=0;i--){if(!r[i].many.length){var l=r[s].many;if(l.length<=1){if(s){s=0}else{return r}}var n=l.length;var u=Math.ceil(n/2);r[i].many=l.slice(u,n);r[s].many=l.slice(0,u);s++}}return r}var rF={clone:function(e){var t=[];var r=1-Math.pow(1-e.path.style.opacity,1/e.count);for(var a=0;a<e.count;a++){var i=te(e.path);i.setStyle("opacity",r);t.push(i)}return t},split:null};function aF(e,t,r,a,i,n){if(!e.length||!t.length){return}var o=si("update",a,i);if(!(o&&o.duration>0)){return}var s=a.getModel("universalTransition").get("delay");var l=Object.assign({setToFinal:true},o);var u;var c;if(eF(e)){u=e;c=t}if(eF(t)){u=t;c=e}function v(e,t,a,i,o){var u=e.many;var c=e.one;if(u.length===1&&!o){var f=t?u[0]:c;var h=t?c:u[0];if(st(f)){v({many:[f],one:h},true,a,i,true)}else{var d=s?x({delay:s(a,i)},l):l;lt(f,h,d);n(f,h,f,h,d)}}else{var p=x({dividePath:rF[r],individualDelay:s&&function(e,t,r,n){return s(e+a,i)}},l);var g=t?ut(u,c,p):ct(c,u,p),y=g.fromIndividuals,m=g.toIndividuals;var _=y.length;for(var b=0;b<_;b++){var d=s?x({delay:s(b,_)},l):l;n(y[b],m[b],t?u[b]:e.one,t?e.one:u[b],d)}}}var f=u?u===e:e.length>t.length;var h=u?tF(c,u):tF(f?t:e,[f?e:t]);var d=0;for(var p=0;p<h.length;p++){d+=h[p].many.length}var g=0;for(var p=0;p<h.length;p++){v(h[p],f,g,d);g+=h[p].many.length}}function iF(e){if(!e){return[]}if(n(e)){var t=[];for(var r=0;r<e.length;r++){t.push(iF(e[r]))}return t}var a=[];e.traverse((function(e){if(e instanceof Q&&!e.disableMorphing&&!e.invisible&&!e.ignore){a.push(e)}}));return a}var nF=1e4;var oF=0;var sF=1;var lF=2;var uF=gr();function cF(e,t){var r=e.dimensions;for(var a=0;a<r.length;a++){var i=e.getDimensionInfo(r[a]);if(i&&i.otherDims[t]===0){return r[a]}}}function vF(e,t,r){var a=e.getDimensionInfo(r);var i=a&&a.ordinalMeta;if(a){var n=e.get(a.name,t);if(i){return i.categories[n]||n+""}return n+""}}function fF(e,t,r,a){var i=a?"itemChildGroupId":"itemGroupId";var n=cF(e,i);if(n){var o=vF(e,t,n);return o}var s=e.getRawDataItem(t);var l=a?"childGroupId":"groupId";if(s&&s[l]){return s[l]+""}if(a){return}return r||e.getId(t)}function hF(e){var t=[];s(e,(function(e){var r=e.data;var a=e.dataGroupId;if(r.count()>nF){return}var i=r.getIndices();for(var n=0;n<i.length;n++){t.push({data:r,groupId:fF(r,n,a,false),childGroupId:fF(r,n,a,true),divide:e.divide,dataIndex:n})}}));return t}function dF(e,t,r){e.traverse((function(e){if(e instanceof Q){ci(e,{style:{opacity:0}},t,{dataIndex:r,isFrom:true})}}))}function pF(e){if(e.parent){var t=e.getComputedTransform();e.setLocalTransform(t);e.parent.remove(e)}}function gF(e){e.stopAnimation();if(e.isGroup){e.traverse((function(e){e.stopAnimation()}))}}function yF(e,t,r){var a=si("update",r,t);a&&e.traverse((function(e){if(e instanceof rt){var t=gi(e);if(t){e.animateFrom({style:t},a)}}}))}function mF(e,t){var r=e.length;if(r!==t.length){return false}for(var a=0;a<r;a++){var i=e[a];var n=t[a];if(i.data.getId(i.dataIndex)!==n.data.getId(n.dataIndex)){return false}}return true}function xF(e,t,r){var a=hF(e);var i=hF(t);function n(e,t,r,a,i){if(r||e){t.animateFrom({style:r&&r!==e?d(d({},r.style),e.style):e.style},i)}}var l=false;var u=oF;var c=o();var v=o();a.forEach((function(e){e.groupId&&c.set(e.groupId,true);e.childGroupId&&v.set(e.childGroupId,true)}));for(var h=0;h<i.length;h++){var p=i[h].groupId;if(v.get(p)){u=sF;break}var g=i[h].childGroupId;if(g&&c.get(g)){u=lF;break}}function y(e,t){return function(r){var a=r.data;var i=r.dataIndex;if(t){return a.getId(i)}if(e){return u===sF?r.childGroupId:r.groupId}else{return u===lF?r.childGroupId:r.groupId}}}var m=mF(a,i);var x={};if(!m){for(var h=0;h<i.length;h++){var _=i[h];var b=_.data.getItemGraphicEl(_.dataIndex);if(b){x[b.id]=true}}}function S(e,t){var r=a[t];var o=i[e];var s=o.data.hostModel;var u=r.data.getItemGraphicEl(r.dataIndex);var c=o.data.getItemGraphicEl(o.dataIndex);if(u===c){c&&yF(c,o.dataIndex,s);return}if(u&&x[u.id]){return}if(c){gF(c);if(u){gF(u);pF(u);l=true;aF(iF(u),iF(c),o.divide,s,e,n)}else{dF(c,s,e)}}}new Bh(a,i,y(true,m),y(false,m),null,"multiple").update(S).updateManyToOne((function(e,t){var r=i[e];var o=r.data;var u=o.hostModel;var c=o.getItemGraphicEl(r.dataIndex);var v=D(f(t,(function(e){return a[e].data.getItemGraphicEl(a[e].dataIndex)})),(function(e){return e&&e!==c&&!x[e.id]}));if(c){gF(c);if(v.length){s(v,(function(e){gF(e);pF(e)}));l=true;aF(iF(v),iF(c),r.divide,u,e,n)}else{dF(c,u,r.dataIndex)}}})).updateOneToMany((function(e,t){var r=a[t];var o=r.data.getItemGraphicEl(r.dataIndex);if(o&&x[o.id]){return}var u=D(f(e,(function(e){return i[e].data.getItemGraphicEl(i[e].dataIndex)})),(function(e){return e&&e!==o}));var c=i[e[0]].data.hostModel;if(u.length){s(u,(function(e){return gF(e)}));if(o){gF(o);pF(o);l=true;aF(iF(o),iF(u),r.divide,c,e[0],n)}else{s(u,(function(t){return dF(t,c,e[0])}))}}})).updateManyToMany((function(e,t){new Bh(t,e,(function(e){return a[e].data.getId(a[e].dataIndex)}),(function(e){return i[e].data.getId(i[e].dataIndex)})).update((function(r,a){S(e[r],t[a])})).execute()})).execute();if(l){s(t,(function(e){var t=e.data;var a=t.hostModel;var i=a&&r.getViewOfSeriesModel(a);var n=si("update",a,0);if(i&&a.isAnimationEnabled()&&n&&n.duration>0){i.group.traverse((function(e){if(e instanceof Q&&!e.animators.length){e.animateFrom({style:{opacity:0}},n)}}))}}))}}function _F(e){var t=e.getModel("universalTransition").get("seriesKey");if(!t){return e.id}return t}function bF(e){if(n(e)){return e.sort().join(",")}return e}function SF(e){if(e.hostModel){return e.hostModel.getModel("universalTransition").get("divideShape")}}function wF(e,t){var r=o();var a=o();var i=o();s(e.oldSeries,(function(t,r){var o=e.oldDataGroupIds[r];var l=e.oldData[r];var u=_F(t);var c=bF(u);a.set(c,{dataGroupId:o,data:l});if(n(u)){s(u,(function(e){i.set(e,{key:c,dataGroupId:o,data:l})}))}}));s(t.updatedSeries,(function(e){if(e.isUniversalTransitionEnabled()&&e.isAnimationEnabled()){var t=e.get("dataGroupId");var o=e.getData();var l=_F(e);var u=bF(l);var c=a.get(u);if(c){r.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:SF(c.data),data:c.data}],newSeries:[{dataGroupId:t,divide:SF(o),data:o}]})}else{if(n(l)){var v=[];s(l,(function(e){var t=a.get(e);if(t.data){v.push({dataGroupId:t.dataGroupId,divide:SF(t.data),data:t.data})}}));if(v.length){r.set(u,{oldSeries:v,newSeries:[{dataGroupId:t,data:o,divide:SF(o)}]})}}else{var f=i.get(l);if(f){var h=r.get(f.key);if(!h){h={oldSeries:[{dataGroupId:f.dataGroupId,data:f.data,divide:SF(f.data)}],newSeries:[]};r.set(f.key,h)}h.newSeries.push({dataGroupId:t,data:o,divide:SF(o)})}}}}}));return r}function MF(e,t){for(var r=0;r<e.length;r++){var a=t.seriesIndex!=null&&t.seriesIndex===e[r].seriesIndex||t.seriesId!=null&&t.seriesId===e[r].id;if(a){return r}}}function IF(e,t,r,a){var i=[];var n=[];s(jt(e.from),(function(e){var r=MF(t.oldSeries,e);if(r>=0){i.push({dataGroupId:t.oldDataGroupIds[r],data:t.oldData[r],divide:SF(t.oldData[r]),groupIdDim:e.dimension})}}));s(jt(e.to),(function(e){var a=MF(r.updatedSeries,e);if(a>=0){var i=r.updatedSeries[a].getData();n.push({dataGroupId:t.oldDataGroupIds[a],data:i,divide:SF(i),groupIdDim:e.dimension})}}));if(i.length>0&&n.length>0){xF(i,n,a)}}function DF(e){e.registerUpdateLifecycle("series:beforeupdate",(function(e,t,r){s(jt(r.seriesTransition),(function(e){s(jt(e.to),(function(e){var t=r.updatedSeries;for(var a=0;a<t.length;a++){if(e.seriesIndex!=null&&e.seriesIndex===t[a].seriesIndex||e.seriesId!=null&&e.seriesId===t[a].id){t[a][oc]=true}}}))}))}));e.registerUpdateLifecycle("series:transition",(function(e,t,r){var a=uF(t);if(a.oldSeries&&r.updatedSeries&&r.optionChanged){var i=r.seriesTransition;if(i){s(jt(i),(function(e){IF(e,a,r,t)}))}else{var n=wF(a,r);s(n.keys(),(function(e){var r=n.get(e);xF(r.oldSeries,r.newSeries,t)}))}s(r.updatedSeries,(function(e){if(e[oc]){e[oc]=false}}))}var o=e.getSeries();var l=a.oldSeries=[];var u=a.oldDataGroupIds=[];var c=a.oldData=[];for(var v=0;v<o.length;v++){var f=o[v].getData();if(f.count()<nF){l.push(o[v]);u.push(o[v].get("dataGroupId"));c.push(f)}}}))}Eh([Py]);Eh([ky]);Eh([Tm,sx,Cx,U_,nb,bS,pw,BM,$I,nD,dD,lC,BC,tA,IA,LA,YA,QA,TL,RL,JL,IP]);Eh(xN);Eh(rO);Eh(_S);Eh(SO);Eh(sC);Eh(AO);Eh(ZO);Eh(yE);Eh(qE);Eh(mN);Eh(Dz);Eh(Az);Eh(Zz);Eh(pV);Eh(IV);Eh(EV);Eh(sB);Eh(VB);Eh(SB);Eh(zB);Eh(TG);Eh(bG);Eh(DG);Eh(NG);Eh(KG);Eh(QG);Eh(DF);Eh(Ly);export{Vg as Axis,_c as ChartView,qo as ComponentModel,gc as ComponentView,hd as List,Mn as Model,df as PRIORITY,sc as SeriesModel,uh as connect,Nh as dataTool,Kv as dependencies,vh as disConnect,ch as disconnect,fh as dispose,Ug as extendChartView,Fg as extendComponentModel,Hg as extendComponentView,Wg as extendSeriesModel,xg as format,wh as getCoordinateSystemDimensions,hh as getInstanceByDom,dh as getInstanceById,kh as getMap,mg as graphic,rg as helper,lh as init,gg as number,pg as parseGeoJSON,pg as parseGeoJson,bh as registerAction,Sh as registerCoordinateSystem,Mh as registerLayout,Ch as registerLoading,Vn as registerLocale,Lh as registerMap,mh as registerPostInit,xh as registerPostUpdate,gh as registerPreprocessor,yh as registerProcessor,ph as registerTheme,Ph as registerTransform,_h as registerUpdateLifecycle,Ih as registerVisual,Ah as setCanvasCreator,Ac as throttle,yg as time,Eh as use,_g as util,qv as version};export default null;
//# sourceMappingURL=/sm/644d152e4e8bb66938fdd6b528335b917521f3eb85ef09e4f1c7cd9271585dad.map